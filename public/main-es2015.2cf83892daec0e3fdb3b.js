(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/KFi":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,i){e(n,i,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(i){u(o[0][3],i)}var n}function c(t){a("next",t)}function l(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"/vgl":function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return i}))},0:function(t,e,n){t.exports=n("zUnb")},"1MAX":function(t,e,n){"use strict";var i=n("dUuy"),r=n("i9P/"),o=n("sWLk"),s=n("qEfY"),a=n("eY+9"),c=n("/vgl"),l=n("X0qr");n.d(e,"a",(function(){return u}));const u=t=>{if(t&&"function"==typeof t[s.a])return u=t,t=>{const e=u[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,r.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,u}},"25CY":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"3lSR":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("cJ9h"),r=n("5E2i");function o(t=Number.POSITIVE_INFINITY){return Object(i.a)(r.a,t)}},"3mST":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("5uGe");function r(t){return e=>e.lift(new o(t))}class o{constructor(t){this.total=t}call(t,e){return e.subscribe(new s(t,this.total))}}class s extends i.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},"47ST":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("IdLP");function r(t,e){return new i.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},"4e/d":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("pBDD"),r=n("r9RI"),o=n("mW0F");function s(t){return function(e){const n=new a(t),i=e.lift(n);return n.caught=i}}class a{constructor(t){this.selector=t}call(t,e){return e.subscribe(new c(t,this.selector,this.caught))}}class c extends i.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new r.a(this,void 0,void 0);this.add(i);const s=Object(o.a)(this,n,void 0,void 0,i);s!==i&&this.add(s)}}}},"5E2i":function(t,e,n){"use strict";function i(t){return t}n.d(e,"a",(function(){return i}))},"5uDM":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("cJ9h");function r(t,e){return Object(i.a)(t,e,1)}},"5uGe":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("IJgj"),r=n("rWo0"),o=n("bwdy"),s=n("25CY"),a=n("HgnN"),c=n("i9P/");class l extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=r.a;break;case 1:if(!t){this.destination=r.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const i=new l(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends l{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(i.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==r.a&&(a=Object.create(e),Object(i.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(Object(c.a)(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"6AkR":function(t,e,n){"use strict";n.r(e);var i=n("plFh"),r=n.n(i);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,i){if(i){var r=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in r||(r[s]={}),r=r[s]}(i=i(o=r[t=t[t.length-1]]))!=o&&null!=i&&e(r,t,{configurable:!0,writable:!0,value:i})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function i(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;i.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;i.prototype.c=function(t){s(t,0)},i.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(i){this.f(i)}}}this.a=null},i.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(i){n||(n=!0,t.call(e,i))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new i;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(i){n.reject(i)}},e.prototype.then=function(t,n){function i(t,e){return"function"==typeof t?function(e){try{r(t(e))}catch(n){o(n)}}:e}var r,o,s=new e((function(t,e){r=t,o=e}));return this.Oa(i(t,r),i(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(i.b){case 1:t(i.c);break;case 2:e(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=o(t),s=i.next();!s.done;s=i.next())r(s.value).Oa(e,n)}))},e.all=function(t){var n=o(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Oa(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},a=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function u(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,g)&&t[g]||(t[g]=++y)}var g="closure_uid_"+(1e9*Math.random()>>>0),y=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:_).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function x(t,e,n){this.code=T+t,this.message=e||k[t]||"",this.a=n||null}function S(t){var e=t&&t.code;return e?new x(e.substring(T.length),t.message,t.serverResponse):null}C(x,Error),x.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},x.prototype.toJSON=function(){return this.v()};var O,T="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},I={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function A(t){for(var e in I)if(I[e].id===t)return{firebaseEndpoint:(t=I[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",i=(t=t.split("%s")).length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");P.call(this,n+t[i])}function D(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function L(){this.b=this.a=null}O=A("__EID__")?"__EID__":void 0,C(P,Error),P.prototype.name="CustomError",C(R,P),R.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new M((function(){return new U}),(function(t){t.reset()}));function V(){var t=ge,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}L.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var B=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r="string"==typeof t?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},q=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=[],r=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(i[r++]=a)}return i},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),r="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in r&&(i[o]=e.call(void 0,r[o],o,t));return i},H=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t))return!0;return!1};function G(t,e){return 0<=B(t,e)}function Q(t,e){var n;return(n=0<=(e=B(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,i=t.length-1;0<=i;--i)i in n&&e.call(void 0,n[i],i,t)}(t,(function(n,i){e.call(void 0,n,i,t)&&Array.prototype.splice.call(t,i,1)}))}function $(t){return Array.prototype.concat.apply([],arguments)}function Y(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}var X,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},J=/&/g,tt=/</g,et=/>/g,nt=/"/g,it=/'/g,rt=/\x00/g,ot=/[\x00&<>"']/;function st(t,e){return-1!=t.indexOf(e)}function at(t,e){return t<e?-1:t>e?1:0}t:{var ct=a.navigator;if(ct){var lt=ct.userAgent;if(lt){X=lt;break t}}X=""}function ut(t){return st(X,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function ft(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function gt(t,e){t:{try{var n=t&&t.ownerDocument,i=n&&(n.defaultView||n.parentWindow);if((i=i||a).Element&&i.Location){var r=i;break t}}catch(s){}r=null}if(r&&void 0!==r[e]&&(!t||!(t instanceof r[e])&&(t instanceof r.Location||t instanceof r.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===bt&&e||"",this.b=_t}function vt(t){return t instanceof yt&&t.constructor===yt&&t.b===_t?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.ra=!0,yt.prototype.qa=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t={},bt={},wt=new yt(bt,"");function Et(t,e){this.a=t===kt&&e||"",this.b=Tt}function Ct(t){return t instanceof Et&&t.constructor===Et&&t.b===Tt?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function xt(t,e){var n=vt(t);if(!Ot.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(St,(function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[i])instanceof yt?vt(t):encodeURIComponent(String(t))})),new Et(kt,t)}Et.prototype.ra=!0,Et.prototype.qa=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var St=/%{(\w+)}/g,Ot=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Tt={},kt={};function It(t,e){this.a=t===Dt&&e||"",this.b=Rt}function At(t){return t instanceof It&&t.constructor===It&&t.b===Rt?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}It.prototype.ra=!0,It.prototype.qa=function(){return this.a.toString()},It.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Pt(t){return t instanceof It?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Nt.test(t)||(t="about:invalid#zClosurez"),new It(Dt,t))}var Rt={},Dt={};function Mt(){this.a="",this.b=Lt}function jt(t){return t instanceof Mt&&t.constructor===Mt&&t.b===Lt?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}Mt.prototype.ra=!0,Mt.prototype.qa=function(){return this.a.toString()},Mt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Lt={};function Ft(t){var e=new Mt;return e.a=t,e}Ft("<!DOCTYPE html>");var Vt=Ft("");function Ut(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function Bt(t){return ot.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(J,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(tt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(et,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(nt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function zt(t){return zt[" "](t),t}Ft("<br>"),zt[" "]=u;var qt,Wt,Ht=ut("Opera"),Gt=ut("Trident")||ut("MSIE"),Qt=ut("Edge"),Kt=Qt||Gt,$t=ut("Gecko")&&!(st(X.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Yt=st(X.toLowerCase(),"webkit")&&!ut("Edge");function Xt(){var t=a.document;return t?t.documentMode:void 0}t:{var Zt="",Jt=(Wt=X,$t?/rv:([^\);]+)(\)|;)/.exec(Wt):Qt?/Edge\/([\d\.]+)/.exec(Wt):Gt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Yt?/WebKit\/(\S+)/.exec(Wt):Ht?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(Jt&&(Zt=Jt?Jt[1]:""),Gt){var te=Xt();if(null!=te&&te>parseFloat(Zt)){qt=String(te);break t}}qt=Zt}var ee,ne={};function ie(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Z(String(qt)).split("."),i=Z(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=at(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||at(0==s[2].length,0==a[2].length)||at(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}ee=a.document&&Gt?Xt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var re=!Gt||9<=Number(ee);function oe(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function se(t,e){ht(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:le.hasOwnProperty(n)?t.setAttribute(le[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var ae,ce,le={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ue(t,e,n){function i(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var r=2;r<n.length;r++){var o=n[r];!d(o)||p(o)&&0<o.nodeType?i(o):z(de(o)?Y(o):o,i)}}function he(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function de(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function fe(t){a.setTimeout((function(){throw t}),0)}function pe(t,e){ce||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);ce=function(){t.then(ye)}}else ce=function(){var t=ye;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!ut("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(ae||(ae=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=he(document,"IFRAME");t.style.display="none",function(t){var e=new Et(kt,vt(wt));gt(t,"HTMLIFrameElement"),t.src=Ct(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(jt(Vt)),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=b((function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),void 0!==t&&!ut("Trident")&&!ut("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){i.next={Db:t},i=i.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),ae(t)):a.setImmediate(t)}}(),me||(ce(),me=!0),ge.add(t,e)}var me=!1,ge=new L;function ye(){for(var t;t=V();){try{t.a.call(t.b)}catch(e){fe(e)}j(F,t)}me=!1}function ve(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=u)try{var n=this;t.call(e,(function(t){Ne(n,be,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,we,t)}))}catch(i){Ne(this,we,i)}}var _e=0,be=2,we=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new M((function(){return new Ee}),(function(t){t.reset()}));function xe(t,e,n){var i=Ce.get();return i.g=t,i.b=e,i.f=n,i}function Se(t){if(t instanceof ve)return t;var e=new ve(u);return Ne(e,be,t),e}function Oe(t){return new ve((function(e,n){n(t)}))}function Te(t,e,n){Pe(t,e,n,null)||pe(w(e,t))}function ke(t){return new ve((function(e){var n=t.length,i=[];if(n)for(var r=function(t,r,o){n--,i[t]=r?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(i)},o=0;o<t.length;o++)Te(t[o],w(r,o,!0),w(r,o,!1));else e(i)}))}function Ie(t,e){t.b||t.a!=be&&t.a!=we||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ae(t,e,n,i){var r=xe(null,null,null);return r.a=new ve((function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(s){o(s)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof Fe?o(e):t(r)}catch(s){o(s)}}:o})),r.a.c=t,Ie(t,r),r.a}function Ne(t,e,n){t.a==_e&&(t===n&&(e=we,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=we||n instanceof Fe||function(t,e){t.g=!0,pe((function(){t.g&&Le.call(null,e)}))}(t,n)))}function Pe(t,e,n,i){if(t instanceof ve)return Ie(t,xe(e||u,n||null,i)),!0;if(N(t))return t.then(e,n,i),!0;if(p(t))try{var r=t.then;if(f(r))return function(t,e,n,i,r){function o(t){s||(s=!0,i.call(r,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(r,t))}),o)}catch(a){o(a)}}(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function Re(t){t.h||(t.h=!0,pe(t.ec,t))}function De(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Me(t,e,n,i){if(n==we&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,je(e,n,i);else try{e.c?e.g.call(e.f):je(e,n,i)}catch(r){Le.call(null,r)}j(Ce,e)}function je(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ve.prototype.then=function(t,e,n){return Ae(this,f(t)?t:null,f(e)?e:null,n)},ve.prototype.$goog_Thenable=!0,(t=ve.prototype).ma=function(t,e){return(t=xe(t,t,e)).c=!0,Ie(this,t),this},t.o=function(t,e){return Ae(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new Fe(t);pe((function(){!function t(e,n){if(e.a==_e)if(e.c){var i=e.c;if(i.b){for(var r=0,o=null,s=null,a=i.b;a&&(a.c||(r++,a.a==e&&(o=a),!(o&&1<r)));a=a.next)o||(s=a);o&&(i.a==_e&&1==r?t(i,n):(s?((r=s).next==i.f&&(i.f=r),r.next=r.next.next):De(i),Me(i,o,we,n)))}e.c=null}else Ne(e,we,n)}(this,e)}),this)}},t.Yc=function(t){this.a=_e,Ne(this,be,t)},t.Zc=function(t){this.a=_e,Ne(this,we,t)},t.ec=function(){for(var t;t=De(this);)Me(this,t,this.a,this.i);this.h=!1};var Le=fe;function Fe(t){P.call(this,t)}function Ve(){0!=Ue&&(Be[m(this)]=this),this.wa=this.wa,this.na=this.na}C(Fe,P),Fe.prototype.name="cancel";var Ue=0,Be={};function ze(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Ue)){var e=m(t);if(0!=Ue&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Be[e]}}Ve.prototype.wa=!1,Ve.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var qe=Object.freeze||function(t){return t},We=!Gt||9<=Number(ee),He=Gt&&!ie("9"),Ge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",u,e),a.removeEventListener("test",u,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ke(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{zt(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$e[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},C(Ke,Qe);var $e=qe({2:"touch",3:"pen",4:"mouse"});Ke.prototype.preventDefault=function(){Ke.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ke.prototype.f=function(){return this.a};var Ye="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Ze(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.Ta=r,this.key=++Xe,this.ua=this.Na=!1}function Je(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function tn(t){this.src=t,this.a={},this.b=0}function en(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(Je(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function nn(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==i)return r}return-1}tn.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=nn(t,e,i,r);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Ze(e,this.src,o,!!i,r)).Na=n,t.push(e)),e};var rn="closure_lm_"+(1e6*Math.random()|0),on={};function sn(t,e,n,i,r){if(i&&i.once)cn(t,e,n,i,r);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,i,r);else n=yn(n),t&&t[Ye]?_n(t,e,n,p(i)?!!i.capture:!!i,r):an(t,e,n,!1,i,r)}function an(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=p(r)?!!r.capture:!!r,a=mn(t);if(a||(t[rn]=a=new tn(t)),!(n=a.add(e,n,i,s,o)).proxy)if(i=function(){var t=pn,e=We?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)Ge||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(hn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}}function cn(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,i,r);else n=yn(n),t&&t[Ye]?bn(t,e,n,p(i)?!!i.capture:!!i,r):an(t,e,n,!0,i,r)}function ln(t,e,n,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,i,r);else i=p(i)?!!i.capture:!!i,n=yn(n),t&&t[Ye]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=nn(o=t.a[e],n,i,r))&&(Je(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nn(e,n,i,r)),(n=-1<t?e[t]:null)&&un(n))}function un(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ye])en(e.u,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(hn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=mn(e))?(en(n,t),0==n.b&&(n.src=null,e[rn]=null)):Je(t)}}}function hn(t){return t in on?on[t]:on[t]="on"+t}function dn(t,e,n,i){var r=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=fn(o,i),r=r&&!1!==o)}return r}function fn(t,e){var n=t.listener,i=t.Ta||t.src;return t.Na&&un(t),n.call(i,e)}function pn(t,e){if(t.ua)return!0;if(!We){if(!e)t:{e=["window","event"];for(var n=a,i=0;i<e.length;i++)if(null==(n=n[e[i]])){e=null;break t}e=n}if(e=new Ke(i=e,this),n=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){r=!0}(r||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=dn(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=dn(i[r],t,!1,e),n=n&&o}return n}return fn(t,new Ke(e,this))}function mn(t){return(t=t[rn])instanceof tn?t:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return f(t)?t:(t[gn]||(t[gn]=function(e){return t.handleEvent(e)}),t[gn])}function vn(){Ve.call(this),this.u=new tn(this),this.Yb=this,this.eb=null}function _n(t,e,n,i,r){t.u.add(String(e),n,!1,i,r)}function bn(t,e,n,i,r){t.u.add(String(e),n,!0,i,r)}function wn(t,e,n,i){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,c=s.Ta||s.src;s.Na&&en(t.u,s),r=!1!==a.call(c,i)&&r}}return r&&!i.defaultPrevented}function En(t,e,n){if(f(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Cn(t){var e=null;return new ve((function(n,i){-1==(e=En((function(){n(void 0)}),t))&&i(Error("Failed to schedule timer."))})).o((function(t){throw a.clearTimeout(e),t}))}function xn(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function Sn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function On(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof On)for(n=t.X(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Tn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];kn(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)kn(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function kn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}C(vn,Ve),vn.prototype[Ye]=!0,vn.prototype.addEventListener=function(t,e,n,i){sn(this,t,e,n,i)},vn.prototype.removeEventListener=function(t,e,n,i){ln(this,t,e,n,i)},vn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var i=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var r=t;mt(t=new Qe(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];r=wn(s,i,!0,t)&&r}if(r=wn(s=t.b=n,i,!0,t)&&r,r=wn(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=wn(s=t.b=e[o],i,!1,t)&&r;return r},vn.prototype.Ba=function(){if(vn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)Je(n[i]);delete e.a[t],e.b--}}this.eb=null},(t=On.prototype).V=function(){Tn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return Tn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return kn(this.b,t)?this.b[t]:e},t.set=function(t,e){kn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var In=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function An(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof An?(this.h=void 0!==e?e:t.h,Nn(this,t.f),this.i=t.i,this.b=t.b,Pn(this,t.l),this.c=t.c,Rn(this,Zn(t.a)),this.g=t.g):t&&(n=String(t).match(In))?(this.h=!!e,Nn(this,n[1]||"",!0),this.i=Fn(n[2]||""),this.b=Fn(n[3]||"",!0),Pn(this,n[4]),this.c=Fn(n[5]||"",!0),Rn(this,n[6]||"",!0),this.g=Fn(n[7]||"")):(this.h=!!e,this.a=new Gn(null,this.h))}function Nn(t,e,n){t.f=n?Fn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Rn(t,e,n){e instanceof Gn?(t.a=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&($n(this,e),Xn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Vn(e,Wn)),t.a=new Gn(e,t.h))}function Dn(t,e,n){t.a.set(e,n)}function Mn(t,e){return t.a.get(e)}function jn(t){return t instanceof An?new An(t):new An(t,void 0)}function Ln(t,e){var n=new An(null,void 0);return Nn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Fn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Un),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Un(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}An.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Vn(e,Bn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Vn(e,Bn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vn(n,"/"==n.charAt(0)?qn:zn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Vn(n,Hn)),t.join("")},An.prototype.resolve=function(t){var e=new An(this),n=!!t.f;n?Nn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var i=t.c;if(n)Pn(e,t.l);else if(n=!!t.c){if("/"!=i.charAt(0))if(this.b&&!this.c)i="/"+i;else{var r=e.c.lastIndexOf("/");-1!=r&&(i=e.c.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(st(r,"./")||st(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.c=i:n=""!==t.a.toString(),n?Rn(e,Zn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Bn=/[#\/\?@]/g,zn=/[#\?:]/g,qn=/[#\?]/g,Wn=/[#\?@]/g,Hn=/#/g;function Gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new On,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Kn(t){var e=Sn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Gn(null,void 0);t=xn(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];Array.isArray(o)?Xn(n,r,o):n.add(r,o)}return n}function $n(t,e){Qn(t),e=Jn(t,e),kn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,kn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Tn(t)))}function Yn(t,e){return Qn(t),e=Jn(t,e),kn(t.a.b,e)}function Xn(t,e,n){$n(t,e),0<n.length&&(t.c=null,t.a.set(Jn(t,e),Y(n)),t.b+=n.length)}function Zn(t){var e=new Gn;return e.c=t.c,t.a&&(e.a=new On(t.a),e.b=t.b),e}function Jn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function ti(t){var e=[];return function t(e,n,i){if(null==n)i.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var r=n;n=r.length,i.push("[");for(var o="",s=0;s<n;s++)i.push(o),t(e,r[s],i),o=",";return void i.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(r in i.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,r)&&"function"!=typeof(s=n[r])&&(i.push(o),ri(r,i),i.push(":"),t(e,s,i),o=",");return void i.push("}")}n=n.valueOf()}switch(typeof n){case"string":ri(n,i);break;case"number":i.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":i.push(String(n));break;case"function":i.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new ei,t,e),e.join("")}function ei(){}(t=Gn.prototype).add=function(t,e){Qn(this),this.c=null,t=Jn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach((function(n,i){z(n,(function(n){t.call(e,n,i,this)}),this)}),this)},t.X=function(){Qn(this);for(var t=this.a.V(),e=this.a.X(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.V=function(t){Qn(this);var e=[];if("string"==typeof t)Yn(this,t)&&(e=$(e,this.a.get(Jn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Yn(this,t=Jn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.V(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")};var ni={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ii=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ri(t,e){e.push('"',t.replace(ii,(function(t){var e=ni[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ni[t]=e),e})),'"')}function oi(){var t=Ci();return Gt&&!!ee&&11==ee||/Edge\/\d+/.test(t)}function si(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function ai(t,e){e=e||a.window;var n="about:blank";t&&(n=At(Pt(t))),e.location.href=n}function ci(t){return!!((t=(t||Ci()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function li(t){t=t||a.window;try{t.close()}catch(e){}}function ui(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ci().toLowerCase(),i&&(e.target=i,st(n,"crios/")&&(e.target="_blank")),bi(Ci())==_i&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof It?n:Pt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(s){case"width":case"height":case"top":case"left":r.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(s+"="+(t[s]?1:0))}var s=r.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(gt(s=he(document,"A"),"HTMLAnchorElement"),e instanceof It||e instanceof It||(e="object"==typeof e&&e.ra?e.qa():String(e),Nt.test(e)||(e="about:invalid#zClosurez"),e=new It(Dt,e)),s.href=At(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,i,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=i.open("",n,s),t=At(e),s&&(Kt&&st(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Ft('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Bt(t)+'">'),i=s.document)&&(i.write(jt(t)),i.close())):(s=i.open(At(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var hi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,di=/^[^@]+@[^@]+$/;function fi(){var t=null;return new ve((function(e){"complete"==a.document.readyState?e():(t=function(){e()},cn(window,"load",t))})).o((function(e){throw ln(window,"load",t),e}))}function pi(t){return t=t||Ci(),!("file:"!==ki()&&"ionic:"!==ki()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function mi(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function gi(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function yi(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":gi()?"Worker":"Browser"}function vi(){var t=yi();return"ReactNative"===t||"Node"===t}var _i="Firefox";function bi(t){var e=t.toLowerCase();return st(e,"opera/")||st(e,"opr/")||st(e,"opios/")?"Opera":st(e,"iemobile")?"IEMobile":st(e,"msie")||st(e,"trident/")?"IE":st(e,"edge/")?"Edge":st(e,"firefox/")?_i:st(e,"silk/")?"Silk":st(e,"blackberry")?"Blackberry":st(e,"webos")?"Webos":!st(e,"safari/")||st(e,"chrome/")||st(e,"crios/")||st(e,"android")?!st(e,"chrome/")&&!st(e,"crios/")||st(e,"edge/")?st(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var wi={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Ei(t,e){e=e||[];var n,i=[],r={};for(n in wi)r[wi[n]]=!0;for(n=0;n<e.length;n++)void 0!==r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),(e=i).length||(e=["FirebaseCore-web"]),"Browser"===(i=yi())?i=bi(r=Ci()):"Worker"===i&&(i=bi(r=Ci())+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function Ci(){return a.navigator&&a.navigator.userAgent||""}function xi(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Si(){try{var t=a.localStorage,e=Ri();if(t)return t.setItem(e,"1"),t.removeItem(e),!oi()||!!a.indexedDB}catch(n){return gi()&&!!a.indexedDB}return!1}function Oi(){return(Ti()||"chrome-extension:"===ki()||pi())&&!vi()&&Si()&&!gi()}function Ti(){return"http:"===ki()||"https:"===ki()}function ki(){return a.location&&a.location.protocol||null}function Ii(t){return!ci(t=t||Ci())&&bi(t)!=_i}function Ai(t){return void 0===t?null:ti(t)}function Ni(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Pi(t){if(null!==t)return JSON.parse(t)}function Ri(t){return t||Math.floor(1e9*Math.random()).toString()}function Di(t){return"Safari"!=bi(t=t||Ci())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Mi(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function ji(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ci(),e=yi(),this.b=ci(t)||"ReactNative"===e}function Li(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Fi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Vi(){return!(!xi("fireauth.oauthhelper",a)&&!xi("fireauth.iframe",a))}ji.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Ti()&&"chrome-extension:"!==ki()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Ui,Bi={};function zi(t){Bi[t]||(Bi[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var qi={};Object.defineProperty(qi,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qi,"abcd",{configurable:!0,enumerable:!0,value:2}),Ui=2==qi.abcd}catch(Wt){Ui=!1}function Wi(t,e,n){Ui?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Hi(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wi(t,n,e[n])}function Gi(t){var e={};return Hi(e,t),e}function Qi(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wi(e,n,Qi(t[n]));return e}function Ki(t){var e=t&&(t[Ji]?"phone":null);if(!(e&&t&&t[Zi]))throw new x("internal-error","Internal assert: invalid MultiFactorInfo object");Wi(this,"uid",t[Zi]),Wi(this,"displayName",t[Yi]||null);var n=null;t[Xi]&&(n=new Date(t[Xi]).toUTCString()),Wi(this,"enrollmentTime",n),Wi(this,"factorId",e)}function $i(t){try{var e=new tr(t)}catch(n){e=null}return e}Ki.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Yi="displayName",Xi="enrolledAt",Zi="mfaEnrollmentId",Ji="phoneInfo";function tr(t){Ki.call(this,t),Wi(this,"phoneNumber",t[Ji])}function er(t){var e={},n=t[or],i=t[ar],r=t[cr];if(t=$i(t[sr]),!r||r!=ir&&r!=rr&&!n||r==rr&&!i||r==nr&&!t)throw Error("Invalid checkActionCode response!");r==rr?(e[ur]=n||null,e[dr]=n||null,e[lr]=i):(e[ur]=i||null,e[dr]=i||null,e[lr]=n||null),e[hr]=t||null,Wi(this,pr,r),Wi(this,fr,Qi(e))}C(tr,Ki),tr.prototype.v=function(){var t=tr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var nr="REVERT_SECOND_FACTOR_ADDITION",ir="EMAIL_SIGNIN",rr="VERIFY_AND_CHANGE_EMAIL",or="email",sr="mfaInfo",ar="newEmail",cr="requestType",lr="email",ur="fromEmail",hr="multiFactorInfo",dr="previousEmail",fr="data",pr="operation";function mr(t){var e=Mn(t=jn(t),gr)||null,n=Mn(t,yr)||null,i=Mn(t,br)||null;if(i=i&&Er[i]||null,!e||!n||!i)throw new x("argument-error",gr+", "+yr+"and "+br+" are required in a valid action code URL.");Hi(this,{apiKey:e,operation:i,code:n,continueUrl:Mn(t,vr)||null,languageCode:Mn(t,_r)||null,tenantId:Mn(t,wr)||null})}var gr="apiKey",yr="oobCode",vr="continueUrl",_r="languageCode",br="mode",wr="tenantId",Er={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:nr,signIn:ir,verifyAndChangeEmail:rr,verifyEmail:"VERIFY_EMAIL"};function Cr(t){try{return new mr(t)}catch(e){return null}}function xr(t){var e=t[Ir];if(void 0===e)throw new x("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new x("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Sr];if(n&&"object"==typeof n){e=n[Pr];var i=n[Ar];if(n=n[Nr],"string"==typeof e&&e.length){if(this.a=e,void 0!==i&&"boolean"!=typeof i)throw new x("argument-error",Ar+" property must be a boolean when specified.");if(this.g=!!i,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new x("argument-error",Nr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new x("argument-error",Pr+" property must be a non empty string when specified.");if(void 0!==i||void 0!==n)throw new x("missing-android-pkg-name")}}else if(void 0!==n)throw new x("argument-error",Sr+" property must be a non null object when specified.");if(this.f=null,(e=t[kr])&&"object"==typeof e){if("string"==typeof(e=e[Rr])&&e.length)this.f=e;else if(void 0!==e)throw new x("argument-error",Rr+" property must be a non empty string when specified.")}else if(void 0!==e)throw new x("argument-error",kr+" property must be a non null object when specified.");if(void 0!==(e=t[Tr])&&"boolean"!=typeof e)throw new x("argument-error",Tr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Or])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new x("argument-error",Or+" property must be a non empty string when specified.");this.i=t||null}var Sr="android",Or="dynamicLinkDomain",Tr="handleCodeInApp",kr="iOS",Ir="url",Ar="installApp",Nr="minimumVersion",Pr="packageName",Rr="bundleId";function Dr(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Mr=null;function jr(t){var e=Fr(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,E(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Lr(t){try{return new jr(t)}catch(e){return null}}function Fr(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Mr[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Mr){Mr={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var i=t.concat(e[n].split("")),r=0;r<i.length;r++){var o=i[r];void 0===Mr[o]&&(Mr[o]=r)}}}();for(var i=0;;){var r=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===r)break;e(r<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(i){}return null}jr.prototype.S=function(){return this.f},jr.prototype.i=function(){return this.b},jr.prototype.toString=function(){return this.g};var Vr="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ur=["client_id","response_type","scope","redirect_uri","state"],Br={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Ur},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Ur},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Ur},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Vr},gd:{Ha:"locale",ta:600,sa:600,ea:"apple.com",Va:[]}};function zr(t){for(var e in Br)if(Br[e].ea==t)return Br[e];return null}function qr(t){var e={};e["facebook.com"]=Kr,e["google.com"]=Yr,e["github.com"]=$r,e["twitter.com"]=Xr;var n=t&&t[Hr];try{if(n)return e[n]?new e[n](t):new Qr(t);if(void 0!==t[Wr])return new Gr(t)}catch(i){}return null}var Wr="idToken",Hr="providerId";function Gr(t){var e=t[Hr];if(!e&&t[Wr]){var n=Lr(t[Wr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wi(this,"providerId",e),Wi(this,"isNewUser",n)}function Qr(t){Gr.call(this,t),Wi(this,"profile",Qi((t=Pi(t.rawUserInfo||"{}"))||{}))}function Kr(t){if(Qr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function $r(t){if(Qr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wi(this,"username",this.profile&&this.profile.login||null)}function Yr(t){if(Qr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xr(t){if(Qr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wi(this,"username",t.screenName||null)}function Zr(t){var e=jn(t),n=Mn(e,"link"),i=Mn(jn(n),"link");return e=Mn(e,"deep_link_id"),Mn(jn(e),"link")||e||i||n||t}function Jr(t,e){if(!t&&!e)throw new x("internal-error","Internal assert: no raw session string available");if(t&&e)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?to:eo}C(Qr,Gr),C(Kr,Qr),C($r,Qr),C(Yr,Qr),C(Xr,Qr);var to="enroll",eo="signin";function no(){}function io(t,e){return t.then((function(t){if(t[qs]){var n=Lr(t[qs]);if(!n||e!=n.h)throw new x("user-mismatch");return t}throw new x("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==T+"user-not-found"?new x("user-mismatch"):t}))}function ro(t,e){if(!e)throw new x("internal-error","failed to construct a credential");this.a=e,Wi(this,"providerId",t),Wi(this,"signInMethod",t)}function oo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function so(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ro(t.providerId,t.pendingToken)}catch(e){}return null}function ao(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wi(this,"idToken",e.idToken),e.accessToken&&Wi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new x("internal-error","failed to construct a credential");Wi(this,"accessToken",e.oauthToken),Wi(this,"secret",e.oauthTokenSecret)}Wi(this,"providerId",t),Wi(this,"signInMethod",n)}function co(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Kn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function lo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ao(t.providerId,e,t.signInMethod)}catch(n){}}return null}function uo(t,e){this.Oc=e||[],Hi(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(zr(t)||{}).Ha||null,this.kb=null}function ho(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,t,[])}function fo(t){uo.call(this,t,Ur),this.a=[]}function po(){fo.call(this,"facebook.com")}function mo(t){if(!t)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new po).credential({accessToken:e})}function go(){fo.call(this,"github.com")}function yo(t){if(!t)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new go).credential({accessToken:e})}function vo(){fo.call(this,"google.com"),this.Aa("profile")}function _o(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new vo).credential({idToken:n,accessToken:e})}function bo(){uo.call(this,"twitter.com",Vr)}function wo(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ao("twitter.com",n,"twitter.com")}function Eo(t,e,n){this.a=t,this.f=e,Wi(this,"providerId","password"),Wi(this,"signInMethod",n===xo.EMAIL_LINK_SIGN_IN_METHOD?xo.EMAIL_LINK_SIGN_IN_METHOD:xo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Co(t){return t&&t.email&&t.password?new Eo(t.email,t.password,t.signInMethod):null}function xo(){Hi(this,{providerId:"password",isOAuthProvider:!1})}function So(t,e){if(!(e=Oo(e)))throw new x("argument-error","Invalid email link!");return new Eo(t,e.code,xo.EMAIL_LINK_SIGN_IN_METHOD)}function Oo(t){return(t=Cr(t=Zr(t)))&&t.operation===ir?t:null}function To(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new x("internal-error");this.a=t,Wi(this,"providerId","phone"),this.ea="phone",Wi(this,"signInMethod","phone")}function ko(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new To(e)}return null}function Io(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Ao(t){try{this.a=t||r.a.auth()}catch(e){throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Hi(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new x("missing-verification-id");if(!e)throw new x("missing-verification-code");return new To({bb:t,ab:e})}function Po(t){if(t.temporaryProof&&t.phoneNumber)return new To({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return _o(o,n);case"facebook.com":return mo(n);case"github.com":return yo(n);case"twitter.com":return wo(n,i);default:return n||i||o||s?s?0==e.indexOf("saml.")?new ro(e,s):new ao(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new fo(e).credential({idToken:o,accessToken:n,rawNonce:r}):null}}catch(a){return null}}function Ro(t){if(!t.isOAuthProvider)throw new x("invalid-oauth-provider")}function Do(t,e,n,i,r,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=i||null,this.i=o||null,this.h=s||null,this.a=r||null,!this.g&&!this.a)throw new x("invalid-auth-event");if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}function Mo(t){return(t=t||{}).type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&S(t.error),t.postBody,t.tenantId):null}function jo(){this.b=null,this.a=[]}Jr.prototype.Fa=function(){return Se(this.a?this.a:this.b)},Jr.prototype.v=function(){return this.type==to?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},no.prototype.ia=function(){},no.prototype.b=function(){},no.prototype.c=function(){},no.prototype.v=function(){},ro.prototype.ia=function(t){return ca(t,oo(this))},ro.prototype.b=function(t,e){var n=oo(this);return n.idToken=e,la(t,n)},ro.prototype.c=function(t,e){return io(ua(t,oo(this)),e)},ro.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ao.prototype.ia=function(t){return ca(t,co(this))},ao.prototype.b=function(t,e){var n=co(this);return n.idToken=e,la(t,n)},ao.prototype.c=function(t,e){return io(ua(t,co(this)),e)},ao.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},uo.prototype.Ia=function(t){return this.Fb=ft(t),this},C(ho,uo),C(fo,uo),fo.prototype.Aa=function(t){return G(this.a,t)||this.a.push(t),this},fo.prototype.Nb=function(){return Y(this.a)},fo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new ao(this.providerId,n,this.providerId)},C(po,fo),Wi(po,"PROVIDER_ID","facebook.com"),Wi(po,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(go,fo),Wi(go,"PROVIDER_ID","github.com"),Wi(go,"GITHUB_SIGN_IN_METHOD","github.com"),C(vo,fo),Wi(vo,"PROVIDER_ID","google.com"),Wi(vo,"GOOGLE_SIGN_IN_METHOD","google.com"),C(bo,uo),Wi(bo,"PROVIDER_ID","twitter.com"),Wi(bo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Eo.prototype.ia=function(t){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?Ha(t,va,{email:this.a,oobCode:this.f}):Ha(t,Ua,{email:this.a,password:this.f})},Eo.prototype.b=function(t,e){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?Ha(t,_a,{idToken:e,email:this.a,oobCode:this.f}):Ha(t,Pa,{idToken:e,email:this.a,password:this.f})},Eo.prototype.c=function(t,e){return io(this.ia(t),e)},Eo.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Hi(xo,{PROVIDER_ID:"password"}),Hi(xo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Hi(xo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),To.prototype.ia=function(t){return t.cb(Io(this))},To.prototype.b=function(t,e){var n=Io(this);return n.idToken=e,Ha(t,za,n)},To.prototype.c=function(t,e){var n=Io(this);return n.operation="REAUTH",io(t=Ha(t,qa,n),e)},To.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Ao.prototype.cb=function(t,e){var n=this.a.b;return Se(e.verify()).then((function(i){if("string"!=typeof i)throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var r=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(r&&r.type==to?r.Fa().then((function(t){return function(t,e){return Ha(t,Da,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i}})})):r&&r.type==eo?r.Fa().then((function(e){return function(t,e){return Ha(t,Ma,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:i}})})):function(t,e){return Ha(t,Aa,e)}(n,{phoneNumber:o,recaptchaToken:i})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Hi(Ao,{PROVIDER_ID:"phone"}),Hi(Ao,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Do.prototype.S=function(){return this.h},Do.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Lo,Fo=null;function Vo(t){var e="unauthorized-domain",n=void 0,i=jn(t);t=i.b,"chrome-extension"==(i=i.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",x.call(this,e,n)}function Uo(t,e,n){x.call(this,t,n),(t=e||{}).Gb&&Wi(this,"email",t.Gb),t.da&&Wi(this,"phoneNumber",t.da),t.credential&&Wi(this,"credential",t.credential),t.Wb&&Wi(this,"tenantId",t.Wb)}function Bo(t){if(t.code){var e=t.code||"";0==e.indexOf(T)&&(e=e.substring(T.length));var n={credential:Po(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new x(e,t.message||void 0);return new Uo(e,n,t.message)}return null}function zo(){}function qo(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ho(){}function Go(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.oc,this),this.a.onerror=b(this.Pb,this),this.a.onprogress=b(this.pc,this),this.a.ontimeout=b(this.tc,this)}function Qo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ko(t,e,n){this.reset(t,e,n,void 0,void 0)}function $o(t){this.f=t,this.b=this.c=this.a=null}function Yo(t,e){this.name=t,this.value=e}C(Vo,x),C(Uo,x),Uo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&mt(t,e),t},Uo.prototype.toJSON=function(){return this.v()},zo.prototype.c=null,C(qo,zo),qo.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},qo.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},Lo=new qo,C(Ho,zo),Ho.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Go;throw Error("Unsupported browser")},Ho.prototype.b=function(){return{}},(t=Go.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Qo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Qo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Qo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ko.prototype.a=null,Ko.prototype.reset=function(t,e,n,i,r){i||E(),delete this.a},Yo.prototype.toString=function(){return this.name};var Xo=new Yo("SEVERE",1e3),Zo=new Yo("WARNING",900),Jo=new Yo("CONFIG",700),ts=new Yo("FINE",500);$o.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(D("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Ko(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var es={},ns=null;function is(t){var e;if(ns||(ns=new $o(""),es[""]=ns,ns.c=Jo),!(e=es[t])){e=new $o(t);var n=t.lastIndexOf("."),i=t.substr(n+1);(n=is(t.substr(0,n))).b||(n.b={}),n.b[i]=e,e.a=n,es[t]=e}return e}function rs(t,e){t&&t.log(ts,e,void 0)}function os(t){this.f=t}function ss(t){vn.call(this),this.s=t,this.readyState=as,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=is("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}C(os,zo),os.prototype.a=function(){return new ss(this.f)},os.prototype.b=function(t){return function(){return t}}({}),C(ss,vn);var as=0;function cs(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function ls(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,us(t)}function us(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function hs(t){vn.call(this),this.headers=new On,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ds,this.w=this.R=!1}(t=ss.prototype).open=function(t,e){if(this.readyState!=as)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,us(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ls(this,!1)),this.readyState=as},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,us(this)),this.a&&(this.readyState=3,us(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,cs(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ls(this,!0):us(this),3==this.readyState&&cs(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,ls(this,!0))},t.qc=function(t){this.a&&(this.response=t,ls(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Zo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&ls(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Zo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Zo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},C(hs,vn);var ds="";hs.prototype.b=is("goog.net.XhrIo");var fs=/^https?$/i,ps=["POST","PUT"];function ms(t){return"content-type"==t.toLowerCase()}function gs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ys(t),_s(t)}function ys(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function vs(t){if(t.c&&void 0!==s)if(t.B[1]&&4==ws(t)&&2==Es(t))rs(t.b,Cs(t,"Local request error detected and ignored"));else if(t.i&&4==ws(t))En(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==ws(t)){rs(t.b,Cs(t,"Request complete")),t.c=!1;try{var e,n=Es(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var o=String(t.l).match(In)[1]||null;if(!o&&a.self&&a.self.location){var c=a.self.location.protocol;o=c.substr(0,c.length-1)}r=!fs.test(o?o.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var l=2<ws(t)?t.a.statusText:""}catch(u){rs(t.b,"Can not get status: "+u.message),l=""}t.h=l+" ["+Es(t)+"]",ys(t)}}finally{_s(t)}}}function _s(t,e){if(t.a){bs(t);var n=t.a,i=t.B[0]?u:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(Xo,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function bs(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function ws(t){return t.a?t.a.readyState:0}function Es(t){try{return 2<ws(t)?t.a.status:-1}catch(e){return-1}}function Cs(t,e){return e+" ["+t.P+" "+t.l+" "+Es(t)+"]"}function xs(t){var e=Ms;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ss(t,e,n){t.a=!0,t.c=n,t.f=!e,Is(t)}function Os(t){if(t.a){if(!t.u)throw new As(t);t.u=!1}}function Ts(t,e,n,i){t.g.push([e,n,i]),t.a&&Is(t)}function ks(t){return H(t.g,(function(t){return f(t[1])}))}function Is(t){if(t.h&&t.a&&ks(t)){var e=t.h,n=Rs[e];n&&(a.clearTimeout(n.a),delete Rs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],s=r[1];if(r=r[2],o=t.f?s:o)try{var c=o.call(r||t.s,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(N(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(i=!0,t.i=!0)}catch(l){e=l,t.f=!0,ks(t)||(n=!0)}}t.c=e,i&&(c=b(t.m,t,!0),i=b(t.m,t,!1),e instanceof xs?(Ts(e,c,i),e.B=!0):e.then(c,i)),n&&(e=new Ps(e),Rs[e.a]=e,t.h=e.a)}function As(){P.call(this)}function Ns(){P.call(this)}function Ps(t){this.a=a.setTimeout(b(this.c,this),0),this.b=t}(t=hs.prototype).Ka=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",rs(this.b,Cs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(rs(this.b,Cs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_s(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_s(this,!0)),hs.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?vs(this):this.Hc())},t.Hc=function(){vs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ds:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Xo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return rs(this.b,"Can not get response: "+e.message),null}},xs.prototype.cancel=function(t){if(this.a)this.c instanceof xs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Ns(this),Os(this),Ss(this,!1,t))}},xs.prototype.m=function(t,e){this.i=!1,Ss(this,t,e)},xs.prototype.then=function(t,e,n){var i,r,o=new ve((function(t,e){i=t,r=e}));return Ts(this,i,(function(t){t instanceof Ns?o.cancel():r(t)})),o.then(t,e,n)},xs.prototype.$goog_Thenable=!0,C(As,P),As.prototype.message="Deferred has already fired",As.prototype.name="AlreadyCalledError",C(Ns,P),Ns.prototype.message="Deferred was canceled",Ns.prototype.name="CanceledError",Ps.prototype.c=function(){throw delete Rs[this.a],this.b};var Rs={};function Ds(t){var e={},n=e.document||document,i=Ct(t).toString(),r=he(document,"SCRIPT"),o={Tb:r,Ka:void 0},s=new xs(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout((function(){js(r,!0);var t=new Vs(Fs,"Timeout reached for loading script "+i);Os(s),Ss(s,!1,t)}),h),o.Ka=u),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(js(r,e.ud||!1,u),Os(s),Ss(s,!0,null))},r.onerror=function(){js(r,!0,u);var t=new Vs(Ls,"Error while loading script "+i);Os(s),Ss(s,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),se(r,o),function(t,e){gt(t,"HTMLScriptElement"),t.src=Ct(e),null===l&&(l=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""),(e=l)&&t.setAttribute("nonce",e)}(r,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(r),s}function Ms(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&js(t,!0,this.Ka)}}function js(t,e,n){null!=n&&a.clearTimeout(n),t.onload=u,t.onerror=u,t.onreadystatechange=u,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ls=0,Fs=1;function Vs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function Us(t){this.f=t}function Bs(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ws,this.g=ft(t.secureTokenHeaders||Hs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Gs,this.a=ft(t.firebaseHeaders||Qs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==yi(),!(n=a.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!gi())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=gi()?new os(self):vi()?new Us(n):new Ho,this.b=null}C(Vs,P),C(Us,zo),Us.prototype.a=function(){return new this.f},Us.prototype.b=function(){return{}};var zs,qs="idToken",Ws=new ji(3e4,6e4),Hs={"Content-Type":"application/x-www-form-urlencoded"},Gs=new ji(3e4,6e4),Qs={"Content-Type":"application/json"};function Ks(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function $s(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ys(t,e,n,i,r,o,s){(function(){var t=Ci();return!((t="Chrome"!=bi(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Gt&&ee&&!(9<ee))})()||gi()?t=b(t.w,t):(zs||(zs=new ve((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[Zs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ts(t,null,e,void 0)}(Ds(xt(Xs,{onload:Zs})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=b(t.s,t)),t(e,n,i,r,o,s)}Bs.prototype.S=function(){return this.b},Bs.prototype.w=function(t,e,n,i,r,o){if(gi()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new hs(this.f);if(o){s.g=Math.max(0,o);var c=setTimeout((function(){s.dispatchEvent("timeout")}),o)}_n(s,"complete",(function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return rs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),bn(s,"ready",(function(){c&&clearTimeout(c),ze(this)})),bn(s,"timeout",(function(){c&&clearTimeout(c),ze(this),e&&e(null)})),function(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Lo.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Lo),t.a.onreadystatechange=b(t.Sb,t);try{rs(t.b,Cs(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return rs(t.b,Cs(t,"Error opening Xhr: "+s.message)),void gs(t,s)}e=i||"";var o=new On(t.headers);r&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)z(t,e,void 0);else for(var n=Sn(t),i=xn(t),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}(r,(function(t,e){o.set(e,t)})),r=function(t){t:{for(var e=ms,n=t.length,i="string"==typeof t?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),i=a.FormData&&e instanceof a.FormData,!G(ps,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{bs(t),0<t.g&&(t.w=function(t){return Gt&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),rs(t.b,Cs(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=b(t.Ka,t)):t.s=En(t.Ka,t.g,t)),rs(t.b,Cs(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){rs(t.b,Cs(t,"Send error: "+s.message)),gs(t,s)}}(s,t,n,i,r)};var Xs=new yt(bt,"https://apis.google.com/js/client.js?onload=%{onload}"),Zs="__fcb"+Math.floor(1e6*Math.random()).toString();function Js(t){if("string"!=typeof(t=t.email)||!di.test(t))throw new x("invalid-email")}function ta(t){"email"in t&&Js(t)}function ea(t){if(!t[qs]){if(t.mfaPendingCredential)throw new x("multi-factor-auth-required",null,ft(t));throw new x("internal-error")}}function na(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new x("internal-error")}else{if(!t.sessionInfo)throw new x("missing-verification-id");if(!t.code)throw new x("missing-verification-code")}}Bs.prototype.s=function(t,e,n,i,r){var o=this;zs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Bs.prototype.vb=function(){return Ha(this,Ra,{})},Bs.prototype.xb=function(t,e){return Ha(this,Na,{idToken:t,email:e})},Bs.prototype.yb=function(t,e){return Ha(this,Pa,{idToken:t,password:e})};var ia={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ra(t){if(!t.phoneVerificationInfo)throw new x("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new x("missing-verification-code")}function oa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new x("internal-error")}function sa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Yn(t=new Gn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function aa(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Bo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Bo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Bo(t)):t.errorMessage&&(e=Ga(t.errorMessage)),e)throw e;ea(t)}function ca(t,e){return e.returnIdpCredential=!0,Ha(t,ja,e)}function la(t,e){return e.returnIdpCredential=!0,Ha(t,Fa,e)}function ua(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ha(t,La,e)}function ha(t){if(!t.oobCode)throw new x("invalid-action-code")}(t=Bs.prototype).zb=function(t,e){var n={idToken:t},i=[];return ht(ia,(function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)})),i.length&&(n.deleteAttribute=i),Ha(this,Na,n)},t.rb=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),Ha(this,Oa,t)},t.sb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ha(this,Ca,t)},t.qb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ha(this,xa,t)},t.Ab=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ha(this,Sa,t)},t.cb=function(t){return Ha(this,Ba,t)},t.jb=function(t,e){return Ha(this,Ia,{oobCode:t,newPassword:e})},t.Pa=function(t){return Ha(this,fa,{oobCode:t})},t.fb=function(t){return Ha(this,da,{oobCode:t})};var da={endpoint:"setAccountInfo",A:ha,Y:"email",C:!0},fa={endpoint:"resetPassword",A:ha,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new x("internal-error")},C:!0},pa={endpoint:"signupNewUser",A:function(t){if(Js(t),!t.password)throw new x("weak-password")},G:ea,U:!0,C:!0},ma={endpoint:"createAuthUri",C:!0},ga={endpoint:"deleteAccount",M:["idToken"]},ya={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=h(t.deleteProvider))throw new x("internal-error")}},va={endpoint:"emailLinkSignin",M:["email","oobCode"],A:Js,G:ea,U:!0,C:!0},_a={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:Js,G:ea,U:!0},ba={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:ra,G:ea,C:!0,La:!0},wa={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:ra,G:ea,C:!0,La:!0},Ea={endpoint:"getAccountInfo"},Ca={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new x("internal-error");Js(t)},Y:"email",C:!0},xa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new x("internal-error")},Y:"email",C:!0},Sa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new x("internal-error")},Y:"email",C:!0},Oa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new x("internal-error");Js(t)},Y:"email",C:!0},Ta={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},ka={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new x("internal-error")}},Ia={endpoint:"resetPassword",A:ha,Y:"email",C:!0},Aa={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Na={endpoint:"setAccountInfo",M:["idToken"],A:ta,U:!0},Pa={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(ta(t),!t.password)throw new x("weak-password")},G:ea,U:!0},Ra={endpoint:"signupNewUser",G:ea,U:!0,C:!0},Da={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new x("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new x("internal-error")},C:!0,La:!0},Ma={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new x("internal-error")},C:!0,La:!0},ja={endpoint:"verifyAssertion",A:oa,Wa:sa,G:aa,U:!0,C:!0},La={endpoint:"verifyAssertion",A:oa,Wa:sa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new x("user-not-found");if(t.errorMessage)throw Ga(t.errorMessage);ea(t)},U:!0,C:!0},Fa={endpoint:"verifyAssertion",A:function(t){if(oa(t),!t.idToken)throw new x("internal-error")},Wa:sa,G:aa,U:!0},Va={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new x("invalid-custom-token")},G:ea,U:!0,C:!0},Ua={endpoint:"verifyPassword",A:function(t){if(Js(t),!t.password)throw new x("wrong-password")},G:ea,U:!0,C:!0},Ba={endpoint:"verifyPhoneNumber",A:na,G:ea,C:!0},za={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new x("internal-error");na(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Bo(t);ea(t)}},qa={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:na,G:ea,C:!0},Wa={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[qs]^!!t.refreshToken)throw new x("internal-error")},C:!0,La:!0};function Ha(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(null==i||""===i)return!1}return!0}(n,e.M))return Oe(new x("internal-error"));var i,r=!!e.La,o=e.Rb||"POST";return Se(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,i,r,o,s){var a=jn(e+n);Dn(a,"key",t.c),s&&Dn(a,"cb",E().toString());var c="GET"==i;if(c)for(var l in r)r.hasOwnProperty(l)&&Dn(a,l,r[l]);return new ve((function(e,n){Ys(t,a.toString(),(function(t){t?t.error?n(Qa(t,o||{})):e(t):n(new x("network-request-failed"))}),i,c?void 0:ti(Ni(r)),t.a,t.i.get())}))}(t,r?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return i=t,e.Wa?e.Wa(n,i):i})).then(e.G).then((function(){if(!e.Y)return i;if(!(e.Y in i))throw new x("internal-error");return i[e.Y]}))}function Ga(t){return Qa({error:{errors:[{message:t}],code:400,message:t}})}function Qa(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new x(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",mt(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new x(i[r],e);return!e&&t&&(e=Ai(t)),new x("internal-error",e)}function Ka(t){this.b=t,this.a=null,this.nb=function(t){return(Za||(Za=new ve((function(t,e){function n(){Mi(),xi("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Mi(),e(Error("Network Error"))},timeout:Ya.get()})}if(xi("gapi.iframes.Iframe"))t();else if(xi("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[i]=function(){xi("gapi.load")?n():e(Error("Network Error"))},Se(Ds(i=xt($a,{onload:i}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw Za=null,t})))).then((function(){return new ve((function(e,n){xi("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:xi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Xa.get());i.ping(r).then(r,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var $a=new yt(bt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ya=new ji(3e4,6e4),Xa=new ji(5e3,15e3),Za=null;function Ja(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Ln(this.i,"/__/auth/iframe"),Dn(this.a,"apiKey",this.g),Dn(this.a,"appName",this.h),this.b=null,this.c=[]}function tc(t,e,n,i,r){this.s=t,this.m=e,this.c=n,this.u=i,this.i=this.g=this.l=null,this.a=r,this.h=this.f=null}function ec(t){try{return r.a.app(t).auth().Ea()}catch(e){return[]}}function nc(t,e,n,i,r){this.u=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function ic(t){var e=si();return function(t){return Ha(t,Ta,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=jn(e),i=n.f;n=n.b;for(var r=0;r<t.length;r++){var o=t[r],s=n,a=i;if(0==o.indexOf("chrome-extension://")?s=jn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:hi.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Vo(si())}))}function rc(t){return t.l?t.l:(t.l=fi().then((function(){if(!t.s){var e=t.c,n=t.h,i=ec(t.b),r=new Ja(t.u,t.f,t.b);r.f=e,r.b=n,r.c=Y(i||[]),t.s=r.toString()}t.i=new Ka(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,xi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Mo(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return(n={}).status=i?"ACK":"ERROR",Se(n)}return n.status="ERROR",Se(n)}))}(t)})),t.l)}function oc(t){return t.m||(t.w=t.c?Ei(t.c,ec(t.b)):null,t.m=new Bs(t.f,A(t.h),t.w)),t.m}function sc(t,e,n,i,r,o,s,a,c,l,u){return(t=new tc(t,e,n,i,r)).l=o,t.g=s,t.i=a,t.b=ft(c||null),t.f=l,t.ub(u).toString()}function ac(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function cc(t){this.b=t,this.a={},this.f=b(this.c,this)}Ja.prototype.toString=function(){return this.f?Dn(this.a,"v",this.f):$n(this.a.a,"v"),this.b?Dn(this.a,"eid",this.b):$n(this.a.a,"eid"),this.c.length?Dn(this.a,"fw",this.c.join(",")):$n(this.a.a,"fw"),this.a.toString()},tc.prototype.ub=function(t){return this.h=t,this},tc.prototype.toString=function(){var t=Ln(this.s,"/__/auth/handler");if(Dn(t,"apiKey",this.m),Dn(t,"appName",this.c),Dn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ja()}catch(c){n=null}for(var i in e.kb=n,Dn(t,"providerId",this.a.providerId),n=Ni((e=this.a).Fb))n[i]=n[i].toString();i=e.Oc,n=ft(n);for(var o=0;o<i.length;o++){var s=i[o];s in n&&delete n[s]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),dt(n)||Dn(t,"customParameters",Ai(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&Dn(t,"scopes",e.join(",")),this.l?Dn(t,"redirectUrl",this.l):$n(t.a,"redirectUrl"),this.g?Dn(t,"eventId",this.g):$n(t.a,"eventId"),this.i?Dn(t,"v",this.i):$n(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(t,a)&&Dn(t,a,this.b[a]);return this.h?Dn(t,"tid",this.h):$n(t.a,"tid"),this.f?Dn(t,"eid",this.f):$n(t.a,"eid"),(a=ec(this.c)).length&&Dn(t,"fw",a.join(",")),t.toString()},(t=nc.prototype).Lb=function(t,e,n){var i=new x("popup-closed-by-user"),r=new x("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return rc(t).then((function(){return function(t,e){return t.nb.then((function(){return new ve((function(n){t.a.send(e.type,e,n,xi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&li(t),e(r),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new ve((function(e){return function n(){Cn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return Cn(n).then((function(){e(i)}))}))},t.Ub=function(){var t=Ci();return!Ii(t)&&!Di(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,i,r,o,s,a){if(!t)return Oe(new x("popup-blocked"));if(s&&!Ii())return this.ka().o((function(e){li(t),r(e)})),i(),Se();this.a||(this.a=ic(oc(this)));var c=this;return this.a.then((function(){var e=c.ka().o((function(e){throw li(t),r(e),e}));return i(),e})).then((function(){Ro(n),s||ai(sc(c.u,c.f,c.b,e,n,null,o,c.c,void 0,c.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t}))},t.Kb=function(t,e,n,i){this.a||(this.a=ic(oc(this)));var r=this;return this.a.then((function(){Ro(e),ai(sc(r.u,r.f,r.b,t,e,si(),n,r.c,void 0,r.h,i))})).o((function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t}))},t.ka=function(){var t=this;return rc(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new x("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){K(this.g,(function(e){return e==t}))},(t=ac.prototype).get=function(t){return Se(this.a.getItem(t)).then((function(t){return t&&Pi(t)}))},t.set=function(t,e){return Se(this.a.setItem(t,Ai(e)))},t.T=function(t){return Se(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var lc,uc=[];function hc(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function dc(t){this.a=t}function fc(t){this.c=t,this.b=!1,this.a=[]}function pc(t,e,n,i){var r,o,s,a,c=n||{},l=null;if(t.b)return Oe(Error("connection_unavailable"));var u=i?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ve((function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){i(Error("unsupported_event"))}),u),t.a.push(l={messageChannel:h,onMessage:o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){i(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),i(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:c},[h.port2])):i(Error("connection_unavailable"))})).then((function(e){return mc(t,l),e})).o((function(e){throw mc(t,l),e}))}function mc(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),K(t.a,(function(t){return t==e}))}}function gc(){if(!vc())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;gi()&&self?(this.l=function(){var t=gi()?self:null;if(z(uc,(function(n){n.b==t&&(e=n)})),!e){var e=new cc(t);uc.push(e)}return e}(),hc(this.l,"keyChanged",(function(e,n){return Cc(t).then((function(e){return 0<e.length&&z(t.a,(function(t){t(e)})),{keyProcessed:G(e,n.key)}}))})),hc(this.l,"ping",(function(){return Se(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Se().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Se(null)}().then((function(e){(t.h=e)&&(t.g=new fc(new dc(e)),pc(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&G(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function yc(t){return t.m||(t.m=function t(e){return new ve((function(n,i){var r=e.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}i(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){i(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(r):function(t){return new ve((function(e,n){var i=t.u.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).o((function(t){i(t)}))}}))}(t)),t.m}function vc(){try{return!!a.indexedDB}catch(Wt){return!1}}function _c(t){return t.objectStore("firebaseLocalStorage")}function bc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function wc(t){return new ve((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Ec(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?pc(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Se()}function Cc(t){return yc(t).then((function(t){var e=_c(bc(t,!1));return e.getAll?wc(e.getAll()):new ve((function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=function t(e,n){var i,r=[];for(i in e)i in n?typeof e[i]!=typeof n[i]?r.push(i):"object"==typeof e[i]&&null!=e[i]&&null!=n[i]?0<t(e[i],n[i]).length&&r.push(i):e[i]!==n[i]&&r.push(i):r.push(i);for(i in n)i in e||r.push(i);return r}(t.c,n),t.c=n}return i}))}function xc(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Sc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Se().then((function(){if(vc()){var t=Ri(),i="__sak"+t;return lc||(lc=new gc),(n=lc).set(i,t).then((function(){return n.get(i)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(i)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){z(e.a,(function(e){e(t)}))})),t}))}function Oc(){this.a={},this.type="inMemory"}function Tc(){if(!function(){var t="Node"==yi();if(!(t=kc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yi())throw new x("internal-error","The LocalStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=kc()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function kc(){try{var t=a.localStorage,e=Ri();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ic(){this.type="nullStorage"}function Ac(){if(!function(){var t="Node"==yi();if(!(t=Nc()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==yi())throw new x("internal-error","The SessionStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Nc()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Nc(){try{var t=a.sessionStorage,e=Ri();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Pc(){var t={};t.Browser=Mc,t.Node=jc,t.ReactNative=Lc,t.Worker=Fc,this.a=t[yi()]}cc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];z(i,(function(e){r.push(Se().then((function(){return e(t.origin,t.data.data)})))})),ke(r).then((function(i){var r=[];z(i,(function(t){r.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),z(r,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})}))}},dc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},fc.prototype.close=function(){for(;0<this.a.length;)mc(this,this.a[0]);this.b=!0},(t=gc.prototype).set=function(t,e){var n,i=!1,r=this;return yc(this).then((function(e){return wc((e=_c(bc(n=e,!0))).get(t))})).then((function(o){var s=_c(bc(n,!0));return o?(o.value=e,wc(s.put(o))):(r.b++,i=!0,(o={}).fbase_key=t,o.value=e,wc(s.add(o)))})).then((function(){return r.c[t]=e,Ec(r,t)})).ma((function(){i&&r.b--}))},t.get=function(t){return yc(this).then((function(e){return wc(_c(bc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return yc(this).then((function(i){return e=!0,n.b++,wc(_c(bc(i,!0)).delete(t))})).then((function(){return delete n.c[t],Ec(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){xc(t),function e(){t.f=setTimeout((function(){t.i=Cc(t).then((function(e){0<e.length&&z(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&xc(this)},(t=Sc.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t}))},(t=Oc.prototype).get=function(t){return Se(this.a[t])},t.set=function(t,e){return this.a[t]=e,Se()},t.T=function(t){return delete this.a[t],Se()},t.ba=function(){},t.ha=function(){},(t=Tc.prototype).get=function(t){var e=this;return Se().then((function(){return Pi(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var i=Ai(e);null===i?n.T(t):n.a.setItem(t,i)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ba=function(t){a.window&&sn(a.window,"storage",t)},t.ha=function(t){a.window&&ln(a.window,"storage",t)},(t=Ic.prototype).get=function(){return Se(null)},t.set=function(){return Se()},t.T=function(){return Se()},t.ba=function(){},t.ha=function(){},(t=Ac.prototype).get=function(t){var e=this;return Se().then((function(){return Pi(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Se().then((function(){var i=Ai(e);null===i?n.T(t):n.a.setItem(t,i)}))},t.T=function(t){var e=this;return Se().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Rc,Dc,Mc={F:Tc,$a:Ac},jc={F:Tc,$a:Ac},Lc={F:ac,$a:Ic},Fc={F:Tc,$a:Ic},Vc={od:"local",NONE:"none",qd:"session"};function Uc(){var t=!(Di(Ci())||!mi()),e=Ii(),n=Si();this.m=t,this.h=e,this.l=n,this.a={},Rc||(Rc=new Pc),t=Rc;try{this.g=!oi()&&Vi()||!a.indexedDB?new t.a.F:new Sc(gi()?new Oc:new t.a.F)}catch(i){this.g=new Oc,this.h=!0}try{this.i=new t.a.$a}catch(i){this.i=new Oc}this.u=new Oc,this.f=b(this.Vb,this),this.b={}}function Bc(){return Dc||(Dc=new Uc),Dc}function zc(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function qc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Wc(t,e,n){return n=qc(e,n),"local"==e.F&&(t.b[n]=null),zc(t,e.F).T(n)}function Hc(t){t.c&&(clearInterval(t.c),t.c=null)}function Gc(t){this.a=t,this.b=Bc()}(t=Uc.prototype).get=function(t,e){return zc(this,t.F).get(qc(t,e))},t.set=function(t,e,n){var i=qc(t,n),r=this,o=zc(this,t.F);return o.set(i,e).then((function(){return o.get(i)})).then((function(e){"local"==t.F&&(r.b[i]=e)}))},t.addListener=function(t,e,n){t=qc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),dt(this.a)&&(zc(this,"local").ba(this.f),this.h||(oi()||!Vi())&&a.indexedDB||!this.l||function(t){Hc(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new Ke({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=qc(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(zc(this,"local").ha(this.f),Hc(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];void 0===i&&(i=null);var r=a.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?zc(this,"local").ha(this.f):Hc(this),this.m)if(n=a.localStorage.getItem(e),(i=t.a.newValue)!==n)null!==i?a.localStorage.setItem(e,i):a.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.ib(e))},Gt&&ee&&10==ee&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,b(this.ib,this))},t.ib=function(t){this.a[t]&&z(this.a[t],(function(t){t()}))};var Qc,Kc={name:"authEvent",F:"local"};function $c(){this.a=Bc()}function Yc(t,e){this.b=Xc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===Qc&&(Qc=a.Int32Array?new Int32Array(rl):rl),this.reset()}C(Yc,(function(){this.b=-1}));for(var Xc=64,Zc=Xc-1,Jc=[],tl=0;tl<Zc;tl++)Jc[tl]=0;var el=$(128,Jc);function nl(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){var o=(0|n[e-16])+(((r=0|n[e-15])>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,s=(0|n[e-7])+(((i=0|n[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+s|0}i=0|t.a[0],r=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],l=0|t.a[4],u=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&a^r&a)|0;s=(o=o+((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))|0)+((s=(s=l&u^~l&h)+(0|Qc[e])|0)+(0|n[e])|0)|0,o=h,h=u,u=l,l=c+s|0,c=a,a=r,r=i,i=s+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+l|0,t.a[5]=t.a[5]+u|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function il(t,e,n){void 0===n&&(n=e.length);var i=0,r=t.c;if("string"==typeof e)for(;i<n;)t.f[r++]=e.charCodeAt(i++),r==t.b&&(nl(t),r=0);else{if(!d(e))throw Error("message must be string or array");for(;i<n;){var o=e[i++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[r++]=o,r==t.b&&(nl(t),r=0)}}t.c=r,t.g+=n}Yc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Y(this.h)};var rl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ol(){Yc.call(this,8,sl)}C(ol,Yc);var sl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function al(t,e,n,i,r){this.u=t,this.i=e,this.l=n,this.m=i||null,this.s=r||null,this.h=e+":"+n,this.w=new $c,this.g=new Gc(this.h),this.f=null,this.b=[],this.a=this.c=null}function cl(t){return new x("invalid-cordova-configuration",t)}function ll(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function ul(t){return t.f||(t.f=t.ka().then((function(){return new ve((function(e){t.Ca((function n(i){return e(i),t.Qa(n),!1})),function(t){function e(e){i=!0,r&&r.cancel(),hl(t).then((function(i){var r=n;if(i&&e&&e.url){var o=null;-1!=(r=Zr(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Pi(Mn(o=jn(r),"firebaseError")||null))?S(o):null)?new Do(i.c,i.b,null,null,o,null,i.S()):new Do(i.c,i.b,r,i.f,null,null,i.S())),r=o||n}ll(t,r)}))}var n=new Do("unknown",null,null,null,new x("no-auth-event")),i=!1,r=Cn(500).then((function(){return hl(t).then((function(){i||ll(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(xi("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Fo||(Fo=new jo),function(t){var e=Fo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=xi("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function hl(t){var e=null;return function(t){return t.b.get(Kc,t.a).then((function(t){return Mo(t)}))}(t.g).then((function(n){return e=n,Wc((n=t.g).b,Kc,n.a)})).then((function(){return e}))}function dl(t){this.a=t,this.b=Bc()}(t=al.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(pi(void 0)?fi().then((function(){return new ve((function(t,e){var n=a.document,i=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(i),t()}),!1)}))})):Oe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof xi("universalLinks.subscribe",a))throw cl("cordova-universal-links-plugin-fix is not installed");if(void 0===xi("BuildInfo.packageName",a))throw cl("cordova-plugin-buildinfo is not installed");if("function"!=typeof xi("cordova.plugins.browsertab.openUrl",a))throw cl("cordova-plugin-browsertab is not installed");if("function"!=typeof xi("cordova.InAppBrowser.open",a))throw cl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new x("cordova-not-ready")}))},t.Lb=function(t,e){return e(new x("operation-not-supported-in-this-environment")),Se()},t.Jb=function(){return Oe(new x("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,i){if(this.c)return Oe(new x("redirect-operation-pending"));var r=this,o=a.document,s=null,c=null,l=null,u=null;return this.c=Se().then((function(){return Ro(e),ul(r)})).then((function(){return function(t,e,n,i,r){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Do(e,i,null,o,new x("no-auth-event"),null,r),c=xi("BuildInfo.packageName",a);if("string"!=typeof c)throw new x("invalid-cordova-configuration");var l=xi("BuildInfo.displayName",a),u={};if(Ci().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=c;else{if(!Ci().toLowerCase().match(/android/))return Oe(new x("operation-not-supported-in-this-environment"));u.apn=c}l&&(u.appDisplayName=l),o=function(t){var e=new ol;il(e,t),t=[];var n=8*e.g;il(e,el,56>e.c?56-e.c:e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(nl(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return function(t){return W(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),u.sessionId=o;var h=sc(t.u,t.i,t.l,e,n,null,i,t.m,u,t.s,r);return t.ka().then((function(){var e=t.h;return t.w.a.set(Kc,s.v(),e)})).then((function(){var e=xi("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new x("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=xi("cordova.plugins.browsertab.openUrl",a)))throw new x("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=xi("cordova.InAppBrowser.open",a)))throw new x("invalid-cordova-configuration");e=Ci(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(r,t,e,n,i)})).then((function(){return new ve((function(t,e){c=function(){var e=xi("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),r.a&&"function"==typeof r.a.close&&(r.a.close(),r.a=null),!1},r.Ca(c),u=function(){Li()&&l()},o.addEventListener("resume",l=function(){s||(s=Cn(2e3).then((function(){e(new x("redirect-cancelled-by-user"))})))},!1),Ci().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",u,!1)})).o((function(t){return hl(r).then((function(){throw t}))}))})).ma((function(){l&&o.removeEventListener("resume",l,!1),u&&o.removeEventListener("visibilitychange",u,!1),s&&s.cancel(),c&&r.Qa(c),r.c=null}))},t.Ca=function(t){this.b.push(t),ul(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Do("unknown",null,null,null,new x("no-auth-event")),t(e))}))},t.Qa=function(t){K(this.b,(function(e){return e==t}))};var fl={name:"pendingRedirect",F:"session"};function pl(t){return Wc(t.b,fl,t.a)}function ml(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Il,this.B=new Dl,this.g=new dl(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=gl(this.D,this.u,this.m,O)}function gl(t,e,n,i){var o=r.a.SDK_VERSION||null;return pi()?new al(t,e,n,o,i):new nc(t,e,n,o,i)}function yl(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function vl(t){t.a.Ub()&&yl(t).o((function(e){var n=new Do("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));xl(e)&&t.s(n)})),t.a.Qb()||Al(t.b)}function _l(t,e){G(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(fl,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?pl(t.g).then((function(){yl(t).o((function(e){var n=new Do("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));xl(e)&&t.s(n)}))})):vl(t)})).o((function(){vl(t)}))}function bl(t,e){K(t.h,(function(t){return t==e}))}ml.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=gl(this.D,this.u,this.m),this.i={}},ml.prototype.s=function(t){if(!t)throw new x("invalid-auth-event");if(6e5<=E()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,i),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=E())),e=!0;break}}return Al(this.b),e};var wl=new ji(2e3,1e4),El=new ji(3e4,6e4);function Cl(t,e,n,i,r,o,s){return t.a.Jb(e,n,i,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),r,o,s)}function xl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Sl(t,e,n,i,r){var o;return function(t){return t.b.set(fl,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,i,r).o((function(e){if(xl(e))throw new x("operation-not-supported-in-this-environment");return o=e,pl(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ve((function(){})):pl(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Ol(t,e,n,i,r){return t.a.Lb(i,(function(t){e.la(n,null,t,r)}),wl.get())}ml.prototype.pa=function(){return this.b.pa()};var Tl={};function kl(t,e,n){var i=e+":"+n;return Tl[i]||(Tl[i]=new ml(t,e,n)),Tl[i]}function Il(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Al(t){t.g||(t.g=!0,Rl(t,!1,null,null))}function Nl(t){t.g&&!t.i&&Rl(t,!1,null,null)}function Pl(t,e){if(t.b=function(){return Se(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Rl(t,e,n,i){e?i?function(t,e){if(t.b=function(){return Oe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,i):Pl(t,n):Pl(t,{user:null}),t.f=[],t.c=[]}function Dl(){}function Ml(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function jl(t,e){this.a=e,Wi(this,"verificationId",t)}function Ll(t,e,n,i){return new Ao(t).cb(e,n).then((function(t){return new jl(t,i)}))}function Fl(t){var e=Fr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Hi(this,{token:t,expirationTime:Fi(1e3*e.exp),authTime:Fi(1e3*e.auth_time),issuedAtTime:Fi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Vl(t,e,n){var i=e&&e[Bl];if(!i)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ft(e),this.g=n,this.c=new Jr(null,i),this.b=[];var r=this;z(e[Ul]||[],(function(t){(t=$i(t))&&r.b.push(t)})),Wi(this,"auth",this.a),Wi(this,"session",this.c),Wi(this,"hints",this.b)}Il.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Il.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,i=t.b,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Rl(this,!0,null,t.a),Se()):e.Da(n,i)?function(t,e,n){n=n.Da(e.c,e.b);var i=e.g,r=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(i,r,s,o).then((function(e){Rl(t,a,e,null)})).o((function(e){Rl(t,a,null,e)}))}(this,t,e):Oe(new x("invalid-auth-event")):(Rl(this,!1,null,null),Se())}else Oe(new x("invalid-auth-event"))},Il.prototype.pa=function(){var t=this;return new ve((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new x("timeout");t.a&&t.a.cancel(),t.a=Cn(El.get()).then((function(){t.b||(t.g=!0,Rl(t,!0,null,e))}))}(t))}))},Dl.prototype.h=function(t,e){if(t){var n=t.c,i=t.b;t.a?(e.la(t.c,null,t.a,t.b),Se()):e.Da(n,i)?function(t,e){var n=t.b,i=t.c;e.Da(i,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(i,t,null,n)})).o((function(t){e.la(i,null,t,n)}))}(t,e):Oe(new x("invalid-auth-event"))}else Oe(new x("invalid-auth-event"))},jl.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var Ul="mfaInfo",Bl="mfaPendingCredential";function zl(t,e,n,i){x.call(this,"multi-factor-auth-required",i,e),this.b=new Vl(t,e,n),Wi(this,"resolver",this.b)}function ql(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new zl(e,t.serverResponse,n,t.message)}catch(i){}return null}function Wl(){}function Hl(t){Wi(this,"factorId",t.ea),this.a=t}function Gl(t){if(Hl.call(this,t),this.a.ea!=Ao.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Ql(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function Kl(t,e){this.a=t,this.b=[],this.c=b(this.wc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,(function(t){var e=null,i={};if(t){t.uid&&(i[Zi]=t.uid),t.displayName&&(i[Yi]=t.displayName),t.enrollmentTime&&(i[Xi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(i[Ji]=t.phoneNumber);try{e=new tr(i)}catch(r){}t=e}else t=null;t&&n.push(t)})),$l(this,n)}function $l(t,e){t.b=e,Wi(t,"enrolledFactors",e)}function Yl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Xl(t){this.c=t,this.b=this.a=null}function Zl(t){return t.b&&1e3*t.b.c||0}function Jl(t,e){var n=e.refreshToken;t.b=Lr(e[qs]||""),t.a=n}function tu(t,e){this.a=t||null,this.b=e||null,Hi(this,{lastSignInTime:Fi(e||null),creationTime:Fi(t||null)})}function eu(t,e,n,i,r,o){Hi(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function nu(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=r.a.SDK_VERSION?Ei(r.a.SDK_VERSION):null,this.a=new Bs(this.l,A(O),t),this.b=new Xl(this.a),lu(this,e[qs]),Jl(this.b,e),Wi(this,"refreshToken",this.b.a),du(this,n||{}),vn.call(this),this.P=!1,this.s&&Oi()&&(this.i=kl(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new Yl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=Zl(t.b)-E()-3e5;return 0<e?e:0}))}(this),this.Z=b(this.Ma,this);var i=this;this.oa=null,this.za=function(t){i.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){ru(i,t.c)},this.$=null,this.O=new Kl(this,n),Wi(this,"multiFactor",this.O)}function iu(t,e){t.aa&&ln(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&sn(e,"languageCodeChanged",t.za)}function ru(t,e){t.W=e,$s(t.a,r.a.SDK_VERSION?Ei(r.a.SDK_VERSION,t.W):null)}function ou(t,e){t.$&&ln(t.$,"frameworkChanged",t.ya),(t.$=e)&&sn(e,"frameworkChanged",t.ya)}function su(t){try{return r.a.app(t.m).auth()}catch(e){throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function au(t){t.D||t.B.b||(t.B.start(),ln(t,"tokenChanged",t.Z),sn(t,"tokenChanged",t.Z))}function cu(t){ln(t,"tokenChanged",t.Z),t.B.stop()}function lu(t,e){t.xa=e,Wi(t,"_lat",e)}function uu(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return ke(e).then((function(){return t}))}function hu(t){t.i&&!t.P&&(t.P=!0,_l(t.i,t))}function du(t,e){Hi(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new tu(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function fu(){}function pu(t){return Se().then((function(){if(t.D)throw new x("app-deleted")}))}function mu(t){return W(t.providerData,(function(t){return t.providerId}))}function gu(t,e){e&&(yu(t,e.providerId),t.providerData.push(e))}function yu(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function vu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wi(t,e,n)}function _u(t,e){t!=e&&(Hi(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Wi(t,"metadata",e.metadata?function(t){return new tu(t.a,t.b)}(e.metadata):new tu),z(e.providerData,(function(e){gu(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Wi(t,"refreshToken",t.b.a),$l(t.O,e.O.b))}function bu(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Ha(t.a,Ea,{idToken:e}).then(b(t.Ic,t))}(t,e).then((function(){return n||vu(t,"isAnonymous",!1),e}))}))}function wu(t,e){e[qs]&&t.xa!=e[qs]&&(Jl(t.b,e),t.dispatchEvent(new Ql("tokenChanged")),lu(t,e[qs]),vu(t,"refreshToken",t.b.a))}function Eu(t,e){return bu(t).then((function(){if(G(mu(t),e))return uu(t).then((function(){throw new x("provider-already-linked")}))}))}function Cu(t,e,n){return Gi({user:t,credential:Po(e),additionalUserInfo:e=qr(e),operationType:n})}function xu(t,e){return wu(t,e),t.reload().then((function(){return t}))}function Su(t,e,n,i,o){if(!Oi())return Oe(new x("operation-not-supported-in-this-environment"));if(t.h&&!o)return Oe(t.h);var s=zr(n.providerId),a=Ri(t.uid+":::"),c=null;(!Ii()||mi())&&t.s&&n.isOAuthProvider&&(c=sc(t.s,t.l,t.m,e,n,null,a,r.a.SDK_VERSION||null,null,null,t.tenantId));var l=ui(c,s&&s.ta,s&&s.sa);return i=i().then((function(){if(Tu(t),!o)return t.I().then((function(){}))})).then((function(){return Cl(t.i,l,e,n,a,!!c,t.tenantId)})).then((function(){return new ve((function(n,i){t.la(e,null,new x("cancelled-popup-request"),t.g||null),t.f=n,t.w=i,t.g=a,t.c=Ol(t.i,t,e,l,a)}))})).then((function(t){return l&&li(l),t?Gi(t):null})).o((function(t){throw l&&li(l),t})),ku(t,i,o)}function Ou(t,e,n,i,r){if(!Oi())return Oe(new x("operation-not-supported-in-this-environment"));if(t.h&&!r)return Oe(t.h);var o=null,s=Ri(t.uid+":::");return i=i().then((function(){if(Tu(t),!r)return t.I().then((function(){}))})).then((function(){return t.fa=s,uu(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Nu,t.v(),e.a)),e})).then((function(){return Sl(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return Pu(t.ga);throw o})).then((function(){if(o)throw o})),ku(t,i,r)}function Tu(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new x("internal-error");throw new x("auth-domain-config-required")}}function ku(t,e,n){var i=function(t,e,n){return t.h&&!n?(e.cancel(),Oe(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Ql("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(i),i.ma((function(){Q(t.N,i)})),i.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ql(e.v(),su(t),b(t.hc,t))),n||e}))}function Iu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var i=new nu(e,n,t);return t.providerData&&z(t.providerData,(function(t){t&&gu(i,Gi(t))})),t.redirectEventId&&(i.fa=t.redirectEventId),i}function Au(t){this.a=t,this.b=Bc()}Vl.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=ft(e.f);return delete n[Ul],delete n[Bl],mt(n,t),e.g(n)}))},C(zl,x),Wl.prototype.ob=function(t,e,n){return e.type==to?function(t,e,n,i){return n.Fa().then((function(n){return n={idToken:n},void 0!==i&&(n.displayName=i),mt(n,{phoneVerificationInfo:Io(t.a)}),Ha(e,ba,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Io(t.a)}),Ha(e,wa,n)}))}(this,t,e)},C(Hl,Wl),C(Gl,Hl),C(Ql,Qe),(t=Kl.prototype).wc=function(t){$l(this,function(t){var e=[];return z(t.mfaInfo||[],(function(t){(t=$i(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Jr(t,null)}))},t.dc=function(t,e){var n=this,i=this.a.a;return this.Ob().then((function(n){return t.ob(i,n,e)})).then((function(t){return wu(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,i=this.a.a;return this.a.I().then((function(t){return Ha(i,Wa,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var i=q(e.b,(function(t){return t.uid!=n}));return $l(e,i),wu(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(t){return t.v()}))}}},Yl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Li()||!t?Se():new ve((function(n){e=function(){Li()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},Yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Xl.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:Zl(this)}},Xl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Oe(new x("user-token-expired")):t||!this.b||E()>Zl(this)-3e4?this.a?function(t,e){return function(t,e){return new ve((function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ys(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?i(Qa(t)):t.access_token&&t.refresh_token?n(t):i(new x("internal-error")):i(new x("network-request-failed"))}),"POST",Kn(e).toString(),t.g,t.m.get()):i(new x("internal-error"))}))}(t.c,e).then((function(e){return t.b=Lr(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Se(null):Se({accessToken:this.b.toString(),refreshToken:this.a})},tu.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(nu,vn),nu.prototype.va=function(t){this.oa=t,Ks(this.a,t)},nu.prototype.ja=function(){return this.oa},nu.prototype.Ea=function(){return Y(this.W)},nu.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Wi(nu.prototype,"providerId","firebase"),(t=nu.prototype).reload=function(){var t=this;return ku(this,pu(this).then((function(){return bu(t).then((function(){return uu(t)})).then(fu)})))},t.mc=function(t){return this.I(t).then((function(t){return new Fl(t)}))},t.I=function(t){var e=this;return ku(this,pu(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new x("internal-error");return t.accessToken!=e.xa&&(lu(e,t.accessToken),e.dispatchEvent(new Ql("tokenChanged"))),vu(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new x("internal-error");du(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,(function(t){return new eu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)gu(this,e[n]);vu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Ql("userReloaded",{ed:t}))},t.Jc=function(t){return zi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return ku(this,t.c(this.a,this.uid).then((function(t){return wu(e,t),n=Cu(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return zi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return ku(this,Eu(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Cu(e,t,"link"),xu(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return ku(this,Eu(this,"phone").then((function(){return Ll(su(n),t,e,b(n.mb,n))})))},t.Kc=function(t,e){var n=this;return ku(this,Se().then((function(){return Ll(su(n),t,e,b(n.pb,n))})),!0)},t.xb=function(t){var e=this;return ku(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return wu(e,t),e.reload()})))},t.cd=function(t){var e=this;return ku(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return wu(e,t),e.reload()})))},t.yb=function(t){var e=this;return ku(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return wu(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return pu(this);var e=this;return ku(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return wu(e,t),vu(e,"displayName",t.displayName||null),vu(e,"photoURL",t.photoUrl||null),z(e.providerData,(function(t){"password"===t.providerId&&(Wi(t,"displayName",e.displayName),Wi(t,"photoURL",e.photoURL))})),uu(e)})).then(fu))},t.ad=function(t){var e=this;return ku(this,bu(this).then((function(n){return G(mu(e),t)?function(t,e,n){return Ha(t,ya,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return z(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),z(mu(e),(function(t){n[t]||yu(e,t)})),n[Ao.PROVIDER_ID]||Wi(e,"phoneNumber",null),uu(e)})):uu(e).then((function(){throw new x("no-such-provider")}))})))},t.delete=function(){var t=this;return ku(this,this.I().then((function(e){return Ha(t.a,ga,{idToken:e})})).then((function(){t.dispatchEvent(new Ql("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");iu(t,null),ou(t,null),t.N=[],t.D=!0,cu(t),Wi(t,"refreshToken",null),t.i&&bl(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?b(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?b(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?b(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?b(this.Ib,this):null},t.Cc=function(t){var e=this;return Su(this,"linkViaPopup",t,(function(){return Eu(e,t.providerId).then((function(){return uu(e)}))}),!1)},t.Lc=function(t){return Su(this,"reauthViaPopup",t,(function(){return Se()}),!0)},t.Dc=function(t){var e=this;return Ou(this,"linkViaRedirect",t,(function(){return Eu(e,t.providerId)}),!1)},t.Mc=function(t){return Ou(this,"reauthViaRedirect",t,(function(){return Se()}),!0)},t.Hb=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ku(this,this.I().then((function(n){return la(r.a,{requestUri:t,postBody:i,sessionId:e,idToken:n})})).then((function(t){return o=Cu(r,t,"link"),xu(r,t)})).then((function(){return o})))},t.Ib=function(t,e,n,i){var r=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ku(this,Se().then((function(){return io(ua(r.a,{requestUri:t,sessionId:e,postBody:i,tenantId:n}),r.uid)})).then((function(t){return o=Cu(r,t,"reauthenticate"),wu(r,t),r.h=null,r.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return ku(this,this.I().then((function(e){return n=e,void 0===t||dt(t)?{}:Dr(new xr(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,i=null;return ku(this,this.I().then((function(t){return i=t,void 0===e||dt(e)?{}:Dr(new xr(e))})).then((function(e){return n.a.Ab(i,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return ku(this,t=io(Se(t),n.uid).then((function(t){return e=Cu(n,t,"reauthenticate"),wu(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&mt(t,this.metadata.v()),z(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.O.v()),t};var Nu={name:"redirectUser",F:"session"};function Pu(t){return Wc(t.b,Nu,t.a)}function Ru(t){this.a=t,this.b=Bc(),this.c=null,this.f=function(t){var e=ju("local"),n=ju("session"),i=ju("none");return function(t,e,n){var i=qc(e,n),r=zc(t,e.F);return t.get(e,n).then((function(o){var s=null;try{s=Pi(a.localStorage.getItem(i))}catch(c){}if(s&&!o)return a.localStorage.removeItem(i),t.set(e,s,n);s&&o&&"localStorage"!=r.type&&a.localStorage.removeItem(i)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(r){return r?n:t.b.get(i,t.a).then((function(n){return n?i:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Mu,t.a).then((function(t){return t?ju(t):e}))}))}))})).then((function(e){return t.c=e,Du(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(ju("local"),this.a,b(this.g,this))}function Du(t,e){var n,i=[];for(n in Vc)Vc[n]!==e&&i.push(Wc(t.b,ju(Vc[n]),t.a));return i.push(Wc(t.b,Mu,t.a)),function(t){return new ve((function(e,n){var i=t.length,r=[];if(i)for(var o=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},a=0;a<t.length;a++)Te(t[a],w(o,a),s);else e(r)}))}(i)}Ru.prototype.g=function(){var t=this,e=ju("local");Uu(this,(function(){return Se().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Du(t,"local").then((function(){t.c=e}))}))}))};var Mu={name:"persistence",F:"session"};function ju(t){return{name:"authUser",F:t}}function Lu(t,e){return Uu(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function Fu(t){return Uu(t,(function(){return Wc(t.b,t.c,t.a)}))}function Vu(t,e){return Uu(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Iu(t||{})}))}))}function Uu(t,e){return t.f=t.f.then(e,e),t.f}function Bu(t){if(this.l=!1,Wi(this,"settings",new Ml),Wi(this,"app",t),!Ku(this).options||!Ku(this).options.apiKey)throw new x("invalid-api-key");t=r.a.SDK_VERSION?Ei(r.a.SDK_VERSION):null,this.b=new Bs(Ku(this).options&&Ku(this).options.apiKey,A(O),t),this.P=[],this.m=[],this.O=[],this.$b=r.a.INTERNAL.createSubscribe(b(this.xc,this)),this.W=void 0,this.ac=r.a.INTERNAL.createSubscribe(b(this.yc,this)),Gu(this,null),this.i=new Ru(Ku(this).options.apiKey+":"+Ku(this).name),this.B=new Au(Ku(this).options.apiKey+":"+Ku(this).name),this.Z=Zu(this,function(t){var e=Ku(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Nu,t.a).then((function(t){return t&&e&&(t.authDomain=e),Iu(t||{})}))}(t.B,Ku(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),Pu(t.B)}));return Zu(t,e)}(t).then((function(){return Vu(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return Lu(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Fu(t.i)}))):null})).then((function(e){Gu(t,e||null)}));return Zu(t,n)}(this)),this.h=Zu(this,function(t){return t.Z.then((function(){return Hu(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(ju("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=b(this.Xc,this),this.Ma=b(this.ca,this),this.xa=b(this.jc,this),this.ya=b(this.uc,this),this.za=b(this.vc,this),this.a=null,function(t){var e=Ku(t).options.authDomain,n=Ku(t).options.apiKey;e&&Oi()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=kl(e,n,Ku(t).name),_l(t.a,t),$u(t)&&hu($u(t)),t.D){hu(t.D);var i=t.D;i.va(t.ja()),iu(i,t),ru(i=t.D,t.N),ou(i,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Ec,this),this.s=0,vn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function zu(t){Qe.call(this,"languageCodeChanged"),this.g=t}function qu(t){Qe.call(this,"frameworkChanged"),this.c=t}function Wu(t){return t.Zb||Oe(new x("auth-domain-config-required"))}function Hu(t){if(!Oi())return Oe(new x("operation-not-supported-in-this-environment"));var e=Wu(t).then((function(){return t.a.pa()})).then((function(t){return t?Gi(t):null}));return Zu(t,e)}function Gu(t,e){$u(t)&&(function(t,e){K(t.R,(function(t){return t==e}))}($u(t),t.Ma),ln($u(t),"tokenChanged",t.xa),ln($u(t),"userDeleted",t.ya),ln($u(t),"userInvalidated",t.za),cu($u(t))),e&&(e.R.push(t.Ma),sn(e,"tokenChanged",t.xa),sn(e,"userDeleted",t.ya),sn(e,"userInvalidated",t.za),0<t.s&&au(e)),Wi(t,"currentUser",e),e&&(e.va(t.ja()),iu(e,t),ru(e,t.N),ou(e,t))}function Qu(t,e){var n=null,i=null;return Zu(t,e.then((function(e){return n=Po(e),i=qr(e),function(t,e){var n={};return n.apiKey=Ku(t).options.apiKey,n.authDomain=Ku(t).options.authDomain,n.appName=Ku(t).name,t.Z.then((function(){return function(t,e,n,i){var r=new nu(t,e);return n&&(r.ga=n),i&&ru(r,i),r.reload().then((function(){return r}))}(n,e,t.B,t.Ea())})).then((function(e){return $u(t)&&e.uid==$u(t).uid?(_u($u(t),e),t.ca(e)):(Gu(t,e),hu(e),t.ca(e))})).then((function(){Xu(t)}))}(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ql(e.v(),t,b(t.ic,t))),n||e})).then((function(){return Gi({user:$u(t),credential:n,additionalUserInfo:i,operationType:"signIn"})})))}function Ku(t){return t.app}function $u(t){return t.currentUser}function Yu(t){return $u(t)&&$u(t)._lat||null}function Xu(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Yu(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](Yu(t))}}function Zu(t,e){return t.P.push(e),e.ma((function(){Q(t.P,e)})),e}function Ju(){}function th(){this.a={},this.b=1e12}Ru.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new x("invalid-persistence-type"),n=new x("unsupported-persistence-type");t:{for(i in Vc)if(Vc[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(yi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!vc()&&"none"!==t)throw n;break;default:if(!Si()&&"none"!==t)throw n}}(t),Uu(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(i){return e=i,Du(n,t)})).then((function(){if(n.c=ju(t),e)return n.b.set(n.c,e,n.a)})):Se()}))},C(Bu,vn),C(zu,Qe),C(qu,Qe),(t=Bu.prototype).tb=function(t){return Zu(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Ks(this.b,this.$),this.dispatchEvent(new zu(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=a.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),$s(this.b,r.a.SDK_VERSION?Ei(r.a.SDK_VERSION,this.N):null),this.dispatchEvent(new qu(this.N))},t.Ea=function(){return Y(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:Ku(this).options.apiKey,authDomain:Ku(this).options.authDomain,appName:Ku(this).name,currentUser:$u(this)&&$u(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?b(this.gc,this):null},t.gc=function(t,e,n,i){var r=this,o={requestUri:t,postBody:i,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),r.Z.then((function(){return Qu(r,ca(r.b,o))}))},t.Vc=function(t){if(!Oi())return Oe(new x("operation-not-supported-in-this-environment"));var e=this,n=zr(t.providerId),i=Ri(),o=null;(!Ii()||mi())&&Ku(this).options.authDomain&&t.isOAuthProvider&&(o=sc(Ku(this).options.authDomain,Ku(this).options.apiKey,Ku(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.S()));var s=ui(o,n&&n.ta,n&&n.sa);return Zu(this,n=Wu(this).then((function(n){return Cl(n,s,"signInViaPopup",t,i,!!o,e.S())})).then((function(){return new ve((function(t,n){e.la("signInViaPopup",null,new x("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=i,e.c=Ol(e.a,e,"signInViaPopup",s,i)}))})).then((function(t){return s&&li(s),t?Gi(t):null})).o((function(t){throw s&&li(s),t})))},t.Wc=function(t){if(!Oi())return Oe(new x("operation-not-supported-in-this-environment"));var e=this;return Zu(this,Wu(this).then((function(){return function(t){return Uu(t,(function(){return t.b.set(Mu,t.c.F,t.a)}))}(e.i)})).then((function(){return Sl(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Hu(this).then((function(e){return t.a&&Nl(t.a.b),e})).o((function(e){throw t.a&&Nl(t.a.b),e}))},t.bd=function(t){if(!t)return Oe(new x("null-user"));if(this.R!=t.tenantId)return Oe(new x("tenant-id-mismatch"));var e=this,n={};n.apiKey=Ku(this).options.apiKey,n.authDomain=Ku(this).options.authDomain,n.appName=Ku(this).name;var i=function(t,e,n,i){var r=t.b,o={};return o[qs]=r.b&&r.b.toString(),o.refreshToken=r.a,e=new nu(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),i&&ru(e,i),_u(e,t),e}(t,n,e.B,e.Ea());return Zu(this,this.h.then((function(){if(Ku(e).options.apiKey!=t.l)return i.reload()})).then((function(){return $u(e)&&t.uid==$u(e).uid?(_u($u(e),t),e.ca(t)):(Gu(e,i),hu(i),e.ca(i))})).then((function(){Xu(e)})))},t.wb=function(){var t=this;return Zu(this,this.h.then((function(){return t.a&&Nl(t.a.b),$u(t)?(Gu(t,null),Fu(t.i).then((function(){Xu(t)}))):Se()})))},t.Xc=function(){var t=this;return Vu(this.i,Ku(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=$u(t)&&e){n=$u(t).uid;var i=e.uid;n=null!=n&&""!==n&&null!=i&&""!==i&&n==i}if(n)return _u($u(t),e),$u(t).I();($u(t)||e)&&(Gu(t,e),e&&(hu(e),e.ga=t.B),t.a&&_l(t.a,t),Xu(t))}}))},t.ca=function(t){return Lu(this.i,t)},t.jc=function(){Xu(this),this.ca($u(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return Qu(e,Se(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next($u(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),Zu(t,t.h.then((function(){!t.l&&G(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(Yu(t)))})))}(this,(function(){t.next($u(e))}))},t.Gc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){f(t)?t($u(i)):f(t.next)&&t.next($u(i))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var i=this;return this.aa&&Promise.resolve().then((function(){i.W=i.getUid(),f(t)?t($u(i)):f(t.next)&&t.next($u(i))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return Zu(this,this.h.then((function(){return $u(e)?$u(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return Qu(e,Ha(e.b,Va,{token:t}))})).then((function(t){var n=t.user;return vu(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return Qu(n,Ha(n.b,Ua,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return Qu(n,Ha(n.b,pa,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return Qu(e,t.ia(e.b))}))},t.Qc=function(t){return zi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=$u(t);if(e&&e.isAnonymous){var n=Gi({providerId:null,isNewUser:!1});return Gi({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Qu(t,t.b.vb()).then((function(e){var n=e.user;return vu(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return $u(this)&&$u(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&$u(this)&&au($u(this))},t.Nc=function(t){var e=this;z(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&$u(this)&&cu($u(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Zu(this,this.h.then((function(){e.l||G(e.m,t)&&t(Yu(e))})))},t.removeAuthTokenListener=function(t){K(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(ju("local"),t.a,this.oa),this.a&&(bl(this.a,this),Nl(this.a.b)),Promise.resolve()},t.fc=function(t){return Zu(this,function(t,e){return Ha(t,ma,{identifier:e,continueUri:Ti()?si():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!Oo(t)},t.sb=function(t,e){var n=this;return Zu(this,Se().then((function(){var t=new xr(e);if(!t.c)throw new x("argument-error",Tr+" must be true when sending sign in link to email");return Dr(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return Zu(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return Zu(this,this.b.Pa(t).then((function(t){return new er(t)})))},t.fb=function(t){return Zu(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return Zu(this,Se().then((function(){return void 0===e||dt(e)?{}:Dr(new xr(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return Zu(this,Ll(this,t,e,b(this.Ya,this)))},t.Tc=function(t,e){var n=this;return Zu(this,Se().then((function(){var i=e||si(),r=So(t,i);if(!(i=Oo(i)))throw new x("argument-error","Invalid email link!");if(i.tenantId!==n.S())throw new x("tenant-id-mismatch");return n.Ya(r)})))},Ju.prototype.render=function(){},Ju.prototype.reset=function(){},Ju.prototype.getResponse=function(){},Ju.prototype.execute=function(){};var eh=null;function nh(t,e){return(e=ih(e))&&t.a[e]||null}function ih(t){return(t=void 0===t?1e12:t)?t.toString():null}function rh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=oe(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function oh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function sh(){}function ah(){}th.prototype.render=function(t,e){return this.a[this.b.toString()]=new rh(t,e),this.b++},th.prototype.reset=function(t){var e=nh(this,t);t=ih(t),e&&t&&(e.delete(),delete this.a[t])},th.prototype.getResponse=function(t){return(t=nh(this,t))?t.getResponse():null},th.prototype.execute=function(t){(t=nh(this,t))&&t.execute()},rh.prototype.getResponse=function(){return oh(this),this.b},rh.prototype.execute=function(){oh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()}),6e4)}),500))},rh.prototype.delete=function(){oh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Wi(sh,"FACTOR_ID","phone"),ah.prototype.g=function(){return eh||(eh=new th),Se(eh)},ah.prototype.c=function(){};var ch=null;function lh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var uh=new yt(bt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),hh=new ji(3e4,6e4);lh.prototype.g=function(t){var e=this;return new ve((function(n,i){var r=setTimeout((function(){i(new x("network-request-failed"))}),hh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(r),n(a.grecaptcha)}else clearTimeout(r),i(new x("internal-error"));delete a[e.a]},Se(Ds(xt(uh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(r),i(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(r),n(a.grecaptcha))}))},lh.prototype.c=function(){this.b--};var dh=null;function fh(t,e,n,i,r,o,s){if(Wi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(ch||(ch=new ah),s=ch):(dh||(dh=new lh),s=dh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[gh])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[yh],!a.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!oe(e)||!this.i&&oe(e).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Bs(t,o||null,r||null),this.w=i||function(){return null};var c=this;this.l=[];var l=this.a[ph];this.a[ph]=function(t){if(vh(c,t),"function"==typeof l)l(t);else if("string"==typeof l){var e=xi(l,a);"function"==typeof e&&e(t)}};var u=this.a[mh];this.a[mh]=function(){if(vh(c,null),"function"==typeof u)u();else if("string"==typeof u){var t=xi(u,a);"function"==typeof t&&t()}}}var ph="callback",mh="expired-callback",gh="sitekey",yh="size";function vh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function _h(t,e){return t.h.push(e),e.ma((function(){Q(t.h,e)})),e}function bh(t){if(t.D)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}function wh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(a){throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new x("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ea()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.a.SDK_VERSION?Ei(r.a.SDK_VERSION,s):null,fh.call(this,n,t,e,(function(){try{var t=o.b.auth().ja()}catch(e){t=null}return t}),s,A(O),i)}function Eh(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].K(n[r])&&!o){if(e=e[r],0>r||r>=Ch.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");n=Ch[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}i=null}}if(i)throw new x("argument-error",t+" failed: "+i)}(t=fh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=_h(this,Se().then((function(){if(Ti()&&!gi())return fi();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Ha(t.s,ka,{})})).then((function(e){t.a[gh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){bh(this);var t=this;return _h(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=oe(e);e=function(t,e,n){var i=arguments,r=document,o=String(i[0]),s=i[1];if(!re&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Bt(s.name),'"'),s.type){o.push(' type="',Bt(s.type),'"');var a={};mt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=he(r,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):se(o,s)),2<i.length&&ue(r,o,i),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){bh(this);var t=this;return _h(this,this.render().then((function(e){return new ve((function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){bh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){bh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=oe(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},C(wh,fh);var Ch="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function xh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Sh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Oh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Th(t,e){return{name:t||"",J:"a function",optional:!!e,K:f}}function kh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Ih(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Ah(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&f(t.Fa)}function Nh(t){return p(t)&&"string"==typeof t.uid}function Ph(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!f(t.verify))}}}function Rh(t,e,n,i){return{name:n||"",J:t.J+" or "+e.J,optional:!!i,K:function(n){return t.K(n)||e.K(n)}}}function Dh(t,e){for(var n in e){var i=e[n].name;t[i]=Lh(i,t[n],e[n].j)}}function Mh(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:w((function(t){return this[t]}),n),set:w((function(t,e,n,i){Eh(t,[n],[i],!0),this[e]=i}),i,n,e[n].gb),enumerable:!0})}}function jh(t,e,n,i){t[e]=Lh(e,n,i)}function Lh(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Eh(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}Dh(Bu.prototype,{fb:{name:"applyActionCode",j:[xh("code")]},Pa:{name:"checkActionCode",j:[xh("code")]},jb:{name:"confirmPasswordReset",j:[xh("code"),xh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[xh("email"),xh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[xh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[xh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Rh(Oh(),Th(),"nextOrObserver"),Th("opt_error",!0),Th("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Rh(Oh(),Th(),"nextOrObserver"),Th("opt_error",!0),Th("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[xh("email"),Rh(Oh("opt_actionCodeSettings",!0),kh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[xh("email"),Oh("actionCodeSettings")]},tb:{name:"setPersistence",j:[xh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Ih()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Ih()]},Rc:{name:"signInWithCustomToken",j:[xh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[xh("email"),xh("password")]},Tc:{name:"signInWithEmailLink",j:[xh("email"),xh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[xh("phoneNumber"),Ph()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Rh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof nu)}},kh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[xh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[xh("code")]}}),Mh(Bu.prototype,{lc:{name:"languageCode",gb:Rh(xh(),kh(),"languageCode")},ti:{name:"tenantId",gb:Rh(xh(),kh(),"tenantId")}}),(Bu.Persistence=Vc).LOCAL="local",Bu.Persistence.SESSION="session",Bu.Persistence.NONE="none",Dh(nu.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Sh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Sh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Ih()]},mb:{name:"linkWithCredential",j:[Ih()]},Bc:{name:"linkWithPhoneNumber",j:[xh("phoneNumber"),Ph()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ih()]},pb:{name:"reauthenticateWithCredential",j:[Ih()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[xh("phoneNumber"),Ph()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Rh(Oh("opt_actionCodeSettings",!0),kh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[xh(null,!0)]},ad:{name:"unlink",j:[xh("provider")]},xb:{name:"updateEmail",j:[xh("email")]},yb:{name:"updatePassword",j:[xh("password")]},cd:{name:"updatePhoneNumber",j:[Ih("phone")]},zb:{name:"updateProfile",j:[Oh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[xh("email"),Rh(Oh("opt_actionCodeSettings",!0),kh(null,!0),"opt_actionCodeSettings",!0)]}}),Dh(th.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Dh(Ju.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Dh(ve.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Mh(Ml.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Sh("appVerificationDisabledForTesting")}}),Dh(jl.prototype,{confirm:{name:"confirm",j:[xh("verificationCode")]}}),jh(no,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[lo,Co,ko,so],i=0;i<n.length;i++)if(e=n[i](t))return e;return null}),[Rh(xh(),Oh(),"json")]),jh(xo,"credential",(function(t,e){return new Eo(t,e)}),[xh("email"),xh("password")]),Dh(Eo.prototype,{v:{name:"toJSON",j:[xh(null,!0)]}}),Dh(po.prototype,{Aa:{name:"addScope",j:[xh("scope")]},Ia:{name:"setCustomParameters",j:[Oh("customOAuthParameters")]}}),jh(po,"credential",mo,[Rh(xh(),Oh(),"token")]),jh(xo,"credentialWithLink",So,[xh("email"),xh("emailLink")]),Dh(go.prototype,{Aa:{name:"addScope",j:[xh("scope")]},Ia:{name:"setCustomParameters",j:[Oh("customOAuthParameters")]}}),jh(go,"credential",yo,[Rh(xh(),Oh(),"token")]),Dh(vo.prototype,{Aa:{name:"addScope",j:[xh("scope")]},Ia:{name:"setCustomParameters",j:[Oh("customOAuthParameters")]}}),jh(vo,"credential",_o,[Rh(xh(),Rh(Oh(),kh()),"idToken"),Rh(xh(),kh(),"accessToken",!0)]),Dh(bo.prototype,{Ia:{name:"setCustomParameters",j:[Oh("customOAuthParameters")]}}),jh(bo,"credential",wo,[Rh(xh(),Oh(),"token"),xh("secret",!0)]),Dh(fo.prototype,{Aa:{name:"addScope",j:[xh("scope")]},credential:{name:"credential",j:[Rh(xh(),Rh(Oh(),kh()),"optionsOrIdToken"),Rh(xh(),kh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Oh("customOAuthParameters")]}}),Dh(ao.prototype,{v:{name:"toJSON",j:[xh(null,!0)]}}),Dh(ro.prototype,{v:{name:"toJSON",j:[xh(null,!0)]}}),jh(Ao,"credential",No,[xh("verificationId"),xh("verificationCode")]),Dh(Ao.prototype,{cb:{name:"verifyPhoneNumber",j:[Rh(xh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Ah(t.session,to)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Ah(t.session,eo)&&Nh(t.multiFactorHint):t.session&&t.multiFactorUid?Ah(t.session,eo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),Ph()]}}),Dh(To.prototype,{v:{name:"toJSON",j:[xh(null,!0)]}}),Dh(x.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Dh(Uo.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Dh(Vo.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Dh(zl.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Dh(Vl.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Dh(Kl.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},xh("displayName",!0)]},$c:{name:"unenroll",j:[Rh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Nh},xh(),"multiFactorInfoIdentifier")]}}),Dh(wh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),jh(mr,"parseLink",Cr,[xh("link")]),jh(sh,"assertion",(function(t){return new Gl(t)}),[Ih("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ir,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:nr,VERIFY_AND_CHANGE_EMAIL:rr,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Bu,AuthCredential:no,Error:x};jh(t,"EmailAuthProvider",xo,[]),jh(t,"FacebookAuthProvider",po,[]),jh(t,"GithubAuthProvider",go,[]),jh(t,"GoogleAuthProvider",vo,[]),jh(t,"TwitterAuthProvider",bo,[]),jh(t,"OAuthProvider",fo,[xh("providerId")]),jh(t,"SAMLAuthProvider",ho,[xh("providerId")]),jh(t,"PhoneAuthProvider",Ao,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Bu)}}]),jh(t,"RecaptchaVerifier",wh,[Rh(xh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Oh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof r.a.app.App)}}]),jh(t,"ActionCodeURL",mr,[]),jh(t,"PhoneMultiFactorGenerator",sh,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Bu(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:b((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:b(t.kc,t),addAuthTokenListener:b(t.bc,t),removeAuthTokenListener:b(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.14.4"),r.a.INTERNAL.extendNamespace({User:nu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"6Oco":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=n("IdLP");const r=new i.a(t=>t.complete());function o(t){return t?function(t){return new i.a(e=>t.schedule(()=>e.complete()))}(t):r}},"7ntQ":function(t,e,n){"use strict";var i=n("ZTXN"),r=n("IdLP"),o=n("5uGe"),s=n("bwdy");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new l(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class l extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class u extends r.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return a()(this)}}const h=(()=>{const t=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends i.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function f(){return new i.a}function p(){return t=>{return a()((e=f,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,h);return i.source=t,i.subjectFactory=n,i})(t));var e}}n.d(e,"a",(function(){return p}))},"82Ps":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/KFi"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],s=r+1<t.length,a=s?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=(15&a)<<2|l>>6,h=63&l;c||(h=64,s||(u=64)),i.push(n[o>>2],n[(3&o)<<4|a>>4],n[u],n[h])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var s=((7&r)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(s>>10)),e[i++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],s=r<t.length?n[t.charAt(r)]:0,a=++r<t.length?n[t.charAt(r)]:64,c=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==s||null==a||null==c)throw Error();i.push(o<<2|s>>4),64!==a&&(i.push(s<<4&240|a>>2),64!==c&&i.push(a<<6&192|c))}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=u(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,i))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f=function(t){function e(n,i){var r=t.call(this,i)||this;return r.code=n,r.name="FirebaseError",Object.setPrototypeOf(r,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(r,p.prototype.create),r}return i.__extends(e,t),e}(Error),p=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=e[0]||{},r=this.service+"/"+t,o=this.errors[t],s=o?m(o,i):"Error",a=this.serviceName+": "+s+" ("+r+").",c=new f(r,a),l=0,u=Object.keys(i);l<u.length;l++){var h=u[l];"_"!==h.slice(-1)&&(h in c&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),c[h]=i[h])}return c},t}();function m(t,e){return t.replace(g,(function(t,n){var i=e[n];return null!=i?i.toString():"<"+n+"?>"}))}var g=/\{\$([^}]+)}/g;function y(t){return JSON.parse(t)}var v=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=y(l(o[0])||""),n=y(l(o[1])||""),r=o[2],i=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:i,signature:r}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=l^a&(c^l),o=1518500249):(r=a^c^l,o=1859775393):i<60?(r=a&c|l&(a|c),o=2400959708):(r=a^c^l,o=3395469782);var h=(s<<5|s>>>27)+r+u+o+n[i]&4294967295;u=l,l=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0===o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++i,++o===this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++i,++o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},t}(),b=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=w),void 0===i.error&&(i.error=w),void 0===i.complete&&(i.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}})),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function w(){}function E(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}e.CONSTANTS=r,e.Deferred=h,e.ErrorFactory=p,e.FirebaseError=f,e.Sha1=_,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=c,e.base64Decode=l,e.base64Encode=function(t){var e=a(t);return c.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new b(t,e);return n.subscribe.bind(n)},e.decode=v,e.deepCopy=function(t){return u(void 0,t)},e.deepExtend=u,e.errorPrefix=E,e.getUA=d,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return d().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return d().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=v(t).claims,n=Math.floor((new Date).getTime()/1e3),i=0,r=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?i=e.nbf:e.hasOwnProperty("iat")&&(i=e.iat),r=e.hasOwnProperty("exp")?e.exp:i+86400),!!n&&!!i&&!!r&&n>=i&&n<=r},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=y,e.map=function(t,e,n){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=e.call(n,t[r],r,t));return i},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},i=0,r=Object.entries(t);i<r.length;i++){var o=r[i];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var s=r-55296;i++,o(i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(s<<10)+(t.charCodeAt(i)-56320)}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r)throw new Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")},e.validateCallback=function(t,e,n,i){if((!i||n)&&"function"!=typeof n)throw new Error(E(t,e,i)+"must be a valid function.")},e.validateContextObject=function(t,e,n,i){if((!i||n)&&("object"!=typeof n||null===n))throw new Error(E(t,e,i)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,i){if((!i||n)&&"string"!=typeof n)throw new Error(E(t,e,i)+"must be a valid firebase namespace.")}},"9RND":function(t){t.exports=JSON.parse('{"name":"angular-ngrx-material-starter","version":"9.0.0","license":"MIT","scripts":{"ng":"ng","start":"ng serve --open","start:prod":"npm run build:prod && npm run server","build":"ng build","build:prod":"ng build --prod","lint":"ng lint","test":"ng lint && ng test --configuration=test","watch":"ng test --configuration=test --browsers ChromeHeadless --watch --reporters dots","e2e":"ng e2e","ci":"npm run format:test && ng lint && ng test --configuration=test --browsers ChromeTravisCi --code-coverage && npm run e2e && npm run build:prod -- --deploy-url /angular-ngrx-material-starter/ --base-href /angular-ngrx-material-starter","format:write":"prettier projects/**/*.{ts,json,md,scss} --write","format:test":"prettier projects/**/*.{ts,json,md,scss} --list-different","release":"standard-version && git push --follow-tags origin master","analyze":"npm run build:prod -- --stats-json && webpack-bundle-analyzer ./dist/angular-ngrx-material-starter/stats-es2015.json","server":"node ./projects/server/server.js","contributors:add":"all-contributors add","contributors:generate":"all-contributors generate && node .all-contributors-html.js","contributors:check":"all-contributors check"},"husky":{"hooks":{"pre-commit":"pretty-quick --staged","commit-msg":"commitlint -E HUSKY_GIT_PARAMS"}},"commitlint":{"extends":["@commitlint/config-conventional"]},"private":true,"dependencies":{"@angular-extensions/elements":"^9.0.1","@angular-extensions/model":"^8.1.0","@angular/animations":"~9.0.0","@angular/cdk":"^9.0.0","@angular/common":"^9.0.0","@angular/compiler":"^9.0.0","@angular/core":"^9.0.0","@angular/fire":"^6.0.0","@angular/flex-layout":"^9.0.0-beta.31","@angular/forms":"^9.0.0","@angular/material":"^9.0.0","@angular/platform-browser":"^9.0.0","@angular/platform-browser-dynamic":"^9.0.0","@angular/router":"^9.0.0","@fortawesome/angular-fontawesome":"^0.6.1","@fortawesome/fontawesome-free":"^5.12.1","@fortawesome/fontawesome-svg-core":"^1.2.27","@fortawesome/free-brands-svg-icons":"^5.12.1","@fortawesome/free-solid-svg-icons":"^5.12.1","@ngrx/effects":"^9.0.0-beta.1","@ngrx/entity":"^9.0.0-beta.1","@ngrx/router-store":"^9.0.0-beta.1","@ngrx/store":"^9.0.0-beta.1","@ngrx/store-devtools":"^9.0.0-beta.1","@ngx-translate/core":"^12.0.0","@ngx-translate/http-loader":"^4.0.0","bootstrap":"^4.4.1","browser-detect":"^0.2.28","d3":"^5.16.0","firebase":"^7.14.2","rxjs":"~6.5.4","tslib":"^1.10.0","uuid":"^3.4.0","zone.js":"~0.10.2"},"devDependencies":{"@angular-devkit/build-angular":"~0.900.1","@angular/cli":"~9.0.1","@angular/compiler-cli":"~9.0.0","@angular/language-service":"~9.0.0","@commitlint/cli":"^8.3.5","@commitlint/config-conventional":"^8.3.4","@types/jasmine":"~3.5.3","@types/jasminewd2":"^2.0.8","@types/node":"^12.11.1","@types/uuid":"^3.4.7","all-contributors-cli":"^6.13.0","codelyzer":"^5.1.2","express":"^4.16.4","husky":"^4.2.1","jasmine-core":"~3.5.0","jasmine-spec-reporter":"~4.2.1","karma":"~4.4.1","karma-chrome-launcher":"~3.1.0","karma-coverage-istanbul-reporter":"~2.1.1","karma-jasmine":"~3.1.0","karma-jasmine-html-reporter":"^1.5.2","karma-spec-reporter":"^0.0.32","npm-run-all":"^4.1.5","prettier":"^1.19.1","pretty-quick":"^2.0.1","protractor":"^5.4.3","rimraf":"^3.0.2","standard-version":"^7.1.0","ts-node":"~8.6.2","tslint":"~6.0.0","typescript":"~3.7.5","webpack-bundle-analyzer":"^3.6.0"}}')},"9cQL":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StoreDevtoolsModule}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("EM62"),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("sN6X"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("6Oco"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("IdLP"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ROBh"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("g6G6"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("kSHZ"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("QQZH"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("7ntQ"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("xVbo"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("YtkY"),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("5uDM"),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("iT4G"),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("mWib"),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("4e/d"),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("J+dc"),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("kuMc"),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("TLy2"),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("3mST"),rxjs_operators__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("A2S1"),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("w0kG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("SrNW");function DevToolsFeatureOptions(){}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("@ngrx/devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("@ngrx/devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(t){const e={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}};let n="function"==typeof t?t():t;const i=Object.assign({},e,{features:n.features||!!n.logOnly&&{pause:!0,export:!0,test:!0}||e.features},n);if(i.maxAge&&i.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${i.maxAge}`);return i}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=PERFORM_ACTION,void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(t){this.timestamp=t,this.type=RESET}}class Rollback{constructor(t){this.timestamp=t,this.type=ROLLBACK}}class Commit{constructor(t){this.timestamp=t,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(t){this.id=t,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(t,e,n=!0){this.start=t,this.end=e,this.active=n,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(t){this.index=t,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(t){this.actionId=t,this.type=JUMP_TO_ACTION}}class ImportState{constructor(t){this.nextLiftedState=t,this.type=IMPORT_STATE}}class LockChanges{constructor(t){this.status=t,this.type=LOCK_CHANGES}}class PauseRecording{constructor(t){this.status=t,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class t extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a{}return t.\u0275fac=function(e){return \u0275DevtoolsDispatcher_BaseFactory(e||t)},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})();const \u0275DevtoolsDispatcher_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yb(DevtoolsDispatcher);function difference(t,e){return t.filter(t=>e.indexOf(t)<0)}function unliftState(t){const{computedStates:e,currentStateIndex:n}=t;if(n>=e.length){const{state:t}=e[e.length-1];return t}const{state:i}=e[n];return i}function unliftAction(t){return t.actionsById[t.nextActionId-1]}function liftAction(t){return new PerformAction(t,+Date.now())}function sanitizeActions(t,e){return Object.keys(e).reduce((n,i)=>{const r=Number(i);return n[r]=sanitizeAction(t,e[r],r),n},{})}function sanitizeAction(t,e,n){return Object.assign(Object.assign({},e),{action:t(e.action,n)})}function sanitizeStates(t,e){return e.map((e,n)=>({state:sanitizeState(t,e.state,n),error:e.error}))}function sanitizeState(t,e,n){return t(e,n)}function shouldFilterActions(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function filterLiftedState(t,e,n,i){const r=[],o={},s=[];return t.stagedActionIds.forEach((a,c)=>{const l=t.actionsById[a];l&&(c&&isActionFiltered(t.computedStates[c],l,e,n,i)||(o[a]=l,r.push(a),s.push(t.computedStates[c])))}),Object.assign(Object.assign({},t),{stagedActionIds:r,actionsById:o,computedStates:s})}function isActionFiltered(t,e,n,i,r){const o=n&&!n(t,e.action),s=i&&!e.action.type.match(i.map(t=>escapeRegExp(t)).join("|")),a=r&&e.action.type.match(r.map(t=>escapeRegExp(t)).join("|"));return o||s||a}function escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("Redux Devtools Extension");function ReduxDevtoolsExtensionConnection(){}function ReduxDevtoolsExtensionConfig(){}function ReduxDevtoolsExtension(){}let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(t,e,n){this.config=e,this.dispatcher=n,this.devtoolsExtension=t,this.createActionStreams()}notify(t,e){if(this.devtoolsExtension)if(t.type===PERFORM_ACTION){if(e.isLocked||e.isPaused)return;const n=unliftState(e);if(shouldFilterActions(this.config)&&isActionFiltered(n,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const i=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,n,e.currentStateIndex):n,r=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,t,e.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(r,i))}else{const t=Object.assign(Object.assign({},e),{stagedActionIds:e.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,e.actionsById):e.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,e.computedStates):e.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,t,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.a(t=>{const e=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=e,e.init(),e.subscribe(e=>t.next(e)),e.unsubscribe}):Object(rxjs__WEBPACK_IMPORTED_MODULE_2__.b)()}createActionStreams(){const t=this.createChangesObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)()),e=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.START)),n=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.STOP)),i=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.DISPATCH),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(t=>this.unwrapAction(t.payload)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.a)(t=>t.type===IMPORT_STATE?this.dispatcher.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.l),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(()=>t),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.a)(()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.a)(1)):Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t))),r=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.ACTION),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(t=>this.unwrapAction(t.payload))).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n)),o=i.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n));this.start$=e.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n)),this.actions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>r)),this.liftedActions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>o))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(t){const e={name:t.name,features:t.features,serialize:t.serialize};return!1!==t.maxAge&&(e.maxAge=t.maxAge),e}sendToReduxDevtools(t){try{t()}catch(e){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",e)}}}return DevtoolsExtension.\u0275fac=function(t){return new(t||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function ComputedState(){}function LiftedAction(){}function LiftedActions(){}function LiftedState(){}function computeNextEntry(t,e,n,i,r){if(i)return{state:n,error:"Interrupted by an error up the chain"};let o,s=n;try{s=t(n,e)}catch(a){o=a.toString(),r.handleError(a.stack||a)}return{state:s,error:o}}function recomputeStates(t,e,n,i,r,o,s,a,c){if(e>=t.length&&t.length===o.length)return t;const l=t.slice(0,e),u=o.length-(c?1:0);for(let h=e;h<u;h++){const t=o[h],e=r[t].action,c=l[h-1],u=c?c.state:i,d=c?c.error:void 0,f=s.indexOf(t)>-1?c:computeNextEntry(n,e,u,d,a);l.push(f)}return c&&l.push(t[t.length-1]),l}function liftInitialState(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(t,e,n,i,r={}){return o=>(s,a)=>{let{monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:h,skippedActionIds:d,committedState:f,currentStateIndex:p,computedStates:m,isLocked:g,isPaused:y}=s||e;function v(t){let e=t,n=h.slice(1,e+1);for(let i=0;i<n.length;i++){if(m[i+1].error){e=i,n=h.slice(1,e+1);break}delete l[n[i]]}d=d.filter(t=>-1===n.indexOf(t)),h=[0,...h.slice(e+1)],f=m[e].state,m=m.slice(e),p=p>e?p-e:0}function _(){l={0:liftAction(INIT_ACTION)},u=1,h=[0],d=[],f=m[p].state,p=0,m=[]}s||(l=Object.create(l));let b=0;switch(a.type){case LOCK_CHANGES:g=a.status,b=1/0;break;case PAUSE_RECORDING:y=a.status,y?(h=[...h,u],l[u]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),u++,b=h.length-1,m=m.concat(m[m.length-1]),p===h.length-2&&p++,b=1/0):_();break;case RESET:l={0:liftAction(INIT_ACTION)},u=1,h=[0],d=[],f=t,p=0,m=[];break;case COMMIT:_();break;case ROLLBACK:l={0:liftAction(INIT_ACTION)},u=1,h=[0],d=[],p=0,m=[];break;case TOGGLE_ACTION:{const{id:t}=a,e=d.indexOf(t);d=-1===e?[t,...d]:d.filter(e=>e!==t),b=h.indexOf(t);break}case SET_ACTIONS_ACTIVE:{const{start:t,end:e,active:n}=a,i=[];for(let r=t;r<e;r++)i.push(r);d=n?difference(d,i):[...d,...i],b=h.indexOf(t);break}case JUMP_TO_STATE:p=a.index,b=1/0;break;case JUMP_TO_ACTION:{const t=h.indexOf(a.actionId);-1!==t&&(p=t),b=1/0;break}case SWEEP:h=difference(h,d),d=[],p=Math.min(p,h.length-1);break;case PERFORM_ACTION:{if(g)return s||e;if(y||s&&isActionFiltered(s.computedStates[p],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){const t=m[m.length-1];m=[...m.slice(0,-1),computeNextEntry(o,a.action,t.state,t.error,n)],b=1/0;break}r.maxAge&&h.length===r.maxAge&&v(1),p===h.length-1&&p++;const t=u++;l[t]=a,h=[...h,t],b=h.length-1;break}case IMPORT_STATE:({monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:h,skippedActionIds:d,committedState:f,currentStateIndex:p,computedStates:m,isLocked:g,isPaused:y}=a.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b:b=0,r.maxAge&&h.length>r.maxAge&&(m=recomputeStates(m,b,o,f,l,h,d,n,y),v(h.length-r.maxAge),b=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.l:if(m.filter(t=>t.error).length>0)b=0,r.maxAge&&h.length>r.maxAge&&(m=recomputeStates(m,b,o,f,l,h,d,n,y),v(h.length-r.maxAge),b=1/0);else{if(!y&&!g){p===h.length-1&&p++;const t=u++;l[t]=new PerformAction(a,+Date.now()),h=[...h,t],b=h.length-1,m=recomputeStates(m,b,o,f,l,h,d,n,y)}m=m.map(t=>Object.assign(Object.assign({},t),{state:o(t.state,RECOMPUTE_ACTION)})),p=h.length-1,r.maxAge&&h.length>r.maxAge&&v(h.length-r.maxAge),b=1/0}break;default:b=1/0}return m=recomputeStates(m,b,o,f,l,h,d,n,y),c=i(c,a),{monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:h,skippedActionIds:d,committedState:f,currentStateIndex:p,computedStates:m,isLocked:g,isPaused:y}}}let StoreDevtools=(()=>{class t{constructor(t,e,n,i,r,o,s,a){const c=liftInitialState(s,a.monitor),l=liftReducerWith(s,c,o,a.monitor,a),u=Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(e.asObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.a)(1)),i.actions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(liftAction)),t,i.liftedActions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.b)(rxjs__WEBPACK_IMPORTED_MODULE_6__.a)),h=n.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(l)),d=new rxjs__WEBPACK_IMPORTED_MODULE_7__.a(1),f=u.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.a)(h),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(({state:t},[e,n])=>{let r=n(t,e);return e.type!==PERFORM_ACTION&&shouldFilterActions(a)&&(r=filterLiftedState(r,a.predicate,a.actionsSafelist,a.actionsBlocklist)),i.notify(e,r),{state:r,action:e}},{state:c,action:null})).subscribe(({state:t,action:e})=>{d.next(t),e.type===PERFORM_ACTION&&r.next(e.action)}),p=i.start$.subscribe(()=>{this.refresh()}),m=d.asObservable(),g=m.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(unliftState));this.extensionStartSubscription=p,this.stateSubscription=f,this.dispatcher=t,this.liftedState=m,this.state=g}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new PerformAction(t,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(t){this.dispatch(new ToggleAction(t))}jumpToAction(t){this.dispatch(new JumpToAction(t))}jumpToState(t){this.dispatch(new JumpToState(t))}importState(t){this.dispatch(new ImportState(t))}lockChanges(t){this.dispatch(new LockChanges(t))}pauseRecording(t){this.dispatch(new PauseRecording(t))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.e),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac(_angular_core__WEBPACK_IMPORTED_MODULE_0__.n),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.ac(STORE_DEVTOOLS_CONFIG))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Mb({token:t,factory:t.\u0275fac}),t})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.r("Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(t,e){return Boolean(t)||e.monitor!==noMonitor}function createReduxDevtoolsExtension(){return"object"==typeof window&&void 0!==window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:null}function createStateObservable(t){return t.state}let StoreDevtoolsModule=(()=>{class t{static instrument(e={}){return{ngModule:t,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:e},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.g,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.d,useExisting:DevtoolsDispatcher}]}}}return t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ob({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Nb({factory:function(e){return new(e||t)}}),t})()},A2S1:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var i=n("5uGe"),r=n("ryP2");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends i.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(r.a.createNext(t))}_error(t){this.scheduleMessage(r.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(r.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},AmJI:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n("huQ6"),o=(i=n("plFh"))&&"object"==typeof i&&"default"in i?i.default:i,s=n("Gjt8"),a=n("82Ps"),c=n("WRB3"),l=n("EeOn"),u=o.SDK_VERSION,h=function(){function t(t){this.uid=t}return t.prototype.t=function(){return null!=this.uid},t.prototype.s=function(){return this.t()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();h.UNAUTHENTICATED=new h(null),h.i=new h("google-credentials-uid"),h.h=new h("first-party-uid");var d={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f=function(t){function e(e,n){var i=this;return(i=t.call(this,n)||this).code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return r.__extends(e,t),e}(Error),p=function(t,e){this.user=e,this.type="OAuth",this.o={},this.o.Authorization="Bearer "+t},m=function(){function t(){this.u=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype._=function(){},t.prototype.l=function(t){this.u=t,t(h.UNAUTHENTICATED)},t.prototype.T=function(){this.u=null},t}(),g=function(){function t(t){var e=this;this.I=null,this.currentUser=h.UNAUTHENTICATED,this.R=!1,this.A=0,this.u=null,this.forceRefresh=!1,this.I=function(){e.A++,e.currentUser=e.m(),e.R=!0,e.u&&e.u(e.currentUser)},this.A=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.I):(this.I(null),t.get().then((function(t){e.auth=t,e.I&&e.auth.addAuthTokenListener(e.I)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.A,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.A!==e)throw new f(d.ABORTED,"getToken aborted due to token change.");return n?(xe("string"==typeof n.accessToken),new p(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype._=function(){this.forceRefresh=!0},t.prototype.l=function(t){this.u=t,this.R&&t(this.currentUser)},t.prototype.T=function(){this.auth&&this.auth.removeAuthTokenListener(this.I),this.I=null,this.u=null},t.prototype.m=function(){var t=this.auth&&this.auth.getUid();return xe(null===t||"string"==typeof t),new h(t)},t}(),y=function(){function t(t,e){this.P=t,this.V=e,this.type="FirstParty",this.user=h.h}return Object.defineProperty(t.prototype,"o",{get:function(){var t={"X-Goog-AuthUser":this.V},e=this.P.auth.g([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),v=function(){function t(t,e){this.P=t,this.V=e}return t.prototype.getToken=function(){return Promise.resolve(new y(this.P,this.V))},t.prototype.l=function(t){t(h.h)},t.prototype.T=function(){},t.prototype._=function(){},t}(),_=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new f(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new f(d.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new f(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new f(d.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.p=function(t){return this.seconds===t.seconds?Oe(this.nanoseconds,t.nanoseconds):Oe(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),b=function(){function t(t){this.timestamp=t}return t.v=function(e){return new t(e)},t.S=function(){return t.MIN},t.prototype.D=function(t){return this.timestamp.p(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.C=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.F=function(){return this.timestamp},t}();b.MIN=new b(new _(0,0));var w=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ce(),void 0===n?n=t.length-e:n>t.length-e&&Ce(),this.segments=t,this.offset=e,this.N=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.N},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.k(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.$(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.M=function(t){return this.$(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.L=function(){return this.$(this.segments,this.offset,this.length-1)},t.prototype.O=function(){return this.segments[this.offset]},t.prototype.B=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.q=function(){return 0===this.length},t.prototype.U=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.W=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.j=function(){return this.segments.slice(this.offset,this.limit())},t.k=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.$=function(t,n,i){return new e(t,n,i)},e.prototype.K=function(){return this.j().join("/")},e.prototype.toString=function(){return this.K()},e.G=function(t){if(t.indexOf("//")>=0)throw new f(d.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e}(w);E.H=new E([]);var C=/^[_a-zA-Z][_a-zA-Z0-9]*$/,x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.$=function(t,n,i){return new e(t,n,i)},e.Y=function(t){return C.test(t)},e.prototype.K=function(){return this.j().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.Y(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.K()},e.prototype.J=function(){return 1===this.length&&"__name__"===this.get(0)},e.X=function(){return new e(["__name__"])},e.Z=function(t){for(var n=[],i="",r=0,o=function(){if(0===i.length)throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(i),i=""},s=!1;r<t.length;){var a=t[r];if("\\"===a){if(r+1===t.length)throw new f(d.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new f(d.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new f(d.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e}(w);x.H=new x([]);var S=function(){function t(t){this.path=t}return t.tt=function(e){return new t(E.G(e).M(5))},t.prototype.et=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===E.k(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.k=function(t,e){return E.k(t.path,e.path)},t.st=function(t){return t.length%2==0},t.it=function(e){return new t(new E(e.slice()))},t}();S.EMPTY=new S(new E([]));var O=function(){function t(t,e){this.k=t,this.root=e||k.EMPTY}return t.prototype.nt=function(e,n){return new t(this.k,this.root.nt(e,n,this.k).rt(null,null,k.ht,null,null))},t.prototype.remove=function(e){return new t(this.k,this.root.remove(e,this.k).rt(null,null,k.ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.q();){var n=this.k(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.q();){var i=this.k(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.q=function(){return this.root.q()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.ot=function(){return this.root.ot()},t.prototype.at=function(){return this.root.at()},t.prototype.ut=function(t){return this.root.ut(t)},t.prototype.forEach=function(t){this.ut((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ut((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ct=function(t){return this.root.ct(t)},t.prototype._t=function(){return new T(this.root,null,this.k,!1)},t.prototype.lt=function(t){return new T(this.root,t,this.k,!1)},t.prototype.dt=function(){return new T(this.root,null,this.k,!0)},t.prototype.ft=function(t){return new T(this.root,t,this.k,!0)},t}(),T=function(){function t(t,e,n,i){this.Tt=i,this.Et=[];for(var r=1;!t.q();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.Tt?t.left:t.right;else{if(0===r){this.Et.push(t);break}this.Et.push(t),t=this.Tt?t.right:t.left}}return t.prototype.It=function(){var t=this.Et.pop(),e={key:t.key,value:t.value};if(this.Tt)for(t=t.left;!t.q();)this.Et.push(t),t=t.right;else for(t=t.right;!t.q();)this.Et.push(t),t=t.left;return e},t.prototype.wt=function(){return this.Et.length>0},t.prototype.Rt=function(){if(0===this.Et.length)return null;var t=this.Et[this.Et.length-1];return{key:t.key,value:t.value}},t}(),k=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.rt=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.q=function(){return!1},t.prototype.ut=function(t){return this.left.ut(t)||t(this.key,this.value)||this.right.ut(t)},t.prototype.ct=function(t){return this.right.ct(t)||t(this.key,this.value)||this.left.ct(t)},t.prototype.min=function(){return this.left.q()?this:this.left.min()},t.prototype.ot=function(){return this.min().key},t.prototype.at=function(){return this.right.q()?this.key:this.right.at()},t.prototype.nt=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.rt(null,null,null,i.left.nt(t,e,n),null):0===r?i.rt(null,e,null,null,null):i.rt(null,null,null,null,i.right.nt(t,e,n))).At()},t.prototype.Pt=function(){if(this.left.q())return t.EMPTY;var e=this;return e.left.Vt()||e.left.left.Vt()||(e=e.gt()),(e=e.rt(null,null,null,e.left.Pt(),null)).At()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.q()||r.left.Vt()||r.left.left.Vt()||(r=r.gt()),r=r.rt(null,null,null,r.left.remove(e,n),null);else{if(r.left.Vt()&&(r=r.pt()),r.right.q()||r.right.Vt()||r.right.left.Vt()||(r=r.yt()),0===n(e,r.key)){if(r.right.q())return t.EMPTY;i=r.right.min(),r=r.rt(i.key,i.value,null,null,r.right.Pt())}r=r.rt(null,null,null,null,r.right.remove(e,n))}return r.At()},t.prototype.Vt=function(){return this.color},t.prototype.At=function(){var t=this;return t.right.Vt()&&!t.left.Vt()&&(t=t.bt()),t.left.Vt()&&t.left.left.Vt()&&(t=t.pt()),t.left.Vt()&&t.right.Vt()&&(t=t.vt()),t},t.prototype.gt=function(){var t=this.vt();return t.right.left.Vt()&&(t=(t=(t=t.rt(null,null,null,null,t.right.pt())).bt()).vt()),t},t.prototype.yt=function(){var t=this.vt();return t.left.left.Vt()&&(t=(t=t.pt()).vt()),t},t.prototype.bt=function(){var e=this.rt(null,null,t.RED,null,this.right.left);return this.right.rt(null,null,this.color,e,null)},t.prototype.pt=function(){var e=this.rt(null,null,t.RED,this.left.right,null);return this.left.rt(null,null,this.color,null,e)},t.prototype.vt=function(){var t=this.left.rt(null,null,!this.left.color,null,null),e=this.right.rt(null,null,!this.right.color,null,null);return this.rt(null,null,!this.color,t,e)},t.prototype.St=function(){var t=this.Dt();return Math.pow(2,t)<=this.size+1},t.prototype.Dt=function(){if(this.Vt()&&this.left.Vt())throw Ce();if(this.right.Vt())throw Ce();var t=this.left.Dt();if(t!==this.right.Dt())throw Ce();return t+(this.Vt()?0:1)},t}();k.EMPTY=null,k.RED=!0,k.ht=!1,k.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ce()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ce()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ce()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ce()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ce()},enumerable:!0,configurable:!0}),t.prototype.rt=function(t,e,n,i,r){return this},t.prototype.nt=function(t,e,n){return new k(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.q=function(){return!0},t.prototype.ut=function(t){return!1},t.prototype.ct=function(t){return!1},t.prototype.ot=function(){return null},t.prototype.at=function(){return null},t.prototype.Vt=function(){return!1},t.prototype.St=function(){return!0},t.prototype.Dt=function(){return 0},t}());var I=function(){function t(t){this.k=t,this.data=new O(this.k)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.ot()},t.prototype.last=function(){return this.data.at()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ut((function(e,n){return t(e),!1}))},t.prototype.Ct=function(t,e){for(var n=this.data.lt(t[0]);n.wt();){var i=n.It();if(this.k(i.key,t[1])>=0)return;e(i.key)}},t.prototype.Ft=function(t,e){var n;for(n=void 0!==e?this.data.lt(e):this.data._t();n.wt();)if(!t(n.It().key))return},t.prototype.Nt=function(t){var e=this.data.lt(t);return e.wt()?e.It().key:null},t.prototype._t=function(){return new A(this.data._t())},t.prototype.lt=function(t){return new A(this.data.lt(t))},t.prototype.add=function(t){return this.rt(this.data.remove(t).nt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.rt(this.data.remove(t)):this},t.prototype.q=function(){return this.data.q()},t.prototype.kt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data._t(),i=e.data._t();n.wt();){var r=n.It().key,o=i.It().key;if(0!==this.k(r,o))return!1}return!0},t.prototype.j=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.rt=function(e){var n=new t(this.k);return n.data=e,n},t}(),A=function(){function t(t){this.$t=t}return t.prototype.It=function(){return this.$t.It().key},t.prototype.wt=function(){return this.$t.wt()},t}();function N(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function P(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function R(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var D=function(){function t(t){this.Mt=t}return t.fromBase64String=function(e){return new t(ge.Lt().atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return ge.Lt().btoa(this.Mt)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.Mt)},t.prototype.Ot=function(){return 2*this.Mt.length},t.prototype.D=function(t){return Oe(this.Mt,t.Mt)},t.prototype.isEqual=function(t){return this.Mt===t.Mt},t}();function M(t){return null==t}function j(t){return-0===t&&1/t==-1/0}function L(t){return"number"==typeof t&&Number.isInteger(t)&&!j(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function F(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function V(t){var e=Q(t.mapValue.fields.__local_write_time__.timestampValue);return new _(e.seconds,e.nanos)}D.xt=new D("");var U=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function B(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?F(t)?4:10:Ce()}function z(t,e){var n=B(t);if(n!==B(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return V(t).isEqual(V(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Q(t.timestampValue),i=Q(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return $(t.bytesValue).isEqual($(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return K(t.geoPointValue.latitude)===K(e.geoPointValue.latitude)&&K(t.geoPointValue.longitude)===K(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return K(t.integerValue)===K(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=K(t.doubleValue),i=K(e.doubleValue);return n===i?j(n)===j(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Te(t.arrayValue.values||[],e.arrayValue.values||[],z);case 10:return function(t,e){var n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(N(n)!==N(i))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!z(n[r],i[r])))return!1;return!0}(t,e);default:return Ce()}}function q(t,e){return void 0!==(t.values||[]).find((function(t){return z(t,e)}))}function W(t,e){var n=B(t),i=B(e);if(n!==i)return Oe(n,i);switch(n){case 0:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=K(t.integerValue||t.doubleValue),i=K(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return H(t.timestampValue,e.timestampValue);case 4:return H(V(t),V(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(t,e){var n=$(t),i=$(e);return n.D(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<n.length&&r<i.length;r++){var o=Oe(n[r],i[r]);if(0!==o)return o}return Oe(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Oe(K(t.latitude),K(e.latitude));return 0!==n?n:Oe(K(t.longitude),K(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],i=e.values||[],r=0;r<n.length&&r<i.length;++r){var o=W(n[r],i[r]);if(o)return o}return Oe(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},i=Object.keys(n),r=e.fields||{},o=Object.keys(r);i.sort(),o.sort();for(var s=0;s<i.length&&s<o.length;++s){var a=Oe(i[s],o[s]);if(0!==a)return a;var c=W(n[i[s]],r[o[s]]);if(0!==c)return c}return Oe(i.length,o.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function H(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Oe(t,e);var n=Q(t),i=Q(e),r=Oe(n.seconds,i.seconds);return 0!==r?r:Oe(n.nanos,i.nanos)}function G(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Q(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?$(e.bytesValue).toBase64():"referenceValue"in e?S.tt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",i=!0,r=0,o=e.values||[];r<o.length;r++)i?i=!1:n+=",",n+=t(o[r]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",i=!0,r=0,o=Object.keys(e.fields||{}).sort();r<o.length;r++){var s=o[r];i?i=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Ce();var n}(t)}function Q(t){if(xe(!!t),"string"==typeof t){var e=0,n=U.exec(t);if(xe(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:K(t.seconds),nanos:K(t.nanos)}}function K(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function $(t){return"string"==typeof t?D.fromBase64String(t):D.fromUint8Array(t)}function Y(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.K()}}function X(t){return!!t&&"integerValue"in t}function Z(t){return!!t&&"arrayValue"in t}function J(t){return!!t&&"nullValue"in t}function tt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function et(t){return!!t&&"mapValue"in t}var nt=function(){function t(){}return t.prototype.Bt=function(t,e){return function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(e,t)},t.prototype.qt=function(t,e){return e},t.prototype.Ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t}();nt.instance=new nt;var it=function(){function t(t){this.elements=t}return t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=st(t),n=function(t){e.some((function(e){return z(e,t)}))||e.push(t)},i=0,r=this.elements;i<r.length;i++)n(r[i]);return{arrayValue:{values:e}}},t.prototype.Ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Te(this.elements,e.elements,z)},t}(),rt=function(){function t(t){this.elements=t}return t.prototype.Bt=function(t,e){return this.apply(t)},t.prototype.qt=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=st(t),n=function(t){e=e.filter((function(e){return!z(e,t)}))},i=0,r=this.elements;i<r.length;i++)n(r[i]);return{arrayValue:{values:e}}},t.prototype.Ut=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&Te(this.elements,e.elements,z)},t}(),ot=function(){function t(t,e){this.serializer=t,this.Qt=e}return t.prototype.Bt=function(t,e){var n=this.Ut(t),i=this.asNumber(n)+this.asNumber(this.Qt);return X(n)&&X(this.Qt)?this.serializer.Wt(i):this.serializer.jt(i)},t.prototype.qt=function(t,e){return e},t.prototype.Ut=function(t){return X(e=t)||function(t){return!!t&&"doubleValue"in t}(e)?t:{integerValue:0};var e},t.prototype.isEqual=function(e){return e instanceof t&&z(this.Qt,e.Qt)},t.prototype.asNumber=function(t){return K(t.integerValue||t.doubleValue)},t}();function st(t){return Z(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var at=function(){function t(t){this.fields=t}return t.Kt=function(e){return new t(e)},t.Gt=function(e){var n=new I(x.k);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.zt=function(t){var e=!1;return this.fields.forEach((function(n){n.U(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ct=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),lt=function(t,e){this.version=t,this.transformResults=e},ut=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ht",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.Yt=function(t){return void 0!==this.updateTime?t instanceof bt&&t.version.isEqual(this.updateTime):void 0===this.exists||this.exists===t instanceof bt},t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();ut.NONE=new ut;var ht=function(){function t(){}return t.prototype.Jt=function(t){},t.Xt=function(t){return t instanceof bt?t.version:b.MIN},t}(),dt=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).key=e,r.value=n,r.Zt=i,r.type=0,r}return r.__extends(e,t),e.prototype.qt=function(t,e){return this.Jt(t),new bt(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Jt(t),!this.Zt.Yt(t))return t;var i=ht.Xt(t);return new bt(this.key,i,this.value,{te:!0})},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.Zt.isEqual(t.Zt)},e}(ht),ft=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.se=i,o.Zt=r,o.type=1,o}return r.__extends(e,t),e.prototype.qt=function(t,e){if(this.Jt(t),!this.Zt.Yt(t))return new Et(this.key,e.version);var n=this.ie(t);return new bt(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Jt(t),!this.Zt.Yt(t))return t;var i=ht.Xt(t),r=this.ie(t);return new bt(this.key,i,r,{te:!0})},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.se.isEqual(t.se)&&this.Zt.isEqual(t.Zt)},e.prototype.ie=function(t){var e;return e=t instanceof bt?t.data():yt.EMPTY,this.ne(e)},e.prototype.ne=function(t){var e=this,n=t.re();return this.se.fields.forEach((function(t){if(!t.q()){var i=e.data.field(t);null!==i?n.set(t,i):n.delete(t)}})),n.he()},e}(ht),pt=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.fieldTransforms=n,i.type=2,i.Zt=ut.exists(!0),i}return r.__extends(e,t),e.prototype.qt=function(t,e){if(this.Jt(t),xe(null!=e.transformResults),!this.Zt.Yt(t))return new Et(this.key,e.version);var n=this.oe(t),i=this.ae(t,e.transformResults),r=e.version,o=this.ue(n.data(),i);return new bt(this.key,r,o,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){if(this.Jt(t),!this.Zt.Yt(t))return t;var i=this.oe(t),r=this.ce(n,t,e),o=this.ue(i.data(),r);return new bt(this.key,i.version,o,{te:!0})},e.prototype.ee=function(t){for(var e=null,n=0,i=this.fieldTransforms;n<i.length;n++){var r=i[n],o=t instanceof bt?t.field(r.field):void 0,s=r.transform.Ut(o||null);null!=s&&(e=null==e?yt._e().set(r.field,s):e.set(r.field,s))}return e?e.he():null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&Te(this.fieldTransforms,t.fieldTransforms,(function(t,e){return t.isEqual(e)}))&&this.Zt.isEqual(t.Zt)},e.prototype.oe=function(t){return t},e.prototype.ae=function(t,e){var n=[];xe(this.fieldTransforms.length===e.length);for(var i=0;i<e.length;i++){var r=this.fieldTransforms[i],o=r.transform,s=null;t instanceof bt&&(s=t.field(r.field)),n.push(o.qt(s,e[i]))}return n},e.prototype.ce=function(t,e,n){for(var i=[],r=0,o=this.fieldTransforms;r<o.length;r++){var s=o[r],a=s.transform,c=null;e instanceof bt&&(c=e.field(s.field)),null===c&&n instanceof bt&&(c=n.field(s.field)),i.push(a.Bt(c,t))}return i},e.prototype.ue=function(t,e){for(var n=t.re(),i=0;i<this.fieldTransforms.length;i++)n.set(this.fieldTransforms[i].field,e[i]);return n.he()},e}(ht),mt=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Zt=n,i.type=3,i}return r.__extends(e,t),e.prototype.qt=function(t,e){return this.Jt(t),new wt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.Bt=function(t,e,n){return this.Jt(t),this.Zt.Yt(t)?new wt(this.key,b.S()):t},e.prototype.ee=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Zt.isEqual(t.Zt)},e}(ht),gt=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).key=e,i.Zt=n,i.type=4,i}return r.__extends(e,t),e.prototype.qt=function(t,e){Ce()},e.prototype.Bt=function(t,e,n){Ce()},e.prototype.ee=function(t){Ce()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.Zt.isEqual(t.Zt)},e}(ht),yt=function(){function t(t){this.proto=t}return t._e=function(){return t.EMPTY.re()},t.prototype.field=function(t){if(t.q())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!et(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.B()])||null},t.prototype.se=function(){return this.le(this.proto.mapValue)},t.prototype.le=function(t){var e=this,n=new I(x.k);return P(t.fields||{},(function(t,i){var r=new x([t]);if(10===B(i)){var o=e.le(i.mapValue).fields;o.q()?n=n.add(r):o.forEach((function(t){n=n.add(r.child(t))}))}else n=n.add(r)})),at.Kt(n)},t.prototype.isEqual=function(t){return z(this.proto,t.proto)},t.prototype.re=function(){return new vt(this)},t}();yt.EMPTY=new yt({mapValue:{}});var vt=function(){function t(t){this.de=t,this.fe=new Map}return t.prototype.set=function(t,e){return this.Te(t,e),this},t.prototype.delete=function(t){return this.Te(t,null),this},t.prototype.Te=function(t,e){for(var n=this.fe,i=0;i<t.length-1;++i){var r=t.get(i),o=n.get(r);o instanceof Map?n=o:o&&10===B(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(r,o),n=o):(o=new Map,n.set(r,o),n=o)}n.set(t.B(),e)},t.prototype.he=function(){var t=this.Ee(x.H,this.fe);return null!=t?new yt(t):this.de},t.prototype.Ee=function(t,e){var n=this,i=!1,r=this.de.field(t),o=et(r)?Object.assign({},r.mapValue.fields):{};return e.forEach((function(e,r){if(e instanceof Map){var s=n.Ee(t.child(r),e);null!=s&&(o[r]=s,i=!0)}else null!==e?(o[r]=e,i=!0):o.hasOwnProperty(r)&&(delete o[r],i=!0)})),i?{mapValue:{fields:o}}:null},t}(),_t=function(){function t(t,e){this.key=t,this.version=e}return t.Ie=function(t,e){return S.k(t.key,e.key)},t}(),bt=function(t){function e(e,n,i,r){var o=this;return(o=t.call(this,e,n)||this).we=i,o.te=!!r.te,o.hasCommittedMutations=!!r.hasCommittedMutations,o}return r.__extends(e,t),e.prototype.field=function(t){return this.we.field(t)},e.prototype.data=function(){return this.we},e.prototype.Re=function(){return this.we.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.te===t.te&&this.hasCommittedMutations===t.hasCommittedMutations&&this.we.isEqual(t.we)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.we.toString()+", {hasLocalMutations: "+this.te+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.te||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.Ae=function(t,e,n){var i=e.field(t),r=n.field(t);return null!==i&&null!==r?W(i,r):Ce()},e}(_t),wt=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n)||this).hasCommittedMutations=!(!i||!i.hasCommittedMutations),r}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_t),Et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(_t),Ct=function(){function t(t,e,n,i,r,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=o,this.endAt=s,this.me=null}return t.prototype.canonicalId=function(){if(null===this.me){var t=this.path.K();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:",t+=this.filters.map((function(t){return t.canonicalId()})).join(","),t+="|ob:",t+=this.orderBy.map((function(t){return t.canonicalId()})).join(","),M(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.me=t}return this.me},t.prototype.toString=function(){var t=this.path.K();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),M(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var n=0;n<this.filters.length;n++)if(!this.filters[n].isEqual(t.filters[n]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!!(null!==this.startAt?this.startAt.isEqual(t.startAt):null===t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.Pe=function(){return S.st(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),xt=function(){function t(t,e,n,i,r,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===r&&(r=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.Ve=n,this.filters=i,this.limit=r,this.ge=o,this.startAt=s,this.endAt=a,this.pe=null,this.ye=null,this.startAt&&this.be(this.startAt),this.endAt&&this.be(this.endAt)}return t.ve=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.pe){var t=this.Se(),e=this.De();if(null!==t&&null===e)this.pe=t.J()?[Lt]:[new jt(t),Lt];else{this.pe=[];for(var n=!1,i=0,r=this.Ve;i<r.length;i++){var o=r[i];this.pe.push(o),o.field.J()&&(n=!0)}n||this.pe.push((this.Ve.length>0?this.Ve[this.Ve.length-1].dir:Pt.ASCENDING)===Pt.ASCENDING?Lt:Ft)}}return this.pe},enumerable:!0,configurable:!0}),t.prototype.Ce=function(e){var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.Ve.slice(),n,this.limit,this.ge,this.startAt,this.endAt)},t.prototype.Fe=function(e){var n=this.Ve.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.ge,this.startAt,this.endAt)},t.prototype.Ne=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),e,"F",this.startAt,this.endAt)},t.prototype.ke=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),e,"L",this.startAt,this.endAt)},t.prototype.$e=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,e,this.endAt)},t.prototype.Me=function(e){return new t(this.path,this.collectionGroup,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,this.startAt,e)},t.prototype.Le=function(e){return new t(e,null,this.Ve.slice(),this.filters.slice(),this.limit,this.ge,this.startAt,this.endAt)},t.prototype.Oe=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.Ve.length||1===this.Ve.length&&this.Ve[0].field.J())},t.prototype.canonicalId=function(){return this.xe().canonicalId()+"|lt:"+this.ge},t.prototype.toString=function(){return"Query(target="+this.xe().toString()+"; limitType="+this.ge+")"},t.prototype.isEqual=function(t){return this.xe().isEqual(t.xe())&&this.ge===t.ge},t.prototype.Be=function(t,e){for(var n=!1,i=0,r=this.orderBy;i<r.length;i++){var o=r[i],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.J()}return 0},t.prototype.matches=function(t){return this.qe(t)&&this.Ue(t)&&this.Qe(t)&&this.We(t)},t.prototype.je=function(){return!M(this.limit)&&"F"===this.ge},t.prototype.Ke=function(){return!M(this.limit)&&"L"===this.ge},t.prototype.De=function(){return this.Ve.length>0?this.Ve[0].field:null},t.prototype.Se=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Ot&&n.Ge())return n.field}return null},t.prototype.ze=function(t){for(var e=0,n=this.filters;e<n.length;e++){var i=n[e];if(i instanceof Ot&&t.indexOf(i.op)>=0)return i.op}return null},t.prototype.Pe=function(){return this.xe().Pe()},t.prototype.He=function(){return null!==this.collectionGroup},t.prototype.xe=function(){if(!this.ye)if("F"===this.ge)this.ye=new Ct(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var i=n[e];t.push(new jt(i.field,i.dir===Pt.DESCENDING?Pt.ASCENDING:Pt.DESCENDING))}var r=this.endAt?new Mt(this.endAt.position,!this.endAt.before):null,o=this.startAt?new Mt(this.startAt.position,!this.startAt.before):null;this.ye=new Ct(this.path,this.collectionGroup,t,this.filters,this.limit,r,o)}return this.ye},t.prototype.qe=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.et(this.collectionGroup)&&this.path.U(e):S.st(this.path)?this.path.isEqual(e):this.path.W(e)},t.prototype.Ue=function(t){for(var e=0,n=this.Ve;e<n.length;e++){var i=n[e];if(!i.field.J()&&null===t.field(i.field))return!1}return!0},t.prototype.Qe=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.We=function(t){return!(this.startAt&&!this.startAt.Ye(this.orderBy,t)||this.endAt&&this.endAt.Ye(this.orderBy,t))},t.prototype.be=function(t){},t}(),St=function(){function t(t){this.name=t}return t.G=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return Ce()}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t}();St.LESS_THAN=new St("<"),St.LESS_THAN_OR_EQUAL=new St("<="),St.EQUAL=new St("=="),St.GREATER_THAN=new St(">"),St.GREATER_THAN_OR_EQUAL=new St(">="),St.ARRAY_CONTAINS=new St("array-contains"),St.IN=new St("in"),St.ARRAY_CONTAINS_ANY=new St("array-contains-any");var Ot=function(t){function e(e,n,i){var r=this;return(r=t.call(this)||this).field=e,r.op=n,r.value=i,r}return r.__extends(e,t),e.create=function(t,n,i){if(t.J())return n===St.IN?new kt(t,i):new Tt(t,n,i);if(J(i)){if(n!==St.EQUAL)throw new f(d.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,i)}if(tt(i)){if(n!==St.EQUAL)throw new f(d.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,i)}return n===St.ARRAY_CONTAINS?new It(t,i):n===St.IN?new At(t,i):n===St.ARRAY_CONTAINS_ANY?new Nt(t,i):new e(t,n,i)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&B(this.value)===B(e)&&this.Je(W(e,this.value))},e.prototype.Je=function(t){switch(this.op){case St.LESS_THAN:return t<0;case St.LESS_THAN_OR_EQUAL:return t<=0;case St.EQUAL:return 0===t;case St.GREATER_THAN:return t>0;case St.GREATER_THAN_OR_EQUAL:return t>=0;default:return Ce()}},e.prototype.Ge=function(){return[St.LESS_THAN,St.LESS_THAN_OR_EQUAL,St.GREATER_THAN,St.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.K()+this.op.toString()+G(this.value)},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&z(this.value,t.value)},e.prototype.toString=function(){return this.field.K()+" "+this.op+" "+G(this.value)},e}((function(){})),Tt=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).key=S.tt(i.referenceValue),r}return r.__extends(e,t),e.prototype.matches=function(t){var e=S.k(t.key,this.key);return this.Je(e)},e}(Ot),kt=function(t){function e(e,n){var i=this;return(i=t.call(this,e,St.IN,n)||this).keys=(n.arrayValue.values||[]).map((function(t){return S.tt(t.referenceValue)})),i}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Ot),It=function(t){function e(e,n){return t.call(this,e,St.ARRAY_CONTAINS,n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Z(e)&&q(e.arrayValue,this.value)},e}(Ot),At=function(t){function e(e,n){return t.call(this,e,St.IN,n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&q(this.value.arrayValue,e)},e}(Ot),Nt=function(t){function e(e,n){return t.call(this,e,St.ARRAY_CONTAINS_ANY,n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Z(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return q(e.value.arrayValue,t)}))},e}(Ot),Pt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t}();Pt.ASCENDING=new Pt("asc"),Pt.DESCENDING=new Pt("desc");var Rt,Dt,Mt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){return(this.before?"b":"a")+":"+this.position.map((function(t){return G(t)})).join(",")},t.prototype.Ye=function(t,e){for(var n=0,i=0;i<this.position.length;i++){var r=t[i],o=this.position[i];if(n=r.field.J()?S.k(S.tt(o.referenceValue),e.key):W(o,e.field(r.field)),r.dir===Pt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!z(this.position[e],t.position[e]))return!1;return!0},t}(),jt=function(){function t(t,e){this.field=t,void 0===e&&(e=Pt.ASCENDING),this.dir=e,this.Xe=t.J()}return t.prototype.compare=function(t,e){var n=this.Xe?bt.Ie(t,e):bt.Ae(this.field,t,e);switch(this.dir){case Pt.ASCENDING:return n;case Pt.DESCENDING:return-1*n;default:return Ce()}},t.prototype.canonicalId=function(){return this.field.K()+this.dir.toString()},t.prototype.toString=function(){return this.field.K()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Lt=new jt(x.X(),Pt.ASCENDING),Ft=new jt(x.X(),Pt.DESCENDING),Vt=function(){function t(t,e,n,i,r,o,s){void 0===r&&(r=b.MIN),void 0===o&&(o=b.MIN),void 0===s&&(s=D.xt),this.target=t,this.targetId=e,this.Ze=n,this.sequenceNumber=i,this.ts=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.es=function(e){return new t(this.target,this.targetId,this.Ze,e,this.ts,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.ss=function(e,n){return new t(this.target,this.targetId,this.Ze,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.ns=function(e){return new t(this.target,this.targetId,this.Ze,this.sequenceNumber,this.ts,e,this.resumeToken)},t}(),Ut=function(t){this.count=t};function Bt(t){switch(t){case d.OK:return Ce();case d.CANCELLED:case d.UNKNOWN:case d.DEADLINE_EXCEEDED:case d.RESOURCE_EXHAUSTED:case d.INTERNAL:case d.UNAVAILABLE:case d.UNAUTHENTICATED:return!1;case d.INVALID_ARGUMENT:case d.NOT_FOUND:case d.ALREADY_EXISTS:case d.PERMISSION_DENIED:case d.FAILED_PRECONDITION:case d.ABORTED:case d.OUT_OF_RANGE:case d.UNIMPLEMENTED:case d.DATA_LOSS:return!0;default:return Ce()}}function zt(t){if(void 0===t)return we("GRPC error has no .code"),d.UNKNOWN;switch(t){case Rt.OK:return d.OK;case Rt.CANCELLED:return d.CANCELLED;case Rt.UNKNOWN:return d.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return d.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return d.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return d.INTERNAL;case Rt.UNAVAILABLE:return d.UNAVAILABLE;case Rt.UNAUTHENTICATED:return d.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return d.INVALID_ARGUMENT;case Rt.NOT_FOUND:return d.NOT_FOUND;case Rt.ALREADY_EXISTS:return d.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return d.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return d.FAILED_PRECONDITION;case Rt.ABORTED:return d.ABORTED;case Rt.OUT_OF_RANGE:return d.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return d.UNIMPLEMENTED;case Rt.DATA_LOSS:return d.DATA_LOSS;default:return Ce()}}(Dt=Rt||(Rt={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";var qt=new O(S.k);function Wt(){return qt}function Ht(){return Wt()}var Gt=new O(S.k);function Qt(){return Gt}var Kt=new O(S.k);function $t(){return Kt}var Yt=new I(S.k);function Xt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Yt,i=0,r=t;i<r.length;i++){var o=r[i];n=n.add(o)}return n}var Zt=new I(Oe);function Jt(){return Zt}var te=function(){function t(t){this.k=t?function(e,n){return t(e,n)||S.k(e.key,n.key)}:function(t,e){return S.k(t.key,e.key)},this.rs=Qt(),this.hs=new O(this.k)}return t.os=function(e){return new t(e.k)},t.prototype.has=function(t){return null!=this.rs.get(t)},t.prototype.get=function(t){return this.rs.get(t)},t.prototype.first=function(){return this.hs.ot()},t.prototype.last=function(){return this.hs.at()},t.prototype.q=function(){return this.hs.q()},t.prototype.indexOf=function(t){var e=this.rs.get(t);return e?this.hs.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.hs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.hs.ut((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.rt(e.rs.nt(t.key,t),e.hs.nt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.rt(this.rs.remove(t),this.hs.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.hs._t(),i=e.hs._t();n.wt();){var r=n.It().key,o=i.It().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.rt=function(e,n){var i=new t;return i.k=this.k,i.rs=e,i.hs=n,i},t}(),ee=function(){function t(){this.as=new O(S.k)}return t.prototype.track=function(t){var e=t.doc.key,n=this.as.get(e);n?0!==t.type&&3===n.type?this.as=this.as.nt(e,t):3===t.type&&1!==n.type?this.as=this.as.nt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.as=this.as.nt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.as=this.as.nt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.as=this.as.remove(e):1===t.type&&2===n.type?this.as=this.as.nt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.as=this.as.nt(e,{type:2,doc:t.doc}):Ce():this.as=this.as.nt(e,t)},t.prototype.us=function(){var t=[];return this.as.ut((function(e,n){t.push(n)})),t},t}(),ne=function(){function t(t,e,n,i,r,o,s,a){this.query=t,this.docs=e,this.cs=n,this.docChanges=i,this._s=r,this.fromCache=o,this.ls=s,this.ds=a}return t.fs=function(e,n,i,r){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,te.os(n),o,i,r,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this._s.q()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.ls===t.ls&&this._s.isEqual(t._s)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.cs.isEqual(t.cs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}(),ie=function(){function t(t,e,n,i,r){this.ts=t,this.Ts=e,this.Es=n,this.Is=i,this.ws=r}return t.Rs=function(e,n){var i=new Map;return i.set(e,re.As(e,n)),new t(b.MIN,i,Jt(),Wt(),Xt())},t}(),re=function(){function t(t,e,n,i,r){this.resumeToken=t,this.ms=e,this.Ps=n,this.Vs=i,this.gs=r}return t.As=function(e,n){return new t(D.xt,n,Xt(),Xt(),Xt())},t}(),oe=function(t,e,n,i){this.ps=t,this.removedTargetIds=e,this.key=n,this.ys=i},se=function(t,e){this.targetId=t,this.bs=e},ae=function(t,e,n,i){void 0===n&&(n=D.xt),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},ce=function(){function t(){this.vs=0,this.Ss=he(),this.Ds=D.xt,this.Cs=!1,this.Fs=!0}return Object.defineProperty(t.prototype,"ms",{get:function(){return this.Cs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Ds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Ns",{get:function(){return 0!==this.vs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ks",{get:function(){return this.Fs},enumerable:!0,configurable:!0}),t.prototype.$s=function(t){t.Ot()>0&&(this.Fs=!0,this.Ds=t)},t.prototype.Ms=function(){var t=Xt(),e=Xt(),n=Xt();return this.Ss.forEach((function(i,r){switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Ce()}})),new re(this.Ds,this.Cs,t,e,n)},t.prototype.Ls=function(){this.Fs=!1,this.Ss=he()},t.prototype.Os=function(t,e){this.Fs=!0,this.Ss=this.Ss.nt(t,e)},t.prototype.xs=function(t){this.Fs=!0,this.Ss=this.Ss.remove(t)},t.prototype.Bs=function(){this.vs+=1},t.prototype.qs=function(){this.vs-=1},t.prototype.Us=function(){this.Fs=!0,this.Cs=!0},t}(),le=function(){function t(t){this.Qs=t,this.Ws=new Map,this.js=Wt(),this.Ks=ue(),this.Gs=new I(Oe)}return t.prototype.zs=function(t){for(var e=0,n=t.ps;e<n.length;e++){var i=n[e];t.ys instanceof bt?this.Hs(i,t.ys):t.ys instanceof wt&&this.Ys(i,t.key,t.ys)}for(var r=0,o=t.removedTargetIds;r<o.length;r++)this.Ys(o[r],t.key,t.ys)},t.prototype.Js=function(t){var e=this;this.Xs(t,(function(n){var i=e.Zs(n);switch(t.state){case 0:e.ti(n)&&i.$s(t.resumeToken);break;case 1:i.qs(),i.Ns||i.Ls(),i.$s(t.resumeToken);break;case 2:i.qs(),i.Ns||e.removeTarget(n);break;case 3:e.ti(n)&&(i.Us(),i.$s(t.resumeToken));break;case 4:e.ti(n)&&(e.ei(n),i.$s(t.resumeToken));break;default:Ce()}}))},t.prototype.Xs=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ws.forEach((function(t,i){n.ti(i)&&e(i)}))},t.prototype.si=function(t){var e=t.targetId,n=t.bs.count,i=this.ii(e);if(i){var r=i.target;if(r.Pe())if(0===n){var o=new S(r.path);this.Ys(e,o,new wt(o,b.S()))}else xe(1===n);else this.ni(e)!==n&&(this.ei(e),this.Gs=this.Gs.add(e))}},t.prototype.ri=function(t){var e=this,n=new Map;this.Ws.forEach((function(i,r){var o=e.ii(r);if(o){if(i.ms&&o.target.Pe()){var s=new S(o.target.path);null!==e.js.get(s)||e.hi(r,s)||e.Ys(r,s,new wt(s,t))}i.ks&&(n.set(r,i.Ms()),i.Ls())}}));var i=Xt();this.Ks.forEach((function(t,n){var r=!0;n.Ft((function(t){var n=e.ii(t);return!n||2===n.Ze||(r=!1,!1)})),r&&(i=i.add(t))}));var r=new ie(t,n,this.Gs,this.js,i);return this.js=Wt(),this.Ks=ue(),this.Gs=new I(Oe),r},t.prototype.Hs=function(t,e){if(this.ti(t)){var n=this.hi(t,e.key)?2:0;this.Zs(t).Os(e.key,n),this.js=this.js.nt(e.key,e),this.Ks=this.Ks.nt(e.key,this.oi(e.key).add(t))}},t.prototype.Ys=function(t,e,n){if(this.ti(t)){var i=this.Zs(t);this.hi(t,e)?i.Os(e,1):i.xs(e),this.Ks=this.Ks.nt(e,this.oi(e).delete(t)),n&&(this.js=this.js.nt(e,n))}},t.prototype.removeTarget=function(t){this.Ws.delete(t)},t.prototype.ni=function(t){var e=this.Zs(t).Ms();return this.Qs.ai(t).size+e.Ps.size-e.gs.size},t.prototype.Bs=function(t){this.Zs(t).Bs()},t.prototype.Zs=function(t){var e=this.Ws.get(t);return e||(e=new ce,this.Ws.set(t,e)),e},t.prototype.oi=function(t){var e=this.Ks.get(t);return e||(e=new I(Oe),this.Ks=this.Ks.nt(t,e)),e},t.prototype.ti=function(t){var e=null!==this.ii(t);return e||be("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ii=function(t){var e=this.Ws.get(t);return e&&e.Ns?null:this.Qs.ui(t)},t.prototype.ei=function(t){var e=this;this.Ws.set(t,new ce),this.Qs.ai(t).forEach((function(n){e.Ys(t,n,null)}))},t.prototype.hi=function(t,e){return this.Qs.ai(t).has(e)},t}();function ue(){return new O(S.k)}function he(){return new O(S.k)}var de=function(){var t={};return t[Pt.ASCENDING.name]="ASCENDING",t[Pt.DESCENDING.name]="DESCENDING",t}(),fe=function(){var t={};return t[St.LESS_THAN.name]="LESS_THAN",t[St.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[St.GREATER_THAN.name]="GREATER_THAN",t[St.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[St.EQUAL.name]="EQUAL",t[St.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",t[St.IN.name]="IN",t[St.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",t}(),pe=function(){function t(t,e){this.ci=t,this.options=e}return t.prototype._i=function(t){var e=void 0===t.code?d.UNKNOWN:zt(t.code);return new f(e,t.message||"")},t.prototype.li=function(t){return this.options.di||M(t)?t:{value:t}},t.prototype.fi=function(t){var e;return M(e="object"==typeof t?t.value:t)?null:e},t.prototype.Wt=function(t){return{integerValue:""+t}},t.prototype.jt=function(t){if(this.options.di){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:j(t)?"-0":t}},t.prototype.Ti=function(t){return L(t)?this.Wt(t):this.jt(t)},t.prototype.F=function(t){return this.options.di?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.v=function(t){var e=Q(t);return new _(e.seconds,e.nanos)},t.prototype.Ei=function(t){return this.options.di?t.toBase64():t.toUint8Array()},t.prototype.Ii=function(t){return this.options.di?(xe(void 0===t||"string"==typeof t),D.fromBase64String(t||"")):(xe(void 0===t||t instanceof Uint8Array),D.fromUint8Array(t||new Uint8Array))},t.prototype.toVersion=function(t){return this.F(t.F())},t.prototype.fromVersion=function(t){return xe(!!t),b.v(this.v(t))},t.prototype.wi=function(t,e){return this.Ri(e||this.ci).child("documents").child(t).K()},t.prototype.Ai=function(t){var e=E.G(t);return xe(me(e)),e},t.prototype.mi=function(t){return this.wi(t.path)},t.prototype.tt=function(t){var e=this.Ai(t);return xe(e.get(1)===this.ci.projectId),xe(!e.get(3)&&!this.ci.database||e.get(3)===this.ci.database),new S(this.Pi(e))},t.prototype.Vi=function(t){return this.wi(t)},t.prototype.gi=function(t){var e=this.Ai(t);return 4===e.length?E.H:this.Pi(e)},Object.defineProperty(t.prototype,"pi",{get:function(){return new E(["projects",this.ci.projectId,"databases",this.ci.database]).K()},enumerable:!0,configurable:!0}),t.prototype.Ri=function(t){return new E(["projects",t.projectId,"databases",t.database])},t.prototype.Pi=function(t){return xe(t.length>4&&"documents"===t.get(4)),t.M(5)},t.prototype.yi=function(t,e){return{name:this.mi(t),fields:e.proto.mapValue.fields}},t.prototype.bi=function(t){return{name:this.mi(t.key),fields:t.Re().mapValue.fields,updateTime:this.F(t.version.F())}},t.prototype.vi=function(t,e){var n=this.tt(t.name),i=this.fromVersion(t.updateTime),r=new yt({mapValue:{fields:t.fields}});return new bt(n,i,r,{hasCommittedMutations:!!e})},t.prototype.Si=function(t){xe(!!t.found);var e=this.tt(t.found.name),n=this.fromVersion(t.found.updateTime),i=new yt({mapValue:{fields:t.found.fields}});return new bt(e,n,i,{})},t.prototype.Di=function(t){xe(!!t.missing),xe(!!t.readTime);var e=this.tt(t.missing),n=this.fromVersion(t.readTime);return new wt(e,n)},t.prototype.Ci=function(t){return"found"in t?this.Si(t):"missing"in t?this.Di(t):Ce()},t.prototype.Fi=function(t){var e;if("targetChange"in t){var n=this.Ni(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],r=this.Ii(t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&this._i(o);e=new ae(n,i,r,s||null)}else if("documentChange"in t){var a=t.documentChange,c=this.tt(a.document.name),l=this.fromVersion(a.document.updateTime),u=new yt({mapValue:{fields:a.document.fields}}),h=new bt(c,l,u,{});e=new oe(a.targetIds||[],a.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){var d=t.documentDelete,f=this.tt(d.document),p=d.readTime?this.fromVersion(d.readTime):b.S(),m=new wt(f,p);e=new oe([],d.removedTargetIds||[],m.key,m)}else if("documentRemove"in t){var g=t.documentRemove,y=this.tt(g.document);e=new oe([],g.removedTargetIds||[],y,null)}else{if(!("filter"in t))return Ce();var v=t.filter,_=new Ut(v.count||0);e=new se(v.targetId,_)}return e},t.prototype.Ni=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ce()},t.prototype.ki=function(t){if(!("targetChange"in t))return b.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?b.MIN:e.readTime?this.fromVersion(e.readTime):b.MIN},t.prototype.$i=function(t){var e,n=this;if(t instanceof dt)e={update:this.yi(t.key,t.value)};else if(t instanceof mt)e={delete:this.mi(t.key)};else if(t instanceof ft)e={update:this.yi(t.key,t.data),updateMask:this.Mi(t.se)};else if(t instanceof pt)e={transform:{document:this.mi(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.Li(t)}))}};else{if(!(t instanceof gt))return Ce();e={verify:this.mi(t.key)}}return t.Zt.Ht||(e.currentDocument=this.Oi(t.Zt)),e},t.prototype.xi=function(t){var e=this,n=t.currentDocument?this.Bi(t.currentDocument):ut.NONE;if(t.update){var i=this.tt(t.update.name),r=new yt({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=this.qi(t.updateMask);return new ft(i,r,o,n)}return new dt(i,r,n)}if(t.delete){var s=this.tt(t.delete);return new mt(s,n)}if(t.transform){var a=this.tt(t.transform.document),c=t.transform.fieldTransforms.map((function(t){return e.Ui(t)}));return xe(!0===n.exists),new pt(a,c)}if(t.verify){var l=this.tt(t.verify);return new gt(l,n)}return Ce()},t.prototype.Oi=function(t){return void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ce()},t.prototype.Bi=function(t){return void 0!==t.updateTime?ut.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ut.exists(t.exists):ut.NONE},t.prototype.Qi=function(t,e){var n=this.fromVersion(t.updateTime?t.updateTime:e);n.isEqual(b.MIN)&&(n=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults),new lt(n,i)},t.prototype.Wi=function(t,e){var n=this;return t&&t.length>0?(xe(void 0!==e),t.map((function(t){return n.Qi(t,e)}))):[]},t.prototype.Li=function(t){var e=t.transform;if(e instanceof nt)return{fieldPath:t.field.K(),setToServerValue:"REQUEST_TIME"};if(e instanceof it)return{fieldPath:t.field.K(),appendMissingElements:{values:e.elements}};if(e instanceof rt)return{fieldPath:t.field.K(),removeAllFromArray:{values:e.elements}};if(e instanceof ot)return{fieldPath:t.field.K(),increment:e.Qt};throw Ce()},t.prototype.Ui=function(t){var e=null;"setToServerValue"in t?(xe("REQUEST_TIME"===t.setToServerValue),e=nt.instance):"appendMissingElements"in t?e=new it(t.appendMissingElements.values||[]):"removeAllFromArray"in t?e=new rt(t.removeAllFromArray.values||[]):"increment"in t?e=new ot(this,t.increment):Ce();var n=x.Z(t.fieldPath);return new ct(n,e)},t.prototype.ji=function(t){return{documents:[this.Vi(t.path)]}},t.prototype.Ki=function(t){return xe(1===t.documents.length),xt.ve(this.gi(t.documents[0])).xe()},t.prototype.Gi=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(e.parent=this.Vi(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=this.Vi(n.L()),e.structuredQuery.from=[{collectionId:n.B()}]);var i=this.zi(t.filters);i&&(e.structuredQuery.where=i);var r=this.Hi(t.orderBy);r&&(e.structuredQuery.orderBy=r);var o=this.li(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.Yi(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.Yi(t.endAt)),e},t.prototype.Ji=function(t){var e=this.gi(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){xe(1===i);var o=n.from[0];o.allDescendants?r=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.Xi(n.where));var a=[];n.orderBy&&(a=this.Zi(n.orderBy));var c=null;n.limit&&(c=this.fi(n.limit));var l=null;n.startAt&&(l=this.tn(n.startAt));var u=null;return n.endAt&&(u=this.tn(n.endAt)),new xt(e,r,a,s,c,"F",l,u).xe()},t.prototype.en=function(t){var e=this.sn(t.Ze);return null==e?null:{"goog-listen-tags":e}},t.prototype.sn=function(t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ce()}},t.prototype.xe=function(t){var e,n=t.target;return(e=n.Pe()?{documents:this.ji(n)}:{query:this.Gi(n)}).targetId=t.targetId,t.resumeToken.Ot()>0&&(e.resumeToken=this.Ei(t.resumeToken)),e},t.prototype.zi=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof Ot?e.in(t):Ce()}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.Xi=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.nn(t)]:void 0!==t.fieldFilter?[this.rn(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.Xi(t)})).reduce((function(t,e){return t.concat(e)})):Ce():[]},t.prototype.Hi=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.hn(t)}))},t.prototype.Zi=function(t){var e=this;return t.map((function(t){return e.on(t)}))},t.prototype.Yi=function(t){return{before:t.before,values:t.position}},t.prototype.tn=function(t){return new Mt(t.values||[],!!t.before)},t.prototype.an=function(t){return de[t.name]},t.prototype.un=function(t){switch(t){case"ASCENDING":return Pt.ASCENDING;case"DESCENDING":return Pt.DESCENDING;default:return}},t.prototype.cn=function(t){return fe[t.name]},t.prototype._n=function(t){switch(t){case"EQUAL":return St.EQUAL;case"GREATER_THAN":return St.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return St.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return St.LESS_THAN;case"LESS_THAN_OR_EQUAL":return St.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return St.ARRAY_CONTAINS;case"IN":return St.IN;case"ARRAY_CONTAINS_ANY":return St.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":default:return Ce()}},t.prototype.ln=function(t){return{fieldPath:t.K()}},t.prototype.dn=function(t){return x.Z(t.fieldPath)},t.prototype.hn=function(t){return{field:this.ln(t.field),direction:this.an(t.dir)}},t.prototype.on=function(t){return new jt(this.dn(t.field),this.un(t.direction))},t.prototype.rn=function(t){return Ot.create(this.dn(t.fieldFilter.field),this._n(t.fieldFilter.op),t.fieldFilter.value)},t.prototype.in=function(t){if(t.op===St.EQUAL){if(tt(t.value))return{unaryFilter:{field:this.ln(t.field),op:"IS_NAN"}};if(J(t.value))return{unaryFilter:{field:this.ln(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.ln(t.field),op:this.cn(t.op),value:t.value}}},t.prototype.nn=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.dn(t.unaryFilter.field);return Ot.create(e,St.EQUAL,{doubleValue:NaN});case"IS_NULL":var n=this.dn(t.unaryFilter.field);return Ot.create(n,St.EQUAL,{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ce()}},t.prototype.Mi=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.K())})),{fieldPaths:e}},t.prototype.qi=function(t){var e=(t.fieldPaths||[]).map((function(t){return x.Z(t)}));return at.Gt(e)},t}();function me(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var ge=function(){function t(){}return t.fn=function(e){t.platform&&Ce(),t.platform=e},t.Lt=function(){return t.platform||Ce(),t.platform},t}(),ye=new s.Logger("@firebase/firestore");function ve(){return ye.logLevel}function _e(t){ye.logLevel=t}function be(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ye.logLevel<=s.LogLevel.DEBUG){var i=e.map(Ee);ye.debug.apply(ye,r.__spreadArrays(["Firestore ("+u+"): "+t],i))}}function we(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(ye.logLevel<=s.LogLevel.ERROR){var i=e.map(Ee);ye.error.apply(ye,r.__spreadArrays(["Firestore ("+u+"): "+t],i))}}function Ee(t){if("string"==typeof t)return t;var e=ge.Lt();try{return e.Tn(t)}catch(e){return t}}function Ce(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw we(e),new Error(e)}function xe(t,e){t||Ce()}var Se=function(){function t(){}return t.En=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},t}();function Oe(t,e){return t<e?-1:t>e?1:0}function Te(t,e,n){return t.length===e.length&&t.every((function(t,i){return n(t,e[i])}))}function ke(t){return t+"\0"}var Ie=function(t,e,n,i,r){this.ci=t,this.persistenceKey=e,this.host=n,this.ssl=i,this.forceLongPolling=r},Ae=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"In",{get:function(){return"(default)"===this.database},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.D=function(t){return Oe(this.projectId,t.projectId)||Oe(this.database,t.database)},t}(),Ne=function(){function t(t){this.wn=t,this.Rn={}}return t.prototype.get=function(t){var e=this.wn(t),n=this.Rn[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.wn(t),i=this.Rn[n];if(void 0!==i){for(var r=0;r<i.length;r++)if(i[r][0].isEqual(t))return void(i[r]=[t,e]);i.push([t,e])}else this.Rn[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.wn(t),n=this.Rn[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(t))return 1===n.length?delete this.Rn[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){P(this.Rn,(function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i];t(o[0],o[1])}}))},t.prototype.q=function(){return R(this.Rn)},t}(),Pe=function(){function t(t,e,n,i){this.batchId=t,this.An=e,this.baseMutations=n,this.mutations=i}return t.prototype.qt=function(t,e,n){for(var i=n.mn,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(t)&&(e=o.qt(e,i[r]))}return e},t.prototype.Bt=function(t,e){for(var n=0,i=this.baseMutations;n<i.length;n++){var r=i[n];r.key.isEqual(t)&&(e=r.Bt(e,e,this.An))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var c=a[s];c.key.isEqual(t)&&(e=c.Bt(e,o,this.An))}return e},t.prototype.Pn=function(t){var e=this,n=t;return this.mutations.forEach((function(i){var r=e.Bt(i.key,t.get(i.key));r&&(n=n.nt(i.key,r))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Xt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Te(this.mutations,t.mutations,(function(t,e){return t.isEqual(e)}))&&Te(this.baseMutations,t.baseMutations,(function(t,e){return t.isEqual(e)}))},t}(),Re=function(){function t(t,e,n,i,r){this.batch=t,this.Vn=e,this.mn=n,this.streamToken=i,this.gn=r}return t.from=function(e,n,i,r){xe(e.mutations.length===i.length);for(var o=$t(),s=e.mutations,a=0;a<s.length;a++)o=o.nt(s[a].key,i[a].version);return new t(e,n,i,r,o)},t}(),De=function(){function t(){this.pn=new I(Me.Ie),this.yn=new I(Me.bn)}return t.prototype.q=function(){return this.pn.q()},t.prototype.vn=function(t,e){var n=new Me(t,e);this.pn=this.pn.add(n),this.yn=this.yn.add(n)},t.prototype.Sn=function(t,e){var n=this;t.forEach((function(t){return n.vn(t,e)}))},t.prototype.Dn=function(t,e){this.Cn(new Me(t,e))},t.prototype.Fn=function(t,e){var n=this;t.forEach((function(t){return n.Dn(t,e)}))},t.prototype.Nn=function(t){var e=this,n=S.EMPTY,i=new Me(n,t),r=new Me(n,t+1),o=[];return this.yn.Ct([i,r],(function(t){e.Cn(t),o.push(t.key)})),o},t.prototype.kn=function(){var t=this;this.pn.forEach((function(e){return t.Cn(e)}))},t.prototype.Cn=function(t){this.pn=this.pn.delete(t),this.yn=this.yn.delete(t)},t.prototype.$n=function(t){var e=S.EMPTY,n=new Me(e,t),i=new Me(e,t+1),r=Xt();return this.yn.Ct([n,i],(function(t){r=r.add(t.key)})),r},t.prototype.Mn=function(t){var e=new Me(t,0),n=this.pn.Nt(e);return null!==n&&t.isEqual(n.key)},t}(),Me=function(){function t(t,e){this.key=t,this.Ln=e}return t.Ie=function(t,e){return S.k(t.key,e.key)||Oe(t.Ln,e.Ln)},t.bn=function(t,e){return Oe(t.Ln,e.Ln)||S.k(t.key,e.key)},t}(),je=function(){function t(t){var e=this;this.On=null,this.xn=null,this.result=void 0,this.error=void 0,this.Bn=!1,this.qn=!1,t((function(t){e.Bn=!0,e.result=t,e.On&&e.On(t)}),(function(t){e.Bn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var i=this;return this.qn&&Ce(),this.qn=!0,this.Bn?this.error?this.Un(n,this.error):this.Qn(e,this.result):new t((function(t,r){i.On=function(n){i.Qn(e,n).next(t,r)},i.xn=function(e){i.Un(n,e).next(t,r)}}))},t.prototype.Wn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.jn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Qn=function(e,n){return e?this.jn((function(){return e(n)})):t.resolve(n)},t.prototype.Un=function(e,n){return e?this.jn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Kn=function(e){return new t((function(t,n){var i=0,r=0,o=!1;e.forEach((function(e){++i,e.next((function(){++r,o&&r===i&&t()}),(function(t){return n(t)}))})),o=!0,r===i&&t()}))},t.Gn=function(e){for(var n=t.resolve(!1),i=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},r=0,o=e;r<o.length;r++)i(o[r]);return n},t.forEach=function(t,e){var n=this,i=[];return t.forEach((function(t,r){i.push(e.call(n,t,r))})),this.Kn(i)},t}(),Le=function(){function t(){this.zn=new Ne((function(t){return t.toString()})),this.Hn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.Yn},set:function(t){this.Yn=t},enumerable:!0,configurable:!0}),t.prototype.Jn=function(t,e){this.Xn(),this.readTime=e,this.zn.set(t.key,t)},t.prototype.Zn=function(t,e){this.Xn(),e&&(this.readTime=e),this.zn.set(t,null)},t.prototype.tr=function(t,e){this.Xn();var n=this.zn.get(e);return void 0!==n?je.resolve(n):this.er(t,e)},t.prototype.getEntries=function(t,e){return this.sr(t,e)},t.prototype.apply=function(t){return this.Xn(),this.Hn=!0,this.ir(t)},t.prototype.Xn=function(){},t}(),Fe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ve=function(){function t(){this.nr=[]}return t.prototype.rr=function(t){this.nr.push(t)},t.prototype.hr=function(){this.nr.forEach((function(t){return t()}))},t}(),Ue=function(){function t(t,e,n){this.or=t,this.ar=e,this.ur=n}return t.prototype.cr=function(t,e){var n=this;return this.ar._r(t,e).next((function(i){return n.lr(t,e,i)}))},t.prototype.lr=function(t,e,n){return this.or.tr(t,e).next((function(t){for(var i=0,r=n;i<r.length;i++)t=r[i].Bt(e,t);return t}))},t.prototype.dr=function(t,e,n){var i=Ht();return e.forEach((function(t,e){for(var r=0,o=n;r<o.length;r++)e=o[r].Bt(t,e);i=i.nt(t,e)})),i},t.prototype.Tr=function(t,e){var n=this;return this.or.getEntries(t,e).next((function(e){return n.Er(t,e)}))},t.prototype.Er=function(t,e){var n=this;return this.ar.Ir(t,e).next((function(i){var r=n.dr(t,e,i),o=Wt();return r.forEach((function(t,e){e||(e=new wt(t,b.S())),o=o.nt(t,e)})),o}))},t.prototype.wr=function(t,e,n){return e.Pe()?this.Rr(t,e.path):e.He()?this.Ar(t,e,n):this.mr(t,e,n)},t.prototype.Rr=function(t,e){return this.cr(t,new S(e)).next((function(t){var e=Qt();return t instanceof bt&&(e=e.nt(t.key,t)),e}))},t.prototype.Ar=function(t,e,n){var i=this,r=e.collectionGroup,o=Qt();return this.ur.Pr(t,r).next((function(s){return je.forEach(s,(function(s){var a=e.Le(s.child(r));return i.mr(t,a,n).next((function(t){t.forEach((function(t,e){o=o.nt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.mr=function(t,e,n){var i,r,o=this;return this.or.wr(t,e,n).next((function(n){return i=n,o.ar.Vr(t,e)})).next((function(e){return o.gr(t,r=e,i).next((function(t){i=t;for(var e=0,n=r;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],l=c.key,u=i.get(l),h=c.Bt(u,u,o.An);i=h instanceof bt?i.nt(l,h):i.remove(l)}}))})).next((function(){return i.forEach((function(t,n){e.matches(n)||(i=i.remove(t))})),i}))},t.prototype.gr=function(t,e,n){for(var i=Xt(),r=0,o=e;r<o.length;r++)for(var s=0,a=o[r].mutations;s<a.length;s++){var c=a[s];c instanceof ft&&null===n.get(c.key)&&(i=i.add(c.key))}var l=n;return this.or.getEntries(t,i).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof bt&&(l=l.nt(t,e))})),l}))},t}(),Be=function(){function t(t,e,n,i){this.targetId=t,this.fromCache=e,this.pr=n,this.yr=i}return t.br=function(e,n){for(var i=Xt(),r=Xt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new t(e,n.fromCache,i,r)},t}(),ze=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.vr=function(t){return n.Sr(t)},this.Dr=function(t){return e.Cr(t)})}return t.prototype.Sr=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.Dr&&this.Dr(t),t},t}();ze.Fr=-1;var qe=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},We=function(){function t(t,e,n,i,r){void 0===n&&(n=1e3),void 0===i&&(i=1.5),void 0===r&&(r=6e4),this.Nr=t,this.kr=e,this.$r=n,this.Mr=i,this.Lr=r,this.Or=0,this.xr=null,this.Br=Date.now(),this.reset()}return t.prototype.reset=function(){this.Or=0},t.prototype.qr=function(){this.Or=this.Lr},t.prototype.Ur=function(t){var e=this;this.cancel();var n=Math.floor(this.Or+this.Qr()),i=Math.max(0,Date.now()-this.Br),r=Math.max(0,n-i);r>0&&be("ExponentialBackoff","Backing off for "+r+" ms (base delay: "+this.Or+" ms, delay with jitter: "+n+" ms, last attempt: "+i+" ms ago)"),this.xr=this.Nr.Wr(this.kr,r,(function(){return e.Br=Date.now(),t()})),this.Or*=this.Mr,this.Or<this.$r&&(this.Or=this.$r),this.Or>this.Lr&&(this.Or=this.Lr)},t.prototype.cancel=function(){null!==this.xr&&(this.xr.cancel(),this.xr=null)},t.prototype.Qr=function(){return(Math.random()-.5)*this.Or},t}(),He=function(){function t(t,e,n,i,r){this.jr=t,this.kr=e,this.Kr=n,this.op=i,this.Gr=r,this.zr=new qe,this.then=this.zr.promise.then.bind(this.zr.promise),this.catch=this.zr.promise.catch.bind(this.zr.promise),this.zr.promise.catch((function(t){}))}return t.Hr=function(e,n,i,r,o){var s=new t(e,n,Date.now()+i,r,o);return s.start(i),s},t.prototype.start=function(t){var e=this;this.Yr=setTimeout((function(){return e.Jr()}),t)},t.prototype.Xr=function(){return this.Jr()},t.prototype.cancel=function(t){null!==this.Yr&&(this.clearTimeout(),this.zr.reject(new f(d.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Jr=function(){var t=this;this.jr.Zr((function(){return null!==t.Yr?(t.clearTimeout(),t.op().then((function(e){return t.zr.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Yr&&(this.Gr(this),clearTimeout(this.Yr),this.Yr=null)},t}(),Ge=function(){function t(){var t=this;this.th=Promise.resolve(),this.eh=Promise.resolve(),this.sh=!1,this.ih=[],this.nh=null,this.rh=!1,this.hh=[],this.oh=new We(this,"async_queue_retry"),this.ah=function(){t.uh("async_queue_retry")};var e=ge.Lt().window;e&&e.addEventListener("visibilitychange",this.ah)}return Object.defineProperty(t.prototype,"_h",{get:function(){return this.sh},enumerable:!0,configurable:!0}),t.prototype.Zr=function(t){this.enqueue(t)},t.prototype.lh=function(t){this.dh(),this.fh(t)},t.prototype.Th=function(t){return this.dh(),this.fh(t)},t.prototype.Eh=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.dh(),this.sh?[3,2]:(this.sh=!0,(e=ge.Lt().window)&&e.removeEventListener("visibilitychange",this.ah),[4,this.Th(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.dh(),this.sh?new Promise((function(t){})):this.fh(t)},t.prototype.Ih=function(t){var e=this;this.dh(),this.sh||(this.eh=this.eh.then((function(){var n=new qe,i=function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t()];case 1:return r.sent(),n.resolve(),this.oh.reset(),[3,3];case 2:if("IndexedDbTransactionError"!==(e=r.sent()).name)throw n.resolve(),e;return be("AsyncQueue","Operation failed with retryable error: "+e),this.oh.Ur(i),[3,3];case 3:return[2]}}))}))};return e.Zr(i),n.promise})))},t.prototype.fh=function(t){var e=this,n=this.th.then((function(){return e.rh=!0,t().catch((function(t){throw e.nh=t,e.rh=!1,we("INTERNAL UNHANDLED ERROR: ",t.stack||t.message||""),t})).then((function(t){return e.rh=!1,t}))}));return this.th=n,n},t.prototype.Wr=function(t,e,n){var i=this;this.dh(),this.hh.indexOf(t)>-1&&(e=0);var r=He.Hr(this,t,e,n,(function(t){return i.wh(t)}));return this.ih.push(r),r},t.prototype.dh=function(){this.nh&&Ce()},t.prototype.Rh=function(){},t.prototype.Ah=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.th];case 1:e.sent(),e.label=2;case 2:if(t!==this.th)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.mh=function(t){for(var e=0,n=this.ih;e<n.length;e++)if(n[e].kr===t)return!0;return!1},t.prototype.uh=function(t){var e=this;return this.Ah().then((function(){e.ih.sort((function(t,e){return t.Kr-e.Kr}));for(var n=0,i=e.ih;n<i.length;n++){var r=i[n];if(r.Xr(),"all"!==t&&r.kr===t)break}return e.Ah()}))},t.prototype.Ph=function(t){this.hh.push(t)},t.prototype.wh=function(t){var e=this.ih.indexOf(t);this.ih.splice(e,1)},t}();function Qe(t,e){var n=t[1],i=e[1],r=Oe(t[0],e[0]);return 0===r?Oe(n,i):r}var Ke=function(){function t(t){this.Vh=t,this.buffer=new I(Qe),this.gh=0}return t.prototype.ph=function(){return++this.gh},t.prototype.yh=function(t){var e=[t,this.ph()];if(this.buffer.size<this.Vh)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Qe(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),$e={bh:!1,vh:0,Sh:0,Dh:0},Ye=function(){function t(t,e,n){this.Ch=t,this.Fh=e,this.Nh=n}return t.kh=function(e){return new t(e,t.$h,t.Mh)},t}();Ye.Lh=-1,Ye.Oh=1048576,Ye.xh=41943040,Ye.$h=10,Ye.Mh=1e3,Ye.Bh=new Ye(Ye.xh,Ye.$h,Ye.Mh),Ye.DISABLED=new Ye(Ye.Lh,0,0);var Xe=function(){function t(t,e){this.qh=t,this.jr=e,this.Uh=!1,this.Qh=null}return t.prototype.start=function(t){this.qh.Wh.Ch!==Ye.Lh&&this.jh(t)},t.prototype.stop=function(){this.Qh&&(this.Qh.cancel(),this.Qh=null)},Object.defineProperty(t.prototype,"Kh",{get:function(){return null!==this.Qh},enumerable:!0,configurable:!0}),t.prototype.jh=function(t){var e=this,n=this.Uh?3e5:6e4;be("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Qh=this.jr.Wr("lru_garbage_collection",n,(function(){return e.Qh=null,e.Uh=!0,t.Gh(e.qh).then((function(){return e.jh(t)})).catch(ai)}))},t}(),Ze=function(){function t(t,e){this.zh=t,this.Wh=e}return t.prototype.Hh=function(t,e){return this.zh.Yh(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Jh=function(t,e){var n=this;if(0===e)return je.resolve(ze.Fr);var i=new Ke(e);return this.zh.Xs(t,(function(t){return i.yh(t.sequenceNumber)})).next((function(){return n.zh.Xh(t,(function(t){return i.yh(t)}))})).next((function(){return i.maxValue}))},t.prototype.Zh=function(t,e,n){return this.zh.Zh(t,e,n)},t.prototype.to=function(t,e){return this.zh.to(t,e)},t.prototype.eo=function(t,e){var n=this;return this.Wh.Ch===Ye.Lh?(be("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve($e)):this.so(t).next((function(i){return i<n.Wh.Ch?(be("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+n.Wh.Ch),$e):n.io(t,e)}))},t.prototype.so=function(t){return this.zh.so(t)},t.prototype.io=function(t,e){var n,i,r,o,a,c,l,u=this,h=Date.now();return this.Hh(t,this.Wh.Fh).next((function(e){return e>u.Wh.Nh?(be("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.Wh.Nh+" from "+e),i=u.Wh.Nh):i=e,o=Date.now(),u.Jh(t,i)})).next((function(i){return n=i,a=Date.now(),u.Zh(t,n,e)})).next((function(e){return r=e,c=Date.now(),u.to(t,n)})).next((function(t){return l=Date.now(),ve()<=s.LogLevel.DEBUG&&be("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+i+" in "+(a-o)+"ms\n\tRemoved "+r+" targets in "+(c-a)+"ms\n\tRemoved "+t+" documents in "+(l-c)+"ms\nTotal Duration: "+(l-h)+"ms"),je.resolve({bh:!0,vh:i,Sh:r,Dh:t})}))},t}();function Je(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=en(e)),e=tn(t.get(n),e);return en(e)}function tn(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function en(t){return t+"\x01\x01"}function nn(t){var e=t.length;if(xe(e>=2),2===e)return xe("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),E.H;for(var n=e-2,i=[],r="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ce(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),c=void 0;0===r.length?c=a:(c=r+=a,r=""),i.push(c);break;case"\x10":r+=t.substring(o,s),r+="\0";break;case"\x11":r+=t.substring(o,s+1);break;default:Ce()}o=s+2}return new E(i)}var rn=function(){function t(e){this.db=e,12.2===t.no(a.getUA())&&we("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.ro=function(e,n,i){return be("SimpleDb","Opening database:",e),new je((function(r,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){r(new t(e.target.result))},s.onblocked=function(){o(new f(d.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new f(d.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){be("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion),i.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,Nn).next((function(){be("SimpleDb","Database upgrade to version "+Nn+" complete")}))}})).Wn()},t.delete=function(t){return be("SimpleDb","Removing database:",t),ln(window.indexedDB.deleteDatabase(t)).Wn()},t.ho=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.oo())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.no(e),i=0<n&&n<10,r=t.ao(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)},t.oo=function(){var t;return"undefined"!=typeof __PRIVATE_process&&"YES"===(null===(t=__PRIVATE_process.__PRIVATE_env)||void 0===t?void 0:t.uo)},t.co=function(t,e){return t.store(e)},t.no=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.ao=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype._o=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,c;return r.__generator(this,(function(l){switch(l.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,c,l,u;return r.__generator(this,(function(r){switch(r.label){case 0:++o,t=an.open(a.db,i?"readonly":"readwrite",e),r.label=1;case 1:return r.trys.push([1,3,,4]),s=n(t).catch((function(e){return t.abort(e),je.reject(e)})).Wn(),c={},s.catch((function(){})),[4,t.lo];case 2:return[2,(c.value=(r.sent(),s),c)];case 3:return be("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(l=r.sent()).message,u="FirebaseError"!==l.name&&o<3),u?[3,4]:[2,{value:Promise.reject(l)}];case 4:return[2]}}))},a=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),on=function(){function t(t){this.do=t,this.fo=!1,this.To=null}return Object.defineProperty(t.prototype,"Bn",{get:function(){return this.fo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Eo",{get:function(){return this.To},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.do=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.fo=!0},t.prototype.Io=function(t){this.To=t},t.prototype.delete=function(){return ln(this.do.delete())},t}(),sn=function(t){function e(e){var n=this;return(n=t.call(this,d.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return r.__extends(e,t),e}(f),an=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.wo=new qe,this.transaction.oncomplete=function(){e.wo.resolve()},this.transaction.onabort=function(){t.error?e.wo.reject(new sn(t.error)):e.wo.resolve()},this.transaction.onerror=function(t){var n=hn(t.target.error);e.wo.reject(new sn(n))}}return t.open=function(e,n,i){return new t(e.transaction(i,n))},Object.defineProperty(t.prototype,"lo",{get:function(){return this.wo.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.wo.reject(t),this.aborted||(be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new cn(e)},t}(),cn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(be("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(be("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ln(n)},t.prototype.add=function(t){return be("SimpleDb","ADD",this.store.name,t,t),ln(this.store.add(t))},t.prototype.get=function(t){var e=this;return ln(this.store.get(t)).next((function(n){return void 0===n&&(n=null),be("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return be("SimpleDb","DELETE",this.store.name,t),ln(this.store.delete(t))},t.prototype.count=function(){return be("SimpleDb","COUNT",this.store.name),ln(this.store.count())},t.prototype.Ro=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.Ao(n,(function(t,e){i.push(e)})).next((function(){return i}))},t.prototype.mo=function(t,e){be("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Po=!1;var i=this.cursor(n);return this.Ao(i,(function(t,e,n){return n.delete()}))},t.prototype.Vo=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.Ao(i,e)},t.prototype.po=function(t){var e=this.cursor({});return new je((function(n,i){e.onerror=function(t){var e=hn(t.target.error);i(e)},e.onsuccess=function(e){var i=e.target.result;i?t(i.primaryKey,i.value).next((function(t){t?i.continue():n()})):n()}}))},t.prototype.Ao=function(t,e){var n=[];return new je((function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(r){var o=new on(r),s=e(r.primaryKey,r.value,o);if(s instanceof je){var a=s.catch((function(t){return o.done(),je.reject(t)}));n.push(a)}o.Bn?i():null===o.Eo?r.continue():r.continue(o.Eo)}else i()}})).next((function(){return je.Kn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Po?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ln(t){return new je((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=hn(t.target.error);n(e)}}))}var un=!1;function hn(t){var e=rn.no(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new f("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return un||(un=!0,setTimeout((function(){throw i}),0)),i}}return t}var dn=function(){function t(t,e,n,i){this.userId=t,this.serializer=e,this.ur=n,this.yo=i,this.bo={}}return t.vo=function(e,n,i,r){return xe(""!==e.uid),new t(e.t()?e.uid:"",n,i,r)},t.prototype.So=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mn(t).Vo({index:jn.userMutationsIndex,range:n},(function(t,n,i){e=!1,i.done()})).next((function(){return e}))},t.prototype.Do=function(t,e,n){return this.Co(t).next((function(e){return e.lastStreamToken=n.toBase64(),yn(t).put(e)}))},t.prototype.Fo=function(t){return this.Co(t).next((function(t){return D.fromBase64String(t.lastStreamToken)}))},t.prototype.No=function(t,e){return this.Co(t).next((function(n){return n.lastStreamToken=e.toBase64(),yn(t).put(n)}))},t.prototype.ko=function(t,e,n,i){var r=this,o=gn(t),s=mn(t);return s.add({}).next((function(a){xe("number"==typeof a);for(var c=new Pe(a,e,n,i),l=r.serializer.$o(r.userId,c),u=[],h=new I((function(t,e){return Oe(t.K(),e.K())})),d=0,f=i;d<f.length;d++){var p=f[d],m=Ln.key(r.userId,p.key.path,a);h=h.add(p.key.path.L()),u.push(s.put(l)),u.push(o.put(m,Ln.PLACEHOLDER))}return h.forEach((function(e){u.push(r.ur.Mo(t,e))})),t.rr((function(){r.bo[a]=c.keys()})),je.Kn(u).next((function(){return c}))}))},t.prototype.Lo=function(t,e){var n=this;return mn(t).get(e).next((function(t){return t?(xe(t.userId===n.userId),n.serializer.Oo(t)):null}))},t.prototype.xo=function(t,e){var n=this;return this.bo[e]?je.resolve(this.bo[e]):this.Lo(t,e).next((function(t){if(t){var i=t.keys();return n.bo[e]=i,i}return null}))},t.prototype.Bo=function(t,e){var n=this,i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]),o=null;return mn(t).Vo({index:jn.userMutationsIndex,range:r},(function(t,e,r){e.userId===n.userId&&(xe(e.batchId>=i),o=n.serializer.Oo(e)),r.done()})).next((function(){return o}))},t.prototype.qo=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return mn(t).Vo({index:jn.userMutationsIndex,range:e,reverse:!0},(function(t,e,i){n=e.batchId,i.done()})).next((function(){return n}))},t.prototype.Uo=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mn(t).Ro(jn.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.Oo(t)}))}))},t.prototype._r=function(t,e){var n=this,i=Ln.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return gn(t).Vo({range:r},(function(i,r,s){var a=i[0],c=i[2],l=nn(i[1]);if(a===n.userId&&e.path.isEqual(l))return mn(t).get(c).next((function(t){if(!t)throw Ce();xe(t.userId===n.userId),o.push(n.serializer.Oo(t))}));s.done()})).next((function(){return o}))},t.prototype.Ir=function(t,e){var n=this,i=new I(Oe),r=[];return e.forEach((function(e){var o=Ln.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=gn(t).Vo({range:s},(function(t,r,o){var s=t[0],a=t[2],c=nn(t[1]);s===n.userId&&e.path.isEqual(c)?i=i.add(a):o.done()}));r.push(a)})),je.Kn(r).next((function(){return n.Qo(t,i)}))},t.prototype.Vr=function(t,e){var n=this,i=e.path,r=i.length+1,o=Ln.prefixForPath(this.userId,i),s=IDBKeyRange.lowerBound(o),a=new I(Oe);return gn(t).Vo({range:s},(function(t,e,o){var s=t[0],c=t[2],l=nn(t[1]);s===n.userId&&i.U(l)?l.length===r&&(a=a.add(c)):o.done()})).next((function(){return n.Qo(t,a)}))},t.prototype.Qo=function(t,e){var n=this,i=[],r=[];return e.forEach((function(e){r.push(mn(t).get(e).next((function(t){if(null===t)throw Ce();xe(t.userId===n.userId),i.push(n.serializer.Oo(t))})))})),je.Kn(r).next((function(){return i}))},t.prototype.Wo=function(t,e){var n=this;return pn(t.jo,this.userId,e).next((function(i){return t.rr((function(){n.Ko(e.batchId)})),je.forEach(i,(function(e){return n.yo.Go(t,e)}))}))},t.prototype.Ko=function(t){delete this.bo[t]},t.prototype.zo=function(t){var e=this;return this.So(t).next((function(n){if(!n)return je.resolve();var i=IDBKeyRange.lowerBound(Ln.prefixForUser(e.userId)),r=[];return gn(t).Vo({range:i},(function(t,n,i){if(t[0]===e.userId){var o=nn(t[1]);r.push(o)}else i.done()})).next((function(){xe(0===r.length)}))}))},t.prototype.Mn=function(t,e){return fn(t,this.userId,e)},t.prototype.Co=function(t){var e=this;return yn(t).get(this.userId).next((function(t){return t||new Mn(e.userId,-1,"")}))},t}();function fn(t,e,n){var i=Ln.prefixForPath(e,n.path),r=i[1],o=IDBKeyRange.lowerBound(i),s=!1;return gn(t).Vo({range:o,Po:!0},(function(t,n,i){t[0]===e&&t[1]===r&&(s=!0),i.done()})).next((function(){return s}))}function pn(t,e,n){var i=t.store(jn.store),r=t.store(Ln.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=i.Vo({range:s},(function(t,e,n){return a++,n.delete()}));o.push(c.next((function(){xe(1===a)})));for(var l=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],f=Ln.key(e,d.key.path,n.batchId);o.push(r.delete(f)),l.push(d.key)}return je.Kn(o).next((function(){return l}))}function mn(t){return ti.co(t,jn.store)}function gn(t){return ti.co(t,Ln.store)}function yn(t){return ti.co(t,Mn.store)}var vn=function(){function t(t){this.Ho=t}return t.prototype.next=function(){return this.Ho+=2,this.Ho},t.Yo=function(){return new t(0)},t.Jo=function(){return new t(-1)},t}(),_n=function(){function t(t,e){this.yo=t,this.serializer=e}return t.prototype.Xo=function(t){var e=this;return this.Zo(t).next((function(n){var i=new vn(n.highestTargetId);return n.highestTargetId=i.next(),e.ta(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ea=function(t){return this.Zo(t).next((function(t){return b.v(new _(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.sa=function(t){return En(t.jo)},t.prototype.ia=function(t,e,n){var i=this;return this.Zo(t).next((function(r){return r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.F()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),i.ta(t,r)}))},t.prototype.na=function(t,e){var n=this;return this.ra(t,e).next((function(){return n.Zo(t).next((function(i){return i.targetCount+=1,n.ha(e,i),n.ta(t,i)}))}))},t.prototype.oa=function(t,e){return this.ra(t,e)},t.prototype.aa=function(t,e){var n=this;return this.ua(t,e.targetId).next((function(){return bn(t).delete(e.targetId)})).next((function(){return n.Zo(t)})).next((function(e){return xe(e.targetCount>0),e.targetCount-=1,n.ta(t,e)}))},t.prototype.Zh=function(t,e,n){var i=this,r=0,o=[];return bn(t).Vo((function(s,a){var c=i.serializer.ca(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(r++,o.push(i.aa(t,c)))})).next((function(){return je.Kn(o)})).next((function(){return r}))},t.prototype.Xs=function(t,e){var n=this;return bn(t).Vo((function(t,i){var r=n.serializer.ca(i);e(r)}))},t.prototype.Zo=function(t){return wn(t.jo)},t.prototype.ta=function(t,e){return(n=t,ti.co(n,Wn.store)).put(Wn.key,e);var n},t.prototype.ra=function(t,e){return bn(t).put(this.serializer._a(e))},t.prototype.ha=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.la=function(t){return this.Zo(t).next((function(t){return t.targetCount}))},t.prototype.da=function(t,e){var n=this,i=e.canonicalId(),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),o=null;return bn(t).Vo({range:r,index:zn.queryTargetsIndexName},(function(t,i,r){var s=n.serializer.ca(i);e.isEqual(s.target)&&(o=s,r.done())})).next((function(){return o}))},t.prototype.fa=function(t,e,n){var i=this,r=[],o=Cn(t);return e.forEach((function(e){var s=Je(e.path);r.push(o.put(new qn(n,s))),r.push(i.yo.vn(t,e))})),je.Kn(r)},t.prototype.Ta=function(t,e,n){var i=this,r=Cn(t);return je.forEach(e,(function(e){var o=Je(e.path);return je.Kn([r.delete([n,o]),i.yo.Dn(t,e)])}))},t.prototype.ua=function(t,e){var n=Cn(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)},t.prototype.Ea=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Cn(t),r=Xt();return i.Vo({range:n,Po:!0},(function(t,e,n){var i=nn(t[1]),o=new S(i);r=r.add(o)})).next((function(){return r}))},t.prototype.Mn=function(t,e){var n=Je(e.path),i=IDBKeyRange.bound([n],[ke(n)],!1,!0),r=0;return Cn(t).Vo({index:qn.documentTargetsIndex,Po:!0,range:i},(function(t,e,n){0!==t[0]&&(r++,n.done())})).next((function(){return r>0}))},t.prototype.ui=function(t,e){var n=this;return bn(t).get(e).next((function(t){return t?n.serializer.ca(t):null}))},t}();function bn(t){return ti.co(t,zn.store)}function wn(t){return rn.co(t,Wn.store).get(Wn.key).next((function(t){return xe(null!==t),t}))}function En(t){return wn(t).next((function(t){return t.highestListenSequenceNumber}))}function Cn(t){return ti.co(t,qn.store)}var xn=function(){function t(t,e){this.serializer=t,this.ur=e}return t.prototype.Jn=function(t,e,n){return On(t).put(Tn(e),n)},t.prototype.Zn=function(t,e){var n=On(t),i=Tn(e);return n.delete(i)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(i){return i.byteSize+=e,n.Ia(t,i)}))},t.prototype.tr=function(t,e){var n=this;return On(t).get(Tn(e)).next((function(t){return n.wa(t)}))},t.prototype.Ra=function(t,e){var n=this;return On(t).get(Tn(e)).next((function(t){var e=n.wa(t);return e?{Aa:e,size:kn(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,i=Ht();return this.ma(t,e,(function(t,e){var r=n.wa(e);i=i.nt(t,r)})).next((function(){return i}))},t.prototype.Pa=function(t,e){var n=this,i=Ht(),r=new O(S.k);return this.ma(t,e,(function(t,e){var o=n.wa(e);o?(i=i.nt(t,o),r=r.nt(t,kn(e))):(i=i.nt(t,null),r=r.nt(t,0))})).next((function(){return{Va:i,ga:r}}))},t.prototype.ma=function(t,e,n){if(e.q())return je.resolve();var i=IDBKeyRange.bound(e.first().path.j(),e.last().path.j()),r=e._t(),o=r.It();return On(t).Vo({range:i},(function(t,e,i){for(var s=S.it(t);o&&S.k(o,s)<0;)n(o,null),o=r.It();o&&o.isEqual(s)&&(n(o,e),o=r.wt()?r.It():null),o?i.Io(o.path.j()):i.done()})).next((function(){for(;o;)n(o,null),o=r.wt()?r.It():null}))},t.prototype.wr=function(t,e,n){var i=this,r=Qt(),o=e.path.length+1,s={};if(n.isEqual(b.MIN)){var a=e.path.j();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.j(),l=this.serializer.pa(n);s.range=IDBKeyRange.lowerBound([c,l],!0),s.index=Un.collectionReadTimeIndex}return On(t).Vo(s,(function(t,n,s){if(t.length===o){var a=i.serializer.ya(n);e.path.U(a.key.path)?a instanceof bt&&e.matches(a)&&(r=r.nt(a.key,a)):s.done()}})).next((function(){return r}))},t.prototype.ba=function(t,e){var n=this,i=Wt(),r=this.serializer.pa(e),o=On(t),s=IDBKeyRange.lowerBound(r,!0);return o.Vo({index:Un.readTimeIndex,range:s},(function(t,e){var o=n.serializer.ya(e);i=i.nt(o.key,o),r=e.readTime})).next((function(){return{va:i,readTime:n.serializer.Sa(r)}}))},t.prototype.Da=function(t){var e=this,n=On(t),i=b.MIN;return n.Vo({index:Un.readTimeIndex,reverse:!0},(function(t,n,r){n.readTime&&(i=e.serializer.Sa(n.readTime)),r.done()})).next((function(){return i}))},t.prototype.Ca=function(e){return new t.Fa(this,!!e&&e.Na)},t.prototype.ka=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Sn(t).get(Bn.key).next((function(t){return xe(!!t),t}))},t.prototype.Ia=function(t,e){return Sn(t).put(Bn.key,e)},t.prototype.wa=function(t){if(t){var e=this.serializer.ya(t);return e instanceof wt&&e.version.isEqual(b.S())?null:e}return null},t}();function Sn(t){return ti.co(t,Bn.store)}function On(t){return ti.co(t,Un.store)}function Tn(t){return t.path.j()}function kn(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ce();e=t.noDocument}return JSON.stringify(e).length}xn.Fa=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).$a=e,i.Na=n,i.Ma=new Ne((function(t){return t.toString()})),i}return r.__extends(e,t),e.prototype.ir=function(t){var e=this,n=[],i=0,r=new I((function(t,e){return Oe(t.K(),e.K())}));return this.zn.forEach((function(o,s){var a=e.Ma.get(o);if(s){var c=e.$a.serializer.La(s,e.readTime);r=r.add(o.path.L());var l=kn(c);i+=l-a,n.push(e.$a.Jn(t,o,c))}else if(i-=a,e.Na){var u=e.$a.serializer.La(new wt(o,b.S()),e.readTime);n.push(e.$a.Jn(t,o,u))}else n.push(e.$a.Zn(t,o))})),r.forEach((function(i){n.push(e.$a.ur.Mo(t,i))})),n.push(this.$a.updateMetadata(t,i)),je.Kn(n)},e.prototype.er=function(t,e){var n=this;return this.$a.Ra(t,e).next((function(t){return null===t?(n.Ma.set(e,0),null):(n.Ma.set(e,t.size),t.Aa)}))},e.prototype.sr=function(t,e){var n=this;return this.$a.Pa(t,e).next((function(t){var e=t.Va;return t.ga.forEach((function(t,e){n.Ma.set(t,e)})),e}))},e}(Le);var In=function(){function t(){this.Oa=new An}return t.prototype.Mo=function(t,e){return this.Oa.add(e),je.resolve()},t.prototype.Pr=function(t,e){return je.resolve(this.Oa.getEntries(e))},t}(),An=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.B(),n=t.L(),i=this.index[e]||new I(E.k),r=!i.has(n);return this.index[e]=i.add(n),r},t.prototype.has=function(t){var e=t.B(),n=t.L(),i=this.index[e];return i&&i.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new I(E.k)).j()},t}(),Nn=10,Pn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,i){var r=this;xe(n<i&&n>=0&&i<=Nn);var o=new an(e);n<1&&i>=1&&(function(t){t.createObjectStore(Dn.store)}(t),function(t){t.createObjectStore(Mn.store,{keyPath:Mn.keyPath}),t.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Ln.store)}(t),Gn(t),function(t){t.createObjectStore(Un.store)}(t));var s=je.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore(qn.store),t.deleteObjectStore(zn.store),t.deleteObjectStore(Wn.store)}(t),Gn(t)),s=s.next((function(){return function(t){var e=t.store(Wn.store),n=new Wn(0,0,b.MIN.F(),0);return e.put(Wn.key,n)}(o)}))),n<4&&i>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(jn.store).Ro().next((function(n){t.deleteObjectStore(jn.store),t.createObjectStore(jn.store,{keyPath:jn.keyPath,autoIncrement:!0}).createIndex(jn.userMutationsIndex,jn.userMutationsKeyPath,{unique:!0});var i=e.store(jn.store),r=n.map((function(t){return i.put(t)}));return je.Kn(r)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Qn.store,{keyPath:Qn.keyPath})}(t)}))),n<5&&i>=5&&(s=s.next((function(){return r.removeAcknowledgedMutations(o)}))),n<6&&i>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Bn.store)}(t),r.addDocumentGlobal(o)}))),n<7&&i>=7&&(s=s.next((function(){return r.ensureSequenceNumbers(o)}))),n<8&&i>=8&&(s=s.next((function(){return r.createCollectionParentIndex(t,o)}))),n<9&&i>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Un.store);e.createIndex(Un.readTimeIndex,Un.readTimeIndexPath,{unique:!1}),e.createIndex(Un.collectionReadTimeIndex,Un.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&i>=10&&(s=s.next((function(){return r.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Un.store).Vo((function(t,n){e+=kn(n)})).next((function(){var n=new Bn(e);return t.store(Bn.store).put(Bn.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Mn.store),i=t.store(jn.store);return n.Ro().next((function(n){return je.forEach(n,(function(n){var r=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return i.Ro(jn.userMutationsIndex,r).next((function(i){return je.forEach(i,(function(i){xe(i.userId===n.userId);var r=e.serializer.Oo(i);return pn(t,n.userId,r).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(qn.store),n=t.store(Un.store);return En(t).next((function(t){var i=[];return n.Vo((function(n,r){var o=new E(n),s=function(t){return[0,Je(t)]}(o);i.push(e.get(s).next((function(n){return n?je.resolve():function(n){return e.put(new qn(0,Je(n),t))}(o)})))})).next((function(){return je.Kn(i)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(Hn.store,{keyPath:Hn.keyPath});var n=e.store(Hn.store),i=new An,r=function(t){if(i.add(t)){var e=t.B(),r=t.L();return n.put({collectionId:e,parent:Je(r)})}};return e.store(Un.store).Vo({Po:!0},(function(t,e){var n=new E(t);return r(n.L())})).next((function(){return e.store(Ln.store).Vo({Po:!0},(function(t,e){var n=nn(t[1]);return r(n.L())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(zn.store);return n.Vo((function(t,i){var r=e.serializer.ca(i),o=e.serializer._a(r);return n.put(o)}))},t}(),Rn=function(t,e){this.seconds=t,this.nanoseconds=e},Dn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Dn.store="owner",Dn.key="owner";var Mn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Mn.store="mutationQueues",Mn.keyPath="userId";var jn=function(t,e,n,i,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=r};jn.store="mutations",jn.keyPath="batchId",jn.userMutationsIndex="userMutationsIndex",jn.userMutationsKeyPath=["userId","batchId"];var Ln=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Je(e)]},t.key=function(t,e,n){return[t,Je(e),n]},t}();Ln.store="documentMutations",Ln.PLACEHOLDER=new Ln;var Fn=function(t,e){this.path=t,this.readTime=e},Vn=function(t,e){this.path=t,this.version=e},Un=function(t,e,n,i,r,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=r,this.parentPath=o};Un.store="remoteDocuments",Un.readTimeIndex="readTimeIndex",Un.readTimeIndexPath="readTime",Un.collectionReadTimeIndex="collectionReadTimeIndex",Un.collectionReadTimeIndexPath=["parentPath","readTime"];var Bn=function(t){this.byteSize=t};Bn.store="remoteDocumentGlobal",Bn.key="remoteDocumentGlobalKey";var zn=function(t,e,n,i,r,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.lastLimboFreeSnapshotVersion=o,this.query=s};zn.store="targets",zn.keyPath="targetId",zn.queryTargetsIndexName="queryTargetsIndex",zn.queryTargetsKeyPath=["canonicalId","targetId"];var qn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};qn.store="targetDocuments",qn.keyPath=["targetId","path"],qn.documentTargetsIndex="documentTargetsIndex",qn.documentTargetsKeyPath=["path","targetId"];var Wn=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Wn.key="targetGlobalKey",Wn.store="targetGlobal";var Hn=function(t,e){this.collectionId=t,this.parent=e};function Gn(t){t.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.documentTargetsIndex,qn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(zn.store,{keyPath:zn.keyPath}).createIndex(zn.queryTargetsIndexName,zn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Wn.store)}Hn.store="collectionParents",Hn.keyPath=["collectionId","parent"];var Qn=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Qn.store="clientMetadata",Qn.keyPath="clientId";var Kn=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Mn.store,jn.store,Ln.store,Un.store,zn.store,Dn.store,Wn.store,qn.store],[Qn.store]),[Bn.store]),[Hn.store]),$n=function(){function t(){this.xa=new An}return t.prototype.Mo=function(t,e){var n=this;if(!this.xa.has(e)){var i=e.B(),r=e.L();t.rr((function(){n.xa.add(e)}));var o={collectionId:i,parent:Je(r)};return Yn(t).put(o)}return je.resolve()},t.prototype.Pr=function(t,e){var n=[],i=IDBKeyRange.bound([e,""],[ke(e),""],!1,!0);return Yn(t).Ro(i).next((function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];if(o.collectionId!==e)break;n.push(nn(o.parent))}return n}))},t}();function Yn(t){return ti.co(t,Hn.store)}var Xn=function(){function t(t){this.Ba=t}return t.prototype.ya=function(t){if(t.document)return this.Ba.vi(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=S.it(t.noDocument.path),n=this.qa(t.noDocument.readTime);return new wt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=S.it(t.unknownDocument.path),r=this.qa(t.unknownDocument.version);return new Et(i,r)}return Ce()},t.prototype.La=function(t,e){var n=this.pa(e),i=t.key.path.L().j();if(t instanceof bt){var r=this.Ba.bi(t);return new Un(null,null,r,t.hasCommittedMutations,n,i)}if(t instanceof wt){var o=t.key.path.j(),s=this.Ua(t.version),a=t.hasCommittedMutations;return new Un(null,new Fn(o,s),null,a,n,i)}if(t instanceof Et){var c=t.key.path.j(),l=this.Ua(t.version);return new Un(new Vn(c,l),null,null,!0,n,i)}return Ce()},t.prototype.pa=function(t){var e=t.F();return[e.seconds,e.nanoseconds]},t.prototype.Sa=function(t){var e=new _(t[0],t[1]);return b.v(e)},t.prototype.Ua=function(t){var e=t.F();return new Rn(e.seconds,e.nanoseconds)},t.prototype.qa=function(t){var e=new _(t.seconds,t.nanoseconds);return b.v(e)},t.prototype.$o=function(t,e){var n=this,i=e.baseMutations.map((function(t){return n.Ba.$i(t)})),r=e.mutations.map((function(t){return n.Ba.$i(t)}));return new jn(t,e.batchId,e.An.toMillis(),i,r)},t.prototype.Oo=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.Ba.xi(t)})),i=t.mutations.map((function(t){return e.Ba.xi(t)})),r=_.fromMillis(t.localWriteTimeMs);return new Pe(t.batchId,r,n,i)},t.prototype.ca=function(t){var e,n=this.qa(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?this.qa(t.lastLimboFreeSnapshotVersion):b.MIN;return e=void 0!==t.query.documents?this.Ba.Ki(t.query):this.Ba.Ji(t.query),new Vt(e,t.targetId,0,t.lastListenSequenceNumber,n,i,D.fromBase64String(t.resumeToken))},t.prototype._a=function(t){var e,n=this.Ua(t.ts),i=this.Ua(t.lastLimboFreeSnapshotVersion);e=t.target.Pe()?this.Ba.ji(t.target):this.Ba.Gi(t.target);var r=t.resumeToken.toBase64();return new zn(t.targetId,t.target.canonicalId(),n,r,t.sequenceNumber,i,e)},t}(),Zn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Jn=function(t){function e(e,n){var i=this;return(i=t.call(this)||this).jo=e,i.Qa=n,i}return r.__extends(e,t),e}(Ve),ti=function(){function t(e,n,i,r,o,s,a,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Nr=s,this.Wa=c,this.ja=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ka=null,this.inForeground=!1,this.Ga=null,this.za=null,this.Ha=Number.NEGATIVE_INFINITY,this.Ya=function(t){return Promise.resolve()},!t.ho())throw new f(d.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");if(this.yo=new ii(this,o),this.Ja=n+t.Xa,this.serializer=new Xn(a),this.document=r.document,this.Za=new _n(this.yo,this.serializer),this.ur=new $n,this.or=new xn(this.serializer,this.ur),!r.window||!r.window.localStorage)throw new f(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.tu=this.window.localStorage}return t.co=function(t,e){if(t instanceof Jn)return rn.co(t.jo,e);throw Ce()},t.prototype.start=function(){var t=this;return rn.ro(this.Ja,Nn,new Pn(this.serializer)).then((function(e){return t.eu=e,t.su()})).then((function(){return t.iu(),t.nu(),t.ru(),t.eu.runTransaction("readonly",[Wn.store],(function(t){return En(t)}))})).then((function(e){t.hu=new ze(e,t.Wa)})).then((function(){t.ja=!0})).catch((function(e){return t.eu&&t.eu.close(),Promise.reject(e)}))},t.prototype.ou=function(t){var e=this;return this.Ya=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.Kh?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.au=function(t){var e=this;this.eu._o((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.uu=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Nr.Zr((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Kh?[4,this.su()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.su=function(){var t=this;return this.eu.runTransaction("readwrite",Kn,(function(e){return ni(e).put(new Qn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.cu(e).next((function(e){e||(t.isPrimary=!1,t.Nr.Zr((function(){return t.Ya(!1)})))}))})).next((function(){return t._u(e)})).next((function(n){return t.isPrimary&&!n?t.lu(e).next((function(){return!1})):!!n&&t.du(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Nr.Zr((function(){return t.Ya(e)})),t.isPrimary=e}))},t.prototype.cu=function(t){var e=this;return ei(t).get(Dn.key).next((function(t){return je.resolve(e.fu(t))}))},t.prototype.Tu=function(t){return ni(t).delete(this.clientId)},t.prototype.Eu=function(){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.Iu(this.Ha,18e5)?[3,2]:(this.Ha=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(n){var i=t.co(n,Qn.store);return i.Ro().next((function(t){var n=e.wu(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return je.forEach(r,(function(t){return i.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.Ru(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.ru=function(){var t=this;this.za=this.Nr.Wr("client_metadata_refresh",4e3,(function(){return t.su().then((function(){return t.Eu()})).then((function(){return t.ru()}))}))},t.prototype.fu=function(t){return!!t&&t.ownerId===this.clientId},t.prototype._u=function(t){var e=this;return ei(t).get(Dn.key).next((function(n){if(null!==n&&e.Iu(n.leaseTimestampMs,5e3)&&!e.Au(n.ownerId)){if(e.fu(n)&&e.networkEnabled)return!0;if(!e.fu(n)){if(!n.allowTabSynchronization)throw new f(d.FAILED_PRECONDITION,Zn);return!1}}return!(!e.networkEnabled||!e.inForeground)||ni(t).Ro().next((function(t){return void 0===e.wu(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&be("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.mu=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.ja=!1,this.Pu(),this.za&&(this.za.cancel(),this.za=null),this.Vu(),this.gu(),[4,this.eu.runTransaction("readwrite",[Dn.store,Qn.store],(function(e){return t.lu(e).next((function(){return t.Tu(e)}))}))];case 1:return e.sent(),this.eu.close(),this.pu(),[2]}}))}))},t.prototype.wu=function(t,e){var n=this;return t.filter((function(t){return n.Iu(t.updateTimeMs,e)&&!n.Au(t.clientId)}))},t.prototype.yu=function(){var t=this;return this.eu.runTransaction("readonly",[Qn.store],(function(e){return ni(e).Ro().next((function(e){return t.wu(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return t.ho()?[4,rn.delete(e+t.Xa)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"Kh",{get:function(){return this.ja},enumerable:!0,configurable:!0}),t.prototype.bu=function(t){return dn.vo(t,this.serializer,this.ur,this.yo)},t.prototype.vu=function(){return this.Za},t.prototype.Su=function(){return this.or},t.prototype.Du=function(){return this.ur},t.prototype.runTransaction=function(t,e,n){var i,r=this;return be("IndexedDbPersistence","Starting transaction:",t),this.eu.runTransaction("readonly"===e?"readonly":"readwrite",Kn,(function(o){return i=new Jn(o,r.hu.next()),"readwrite-primary"===e?r.cu(o).next((function(t){return!!t||r._u(o)})).next((function(e){if(!e)throw we("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Nr.Zr((function(){return r.Ya(!1)})),new f(d.FAILED_PRECONDITION,Fe);return n(i)})).next((function(t){return r.du(o).next((function(){return t}))})):r.Cu(o).next((function(){return n(i)}))})).then((function(t){return i.hr(),t}))},t.prototype.Cu=function(t){var e=this;return ei(t).get(Dn.key).next((function(t){if(null!==t&&e.Iu(t.leaseTimestampMs,5e3)&&!e.Au(t.ownerId)&&!e.fu(t)&&!t.allowTabSynchronization)throw new f(d.FAILED_PRECONDITION,Zn)}))},t.prototype.du=function(t){var e=new Dn(this.clientId,this.allowTabSynchronization,Date.now());return ei(t).put(Dn.key,e)},t.ho=function(){return rn.ho()},t.Fu=function(t){var e=t.ci.projectId;return t.ci.In||(e+="."+t.ci.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.lu=function(t){var e=this,n=ei(t);return n.get(Dn.key).next((function(t){return e.fu(t)?(be("IndexedDbPersistence","Releasing primary lease."),n.delete(Dn.key)):je.resolve()}))},t.prototype.Iu=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(we("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.iu=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ga=function(){t.Nr.Zr((function(){return t.inForeground="visible"===t.document.visibilityState,t.su()}))},this.document.addEventListener("visibilitychange",this.Ga),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Vu=function(){this.Ga&&(this.document.removeEventListener("visibilitychange",this.Ga),this.Ga=null)},t.prototype.nu=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.Ka=function(){t.Pu(),t.Nr.Zr((function(){return t.mu()}))},this.window.addEventListener("unload",this.Ka))},t.prototype.gu=function(){this.Ka&&(this.window.removeEventListener("unload",this.Ka),this.Ka=null)},t.prototype.Au=function(t){try{var e=null!==this.tu.getItem(this.Ru(t));return be("IndexedDbPersistence","Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return we("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Pu=function(){try{this.tu.setItem(this.Ru(this.clientId),String(Date.now()))}catch(t){we("Failed to set zombie client id.",t)}},t.prototype.pu=function(){try{this.tu.removeItem(this.Ru(this.clientId))}catch(t){}},t.prototype.Ru=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ei(t){return t.store(Dn.store)}function ni(t){return t.store(Qn.store)}ti.Xa="main";var ii=function(){function t(t,e){this.db=t,this.Nu=null,this.qh=new Ze(this,e)}return t.prototype.Yh=function(t){var e=this.ku(t);return this.db.vu().la(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.ku=function(t){var e=0;return this.Xh(t,(function(t){e++})).next((function(){return e}))},t.prototype.Xs=function(t,e){return this.db.vu().Xs(t,e)},t.prototype.Xh=function(t,e){return this.$u(t,(function(t,n){return e(n)}))},t.prototype.Mu=function(t){this.Nu=t},t.prototype.vn=function(t,e){return ri(t,e)},t.prototype.Dn=function(t,e){return ri(t,e)},t.prototype.Zh=function(t,e,n){return this.db.vu().Zh(t,e,n)},t.prototype.Go=function(t,e){return ri(t,e)},t.prototype.Lu=function(t,e){return this.Nu.Mn(e)?je.resolve(!0):function(t,e){var n=!1;return yn(t).po((function(i){return fn(t,i,e).next((function(t){return t&&(n=!0),je.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.to=function(t,e){var n=this,i=this.db.Su().Ca(),r=[],o=0;return this.$u(t,(function(s,a){if(a<=e){var c=n.Lu(t,s).next((function(e){if(!e)return o++,i.tr(t,s).next((function(){return i.Zn(s),Cn(t).delete([0,Je(s.path)])}))}));r.push(c)}})).next((function(){return je.Kn(r)})).next((function(){return i.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.es(t.Qa);return this.db.vu().oa(t,n)},t.prototype.Ou=function(t,e){return ri(t,e)},t.prototype.$u=function(t,e){var n,i=Cn(t),r=ze.Fr;return i.Vo({index:qn.documentTargetsIndex},(function(t,i){var o=i.path,s=i.sequenceNumber;0===t[0]?(r!==ze.Fr&&e(new S(nn(n)),r),r=s,n=o):r=ze.Fr})).next((function(){r!==ze.Fr&&e(new S(nn(n)),r)}))},t.prototype.so=function(t){return this.db.Su().ka(t)},t}();function ri(t,e){return Cn(t).put(function(t,e){return new qn(0,Je(t.path),e)}(e,t.Qa))}var oi=function(){function t(t,e,n){this.persistence=t,this.xu=e,this.Bu=new De,this.qu=new O(Oe),this.Uu=new Ne((function(t){return t.canonicalId()})),this.Qu=b.MIN,this.persistence.yo.Mu(this.Bu),this.ar=t.bu(n),this.Wu=t.Su(),this.Za=t.vu(),this.ju=new Ue(this.Wu,this.ar,this.persistence.Du()),this.xu.Ku(this.ju)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Gu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o=this;return r.__generator(this,(function(r){switch(r.label){case 0:return e=this.ar,n=this.ju,[4,this.persistence.runTransaction("Handle user change","readonly",(function(i){var r;return o.ar.Uo(i).next((function(s){return r=s,e=o.persistence.bu(t),n=new Ue(o.Wu,e,o.persistence.Du()),e.Uo(i)})).next((function(t){for(var e=[],o=[],s=Xt(),a=0,c=r;a<c.length;a++){var l=c[a];e.push(l.batchId);for(var u=0,h=l.mutations;u<h.length;u++)s=s.add(h[u].key)}for(var d=0,f=t;d<f.length;d++){var p=f[d];o.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return n.Tr(i,s).next((function(t){return{zu:t,Hu:e,Yu:o}}))}))}))];case 1:return i=r.sent(),[2,(this.ar=e,this.ju=n,this.xu.Ku(this.ju),i)]}}))}))},t.prototype.Ju=function(t){var e,n=this,i=_.now(),r=t.reduce((function(t,e){return t.add(e.key)}),Xt());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.ju.Tr(o,r).next((function(r){e=r;for(var s=[],a=0,c=t;a<c.length;a++){var l=c[a],u=l.ee(e.get(l.key));null!=u&&s.push(new ft(l.key,u,u.se(),ut.exists(!0)))}return n.ar.ko(o,i,s,t)}))})).then((function(t){var n=t.Pn(e);return{batchId:t.batchId,zn:n}}))},t.prototype.Do=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var i=t.batch.keys(),r=e.Wu.Ca({Na:!0});return e.ar.Do(n,t.batch,t.streamToken).next((function(){return e.Xu(n,t,r)})).next((function(){return r.apply(n)})).next((function(){return e.ar.zo(n)})).next((function(){return e.ju.Tr(n,i)}))}))},t.prototype.Zu=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var i;return e.ar.Lo(n,t).next((function(t){return xe(null!==t),i=t.keys(),e.ar.Wo(n,t)})).next((function(){return e.ar.zo(n)})).next((function(){return e.ju.Tr(n,i)}))}))},t.prototype.qo=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.ar.qo(e)}))},t.prototype.Fo=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",(function(e){return t.ar.Fo(e)}))},t.prototype.No=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",(function(n){return e.ar.No(n,t)}))},t.prototype.ea=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Za.ea(e)}))},t.prototype.tc=function(e){var n=this,i=e.ts,r=this.qu;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.Wu.Ca({Na:!0});r=n.qu;var a=[];e.Ts.forEach((function(e,s){var c=r.get(s);if(c){a.push(n.Za.Ta(o,e.gs,s).next((function(){return n.Za.fa(o,e.Ps,s)})));var l=e.resumeToken;if(l.Ot()>0){var u=c.ss(l,i).es(o.Qa);r=r.nt(s,u),t.ec(c,u,e)&&a.push(n.Za.oa(o,u))}}}));var c=Wt(),l=Xt();if(e.Is.forEach((function(t,e){l=l.add(t)})),a.push(s.getEntries(o,l).next((function(t){e.Is.forEach((function(r,l){var u=t.get(r);l instanceof wt&&l.version.isEqual(b.MIN)?(s.Zn(r,i),c=c.nt(r,l)):null==u||l.version.D(u.version)>0||0===l.version.D(u.version)&&u.hasPendingWrites?(s.Jn(l,i),c=c.nt(r,l)):be("LocalStore","Ignoring outdated watch update for ",r,". Current version:",u.version," Watch version:",l.version),e.ws.has(r)&&a.push(n.persistence.yo.Ou(o,r))}))}))),!i.isEqual(b.MIN)){var u=n.Za.ea(o).next((function(t){return n.Za.ia(o,o.Qa,i)}));a.push(u)}return je.Kn(a).next((function(){return s.apply(o)})).next((function(){return n.ju.Er(o,c)}))})).then((function(t){return n.qu=r,t}))},t.ec=function(t,e,n){return xe(e.resumeToken.Ot()>0),0===t.resumeToken.Ot()||e.ts.C()-t.ts.C()>=this.sc||n.Ps.size+n.Vs.size+n.gs.size>0},t.prototype.ic=function(t){for(var e=this,n=0,i=t;n<i.length;n++){var r=i[n],o=r.targetId;if(this.Bu.Sn(r.pr,o),this.Bu.Fn(r.yr,o),!r.fromCache){var s=this.qu.get(o),a=s.ns(s.ts);this.qu=this.qu.nt(o,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(n){return je.forEach(t,(function(t){return je.forEach(t.yr,(function(t){return e.persistence.yo.Dn(n,t)}))}))}))},t.prototype.nc=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.ar.Bo(n,t)}))},t.prototype.rc=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.ju.cr(n,t)}))},t.prototype.hc=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var i;return e.Za.da(n,t).next((function(r){return r?je.resolve(i=r):e.Za.Xo(n).next((function(r){return i=new Vt(t,r,0,n.Qa),e.Za.na(n,i).next((function(){return i}))}))}))})).then((function(n){return null===e.qu.get(n.targetId)&&(e.qu=e.qu.nt(n.targetId,n),e.Uu.set(t,n.targetId)),n}))},t.prototype.da=function(t,e){var n=this.Uu.get(e);return void 0!==n?je.resolve(this.qu.get(n)):this.Za.da(t,e)},t.prototype.oc=function(t,e){var n=this,i=this.qu.get(t);return this.persistence.runTransaction("Release target",e?"readwrite":"readwrite-primary",(function(r){var o=n.Bu.Nn(t);return e?je.resolve():je.forEach(o,(function(t){return n.persistence.yo.Dn(r,t)})).next((function(){n.persistence.yo.removeTarget(r,i)}))})).then((function(){n.qu=n.qu.remove(t),n.Uu.delete(i.target)}))},t.prototype.ac=function(t,e){var n=this,i=b.MIN,r=Xt();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.da(o,t.xe()).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,n.Za.Ea(o,t.targetId).next((function(t){r=t}))})).next((function(){return n.xu.wr(o,t,e?i:b.MIN,e?r:Xt())})).next((function(t){return{documents:t,uc:r}}))}))},t.prototype.cc=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",(function(n){return e.Za.Ea(n,t)}))},t.prototype.Xu=function(t,e,n){var i=this,r=e.batch,o=r.keys(),s=je.resolve();return o.forEach((function(i){s=s.next((function(){return n.tr(t,i)})).next((function(t){var o=t,s=e.gn.get(i);xe(null!==s),(!o||o.version.D(s)<0)&&(o=r.qt(i,o,e))&&n.Jn(o,e.Vn)}))})),s.next((function(){return i.ar.Wo(t,r)}))},t.prototype.Gh=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.eo(n,e.qu)}))},t}();oi.sc=3e8;var si=function(t){function e(e,n,i){var r=this;return(r=t.call(this,e,n,i)||this).persistence=e,r.ar=e.bu(i),r.Wu=e.Su(),r.Za=e.vu(),r}return r.__extends(e,t),e.prototype.start=function(){return this._c()},e.prototype.lc=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",(function(n){return e.ar.xo(n,t).next((function(t){return t?e.ju.Tr(n,t):je.resolve(null)}))}))},e.prototype.dc=function(t){this.ar.Ko(t)},e.prototype.uu=function(t){this.persistence.uu(t)},e.prototype.yu=function(){return this.persistence.yu()},e.prototype.fc=function(t){var e=this,n=this.qu.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly",(function(n){return e.Za.ui(n,t).next((function(t){return t?t.target:null}))}))},e.prototype.ba=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",(function(e){return t.Wu.ba(e,t.Qu)})).then((function(e){var n=e.va;return t.Qu=e.readTime,n}))},e.prototype._c=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return t=this,[4,this.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return e.Wu.Da(t)}))];case 1:return t.Qu=n.sent(),[2]}}))}))},e}(oi);function ai(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==d.FAILED_PRECONDITION||t.message!==Fe)throw t;return be("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function ci(t,e){if(0!==e.length)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Si(e.length,"argument")+".")}function li(t,e,n){if(e.length!==n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires "+Si(n,"argument")+", but was called with "+Si(e.length,"argument")+".")}function ui(t,e,n){if(e.length<n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Si(n,"argument")+", but was called with "+Si(e.length,"argument")+".")}function hi(t,e,n,i){if(e.length<n||e.length>i)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+i+" arguments, but was called with "+Si(e.length,"argument")+".")}function di(t,e,n,i){yi(t,e,xi(n)+" argument",i)}function fi(t,e,n,i){void 0!==i&&di(t,e,n,i)}function pi(t,e,n,i){yi(t,e,n+" option",i)}function mi(t,e,n,i){void 0!==i&&pi(t,e,n,i)}function gi(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){for(var o=[],s=0,a=r;s<a.length;s++){var c=a[s];if(c===i)return;o.push(_i(c))}var l=_i(i);throw new f(d.INVALID_ARGUMENT,"Invalid value "+l+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,i,r)}function yi(t,e,n,i){if(!("object"===e?vi(i):"non-empty string"===e?"string"==typeof i&&""!==i:typeof i===e)){var r=_i(i);throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+r)}}function vi(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function _i(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ce()}function bi(t,e,n){if(void 0===n)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+xi(e)+" argument, but it was undefined.")}function wi(t,e,n){P(e,(function(e,i){if(n.indexOf(e)<0)throw new f(d.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Ei(t,e,n,i){var r=_i(i);return new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+xi(n)+" argument to be a "+e+", but it was: "+r)}function Ci(t,e,n){if(n<=0)throw new f(d.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+xi(e)+" argument to be a positive number, but it was: "+n+".")}function xi(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Si(t,e){return t+" "+e+(1===t?"":"s")}function Oi(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new f(d.INVALID_ARGUMENT,t)}return n.prototype=t.prototype,Object.assign(n,t),n}function Ti(){if("undefined"==typeof Uint8Array)throw new f(d.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ki(){if(!ge.Lt().Tc)throw new f(d.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ii=function(){function t(t){ki(),this.Ec=t}return t.fromBase64String=function(e){li("Blob.fromBase64String",arguments,1),di("Blob.fromBase64String","string",1,e),ki();try{return new t(D.fromBase64String(e))}catch(e){throw new f(d.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(li("Blob.fromUint8Array",arguments,1),Ti(),!(e instanceof Uint8Array))throw Ei("Blob.fromUint8Array","Uint8Array",1,e);return new t(D.fromUint8Array(e))},t.prototype.toBase64=function(){return li("Blob.toBase64",arguments,0),ki(),this.Ec.toBase64()},t.prototype.toUint8Array=function(){return li("Blob.toUint8Array",arguments,0),Ti(),this.Ec.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.Ec.isEqual(t.Ec)},t}(),Ai=Oi(Ii,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Ni=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,i){if(!(e instanceof Array)||e.length<1)throw new f(d.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Si(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(di("FieldPath","string",n,t[n]),0===t[n].length)throw new f(d.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.Ic=new x(t)}return t.documentId=function(){return t.wc},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ei("isEqual","FieldPath",1,e);return this.Ic.isEqual(e.Ic)},t}();Ni.wc=new Ni(x.X().K());var Pi=new RegExp("[~\\*/\\[\\]]"),Ri=function(){function t(t){this.Rc=t}return t.delete=function(){return ci("FieldValue.delete",arguments),Di.instance},t.serverTimestamp=function(){return ci("FieldValue.serverTimestamp",arguments),Mi.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ui("FieldValue.arrayUnion",arguments,1),new ji(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ui("FieldValue.arrayRemove",arguments,1),new Li(t)},t.increment=function(t){return di("FieldValue.increment","number",1,t),li("FieldValue.increment",arguments,1),new Fi(t)},t.prototype.isEqual=function(t){return this===t},t}(),Di=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return r.__extends(e,t),e}(Ri);Di.instance=new Di;var Mi=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return r.__extends(e,t),e}(Ri);Mi.instance=new Mi;var ji=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayUnion")||this).Ac=e,n}return r.__extends(e,t),e}(Ri),Li=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.arrayRemove")||this).Ac=e,n}return r.__extends(e,t),e}(Ri),Fi=function(t){function e(e){var n=this;return(n=t.call(this,"FieldValue.increment")||this).mc=e,n}return r.__extends(e,t),e}(Ri),Vi=Oi(Ri,"Use FieldValue.<field>() instead."),Ui=function(){function t(t,e){if(li("GeoPoint",arguments,2),di("GeoPoint","number",1,t),di("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new f(d.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new f(d.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.Pc=t,this.Vc=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.Pc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.Vc},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this.Pc===t.Pc&&this.Vc===t.Vc},t.prototype.p=function(t){return Oe(this.Pc,t.Pc)||Oe(this.Vc,t.Vc)},t}(),Bi=/^__.*__$/,zi=function(){function t(t,e,n){this.data=t,this.se=e,this.fieldTransforms=n}return t.prototype.gc=function(t,e){var n=[];return n.push(null!==this.se?new ft(t,this.data,this.se,e):new dt(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new pt(t,this.fieldTransforms)),n},t}(),qi=function(){function t(t,e,n){this.data=t,this.se=e,this.fieldTransforms=n}return t.prototype.gc=function(t,e){var n=[new ft(t,this.data,this.se,e)];return this.fieldTransforms.length>0&&n.push(new pt(t,this.fieldTransforms)),n},t}();function Wi(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}var Hi=function(){function t(t,e,n,i,r,o){this.pc=t,this.methodName=e,this.path=n,this.yc=i,void 0===r&&this.bc(),this.yc=void 0!==i&&i,this.fieldTransforms=r||[],this.se=o||[]}return t.prototype.vc=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.pc,this.methodName,n,!1,this.fieldTransforms,this.se);return i.Sc(e),i},t.prototype.Dc=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.pc,this.methodName,n,!1,this.fieldTransforms,this.se);return i.bc(),i},t.prototype.Cc=function(e){return new t(this.pc,this.methodName,null,!0,this.fieldTransforms,this.se)},t.prototype.Fc=function(t){var e=null===this.path||this.path.q()?"":" (found in field "+this.path.toString()+")";return new f(d.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.se.find((function(e){return t.U(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.U(e.field)}))},t.prototype.bc=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.Sc(this.path.get(t))},t.prototype.Sc=function(t){if(0===t.length)throw this.Fc("Document fields must not be empty");if(Wi(this.pc)&&Bi.test(t))throw this.Fc('Document fields cannot begin and end with "__"')},t}(),Gi=function(t,e){this.ci=t,this.key=e},Qi=function(){function t(t,e){this.serializer=t,this.Nc=e}return t.prototype.kc=function(t,e){var n=new Hi(0,t,x.H);$i("Data must be an object, but it was:",n,e);var i=this.$c(e,n);return new zi(new yt(i),null,n.fieldTransforms)},t.prototype.Mc=function(t,e,n){var i=new Hi(2,t,x.H);$i("Data must be an object, but it was:",i,e);var r,o,s=this.$c(e,i);if(n){for(var a=new I(x.k),c=0,l=n;c<l.length;c++){var u=l[c],h=void 0;if(u instanceof Ni)h=u.Ic;else{if("string"!=typeof u)throw Ce();h=Xi(t,u)}if(!i.contains(h))throw new f(d.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}r=at.Kt(a),o=i.fieldTransforms.filter((function(t){return r.zt(t.field)}))}else r=at.Gt(i.se),o=i.fieldTransforms;return new zi(new yt(s),r,o)},t.prototype.Lc=function(t,e){var n=this,i=new Hi(1,t,x.H);$i("Data must be an object, but it was:",i,e);var r=new I(x.k),o=yt._e();P(e,(function(e,s){var a=Xi(t,e),c=i.Dc(a);if((s=n.Oc(s,c))instanceof Di)r=r.add(a);else{var l=n.xc(s,c);null!=l&&(r=r.add(a),o.set(a,l))}}));var s=at.Kt(r);return new qi(o.he(),s,i.fieldTransforms)},t.prototype.Bc=function(t,e,n,i){var r=new Hi(1,t,x.H),o=[Yi(t,e)],s=[n];if(i.length%2!=0)throw new f(d.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<i.length;a+=2)o.push(Yi(t,i[a])),s.push(i[a+1]);for(var c=new I(x.k),l=yt._e(),u=0;u<o.length;++u){var h=o[u],p=r.Dc(h),m=this.Oc(s[u],p);if(m instanceof Di)c=c.add(h);else{var g=this.xc(m,p);null!=g&&(c=c.add(h),l.set(h,g))}}var y=at.Kt(c);return new qi(l.he(),y,r.fieldTransforms)},t.prototype.qc=function(t,e,n){void 0===n&&(n=!1);var i=new Hi(n?4:3,t,x.H);return this.xc(e,i)},t.prototype.Oc=function(t,e){try{return this.Nc(t)}catch(t){var n=Zi(t);throw e.Fc(n)}},t.prototype.xc=function(t,e){if(Ki(t=this.Oc(t,e)))return $i("Unsupported field value:",e,t),this.$c(t,e);if(t instanceof Ri)return this.Uc(t,e),null;if(e.path&&e.se.push(e.path),t instanceof Array){if(e.yc&&4!==e.pc)throw e.Fc("Nested arrays are not supported");return this.Qc(t,e)}return this.Wc(t,e)},t.prototype.$c=function(t,e){var n=this,i={};return R(t)?e.path&&e.path.length>0&&e.se.push(e.path):P(t,(function(t,r){var o=n.xc(r,e.vc(t));null!=o&&(i[t]=o)})),{mapValue:{fields:i}}},t.prototype.Qc=function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var s=this.xc(o[r],e.Cc(i));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),i++}return{arrayValue:{values:n}}},t.prototype.Uc=function(t,e){if(!Wi(e.pc))throw e.Fc(t.Rc+"() can only be used with update() and set()");if(null===e.path)throw e.Fc(t.Rc+"() is not currently supported inside arrays");if(t instanceof Di){if(2!==e.pc)throw e.Fc(1===e.pc?"FieldValue.delete() can only appear at the top level of your update data":"FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.se.push(e.path)}else if(t instanceof Mi)e.fieldTransforms.push(new ct(e.path,nt.instance));else if(t instanceof ji){var n=this.jc(t.Rc,t.Ac),i=new it(n);e.fieldTransforms.push(new ct(e.path,i))}else if(t instanceof Li){var r=this.jc(t.Rc,t.Ac),o=new rt(r);e.fieldTransforms.push(new ct(e.path,o))}else if(t instanceof Fi){var s=this.qc("FieldValue.increment",t.mc),a=new ot(this.serializer,s);e.fieldTransforms.push(new ct(e.path,a))}else Ce()},t.prototype.Wc=function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return this.serializer.Ti(t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=_.fromDate(t);return{timestampValue:this.serializer.F(n)}}if(t instanceof _){var i=new _(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:this.serializer.F(i)}}if(t instanceof Ui)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ii)return{bytesValue:this.serializer.Ei(t)};if(t instanceof Gi)return{referenceValue:this.serializer.wi(t.key.path,t.ci)};throw e.Fc("Unsupported field value: "+_i(t))},t.prototype.jc=function(t,e){var n=this;return e.map((function(e,i){var r=new Hi(3,t,x.H);return n.xc(e,r.Cc(i))}))},t}();function Ki(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof _||t instanceof Ui||t instanceof Ii||t instanceof Gi||t instanceof Ri)}function $i(t,e,n){if(!Ki(n)||!vi(n)){var i=_i(n);throw e.Fc("an object"===i?t+" a custom object":t+" "+i)}}function Yi(t,e){if(e instanceof Ni)return e.Ic;if("string"==typeof e)return Xi(t,e);throw new f(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Xi(t,e){try{return function(t){if(t.search(Pi)>=0)throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ni.bind.apply(Ni,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new f(d.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).Ic}catch(e){var n=Zi(e);throw new f(d.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function Zi(t){return t instanceof Error?t.message:t.toString()}var Ji=function(){function t(t,e,n,i,r,o){this.Nr=t,this.Kc=n,this.Gc=i,this.zc=r,this.listener=o,this.state=0,this.Hc=0,this.Yc=null,this.stream=null,this.oh=new We(t,e)}return t.prototype.Jc=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Xc=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Zc()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Jc()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(){this.state=0,this.oh.reset()},t.prototype.e_=function(){var t=this;this.Xc()&&null===this.Yc&&(this.Yc=this.Nr.Wr(this.Kc,6e4,(function(){return t.s_()})))},t.prototype.i_=function(t){this.n_(),this.stream.send(t)},t.prototype.s_=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.Xc()?[2,this.close(0)]:[2]}))}))},t.prototype.n_=function(){this.Yc&&(this.Yc.cancel(),this.Yc=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.n_(),this.oh.cancel(),this.Hc++,3!==t?this.oh.reset():e&&e.code===d.RESOURCE_EXHAUSTED?(we(e.toString()),we("Using maximum backoff delay to prevent overloading the backend."),this.oh.qr()):e&&e.code===d.UNAUTHENTICATED&&this.zc._(),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.h_(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.r_=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.o_(this.Hc),n=this.Hc;this.zc.getToken().then((function(e){t.Hc===n&&t.a_(e)}),(function(n){e((function(){var e=new f(d.UNKNOWN,"Fetching auth token failed: "+n.message);return t.u_(e)}))}))},t.prototype.a_=function(t){var e=this,n=this.o_(this.Hc);this.stream=this.c_(t),this.stream.__((function(){n((function(){return e.state=2,e.listener.__()}))})),this.stream.h_((function(t){n((function(){return e.u_(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Zc=function(){var t=this;this.state=4,this.oh.Ur((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.u_=function(t){return be("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.o_=function(t){var e=this;return function(n){e.Nr.Zr((function(){return e.Hc===t?n():(be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),tr=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,i,o)||this).serializer=r,s}return r.__extends(e,t),e.prototype.c_=function(t){return this.Gc.l_("Listen",t)},e.prototype.onMessage=function(t){this.oh.reset();var e=this.serializer.Fi(t),n=this.serializer.ki(t);return this.listener.d_(e,n)},e.prototype.f_=function(t){var e={};e.database=this.serializer.pi,e.addTarget=this.serializer.xe(t);var n=this.serializer.en(t);n&&(e.labels=n),this.i_(e)},e.prototype.T_=function(t){var e={};e.database=this.serializer.pi,e.removeTarget=t,this.i_(e)},e}(Ji),er=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,i,o)||this).serializer=r,s.E_=!1,s.lastStreamToken=D.xt,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.E_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.E_=!1,t.prototype.start.call(this)},e.prototype.r_=function(){this.E_&&this.w_([])},e.prototype.c_=function(t){return this.Gc.l_("Write",t)},e.prototype.onMessage=function(t){if(xe(!!t.streamToken),this.lastStreamToken=this.serializer.Ii(t.streamToken),this.E_){this.oh.reset();var e=this.serializer.Wi(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.R_(n,e)}return xe(!t.writeResults||0===t.writeResults.length),this.E_=!0,this.listener.A_()},e.prototype.m_=function(){var t={};t.database=this.serializer.pi,this.i_(t)},e.prototype.w_=function(t){var e=this,n={streamToken:this.serializer.Ei(this.lastStreamToken),writes:t.map((function(t){return e.serializer.$i(t)}))};this.i_(n)},e}(Ji),nr=function(){function t(t,e,n,i){this.Nr=t,this.Gc=e,this.credentials=n,this.serializer=i}return t.prototype.P_=function(t){return new er(this.Nr,this.Gc,this.credentials,this.serializer,t)},t.prototype.V_=function(t){return new tr(this.Nr,this.Gc,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.pi,writes:t.map((function(t){return e.serializer.$i(t)}))};return this.g_("Commit",n).then((function(t){return e.serializer.Wi(t.writeResults,t.commitTime)}))},t.prototype.p_=function(t){var e=this,n={database:this.serializer.pi,documents:t.map((function(t){return e.serializer.mi(t)}))};return this.y_("BatchGetDocuments",n).then((function(n){var i=Wt();n.forEach((function(t){var n=e.serializer.Ci(t);i=i.nt(n.key,n)}));var r=[];return t.forEach((function(t){var e=i.get(t);xe(!!e),r.push(e)})),r}))},t.prototype.g_=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.Gc.g_(t,e,i)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials._(),t}))},t.prototype.y_=function(t,e){var n=this;return this.credentials.getToken().then((function(i){return n.Gc.y_(t,e,i)})).catch((function(t){throw t.code===d.UNAUTHENTICATED&&n.credentials._(),t}))},t}(),ir=function(){function t(t){this.b_=t,this.v_=$t(),this.mutations=[],this.S_=!1,this.D_=null,this.C_=new Set}return t.prototype.p_=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.F_(),this.mutations.length>0)throw new f(d.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.b_.p_(t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof wt||t instanceof bt?n.N_(t):Ce()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.gc(t,this.Zt(t))),this.C_.add(t)},t.prototype.update=function(t,e){try{this.write(e.gc(t,this.k_(t)))}catch(t){this.D_=t}this.C_.add(t)},t.prototype.delete=function(t){this.write([new mt(t,this.Zt(t))]),this.C_.add(t)},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.F_(),this.D_)throw this.D_;return t=this.v_,this.mutations.forEach((function(e){t=t.remove(e.key)})),t.forEach((function(t,n){e.mutations.push(new gt(t,e.Zt(t)))})),[4,this.b_.commit(this.mutations)];case 1:return n.sent(),this.S_=!0,[2]}}))}))},t.prototype.N_=function(t){var e;if(t instanceof bt)e=t.version;else{if(!(t instanceof wt))throw Ce();e=b.S()}var n=this.v_.get(t.key);if(null!==n){if(!e.isEqual(n))throw new f(d.ABORTED,"Document version changed between two reads.")}else this.v_=this.v_.nt(t.key,e)},t.prototype.Zt=function(t){var e=this.v_.get(t);return!this.C_.has(t)&&e?ut.updateTime(e):ut.NONE},t.prototype.k_=function(t){var e=this.v_.get(t);if(!this.C_.has(t)&&e){if(e.isEqual(b.S()))throw new f(d.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ut.updateTime(e)}return ut.exists(!0)},t.prototype.write=function(t){this.F_(),this.mutations=this.mutations.concat(t)},t.prototype.F_=function(){},t}(),rr=function(){function t(t,e){this.jr=t,this.M_=e,this.state="Unknown",this.L_=0,this.O_=null,this.x_=!0}return t.prototype.B_=function(){var t=this;0===this.L_&&(this.q_("Unknown"),this.O_=this.jr.Wr("online_state_timeout",1e4,(function(){return t.O_=null,t.U_("Backend didn't respond within 10 seconds."),t.q_("Offline"),Promise.resolve()})))},t.prototype.Q_=function(t){"Online"===this.state?this.q_("Unknown"):(this.L_++,this.L_>=1&&(this.W_(),this.U_("Connection failed 1 times. Most recent error: "+t.toString()),this.q_("Offline")))},t.prototype.set=function(t){this.W_(),this.L_=0,"Online"===t&&(this.x_=!1),this.q_(t)},t.prototype.q_=function(t){t!==this.state&&(this.state=t,this.M_(t))},t.prototype.U_=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.x_?(we(e),this.x_=!1):be("OnlineStateTracker",e)},t.prototype.W_=function(){null!==this.O_&&(this.O_.cancel(),this.O_=null)},t}(),or=function(){function t(t,e,n,i,o){var s=this;this.j_=t,this.b_=e,this.K_=[],this.G_=new Map,this.z_=null,this.networkEnabled=!1,this.isPrimary=!1,this.H_=o,this.H_.Y_((function(t){n.Zr((function(){return r.__awaiter(s,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.J_()?(be("RemoteStore","Restarting streams for network reachability change."),[4,this.X_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Z_=new rr(n,i),this.tl=this.b_.V_({__:this.el.bind(this),h_:this.sl.bind(this),d_:this.il.bind(this)}),this.nl=this.b_.P_({__:this.rl.bind(this),h_:this.hl.bind(this),A_:this.ol.bind(this),R_:this.R_.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.J_()?(t=this.nl,[4,this.j_.Fo()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.al()?this.ul():this.Z_.set("Unknown"),[4,this.cl()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this._l()];case 1:return t.sent(),this.Z_.set("Offline"),[2]}}))}))},t.prototype._l=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.nl.stop()];case 1:return t.sent(),[4,this.tl.stop()];case 2:return t.sent(),this.K_.length>0&&(be("RemoteStore","Stopping write stream with "+this.K_.length+" pending writes"),this.K_=[]),this.ll(),[2]}}))}))},t.prototype.mu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return be("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this._l()];case 1:return t.sent(),this.H_.mu(),this.Z_.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.G_.has(t.targetId)||(this.G_.set(t.targetId,t),this.al()?this.ul():this.tl.Xc()&&this.dl(t))},t.prototype.fl=function(t){this.G_.delete(t),this.tl.Xc()&&this.Tl(t),0===this.G_.size&&(this.tl.Xc()?this.tl.e_():this.J_()&&this.Z_.set("Unknown"))},t.prototype.ui=function(t){return this.G_.get(t)||null},t.prototype.ai=function(t){return this.El.ai(t)},t.prototype.dl=function(t){this.z_.Bs(t.targetId),this.tl.f_(t)},t.prototype.Tl=function(t){this.z_.Bs(t),this.tl.T_(t)},t.prototype.ul=function(){this.z_=new le(this),this.tl.start(),this.Z_.B_()},t.prototype.al=function(){return this.J_()&&!this.tl.Jc()&&this.G_.size>0},t.prototype.J_=function(){return this.isPrimary&&this.networkEnabled},t.prototype.ll=function(){this.z_=null},t.prototype.el=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){return this.G_.forEach((function(e,n){t.dl(e)})),[2]}))}))},t.prototype.sl=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.ll(),this.al()?(this.Z_.Q_(t),this.ul()):this.Z_.set("Unknown"),[2]}))}))},t.prototype.il=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(i){switch(i.label){case 0:return this.Z_.set("Online"),t instanceof ae&&2===t.state&&t.cause?[2,this.Il(t)]:(t instanceof oe?this.z_.zs(t):t instanceof se?this.z_.si(t):this.z_.Js(t),e.isEqual(b.MIN)?[3,4]:[4,this.j_.ea()]);case 1:return n=i.sent(),e.D(n)>=0?[4,this.wl(e)]:[3,3];case 2:i.sent(),i.label=3;case 3:i.label=4;case 4:return[2]}}))}))},t.prototype.wl=function(t){var e=this,n=this.z_.ri(t);return n.Ts.forEach((function(n,i){if(n.resumeToken.Ot()>0){var r=e.G_.get(i);r&&e.G_.set(i,r.ss(n.resumeToken,t))}})),n.Es.forEach((function(t){var n=e.G_.get(t);if(n){e.G_.set(t,n.ss(D.xt,n.ts)),e.Tl(t);var i=new Vt(n.target,t,1,n.sequenceNumber);e.dl(i)}})),this.El.tc(n)},t.prototype.Il=function(t){var e=this,n=t.cause,i=Promise.resolve();return t.targetIds.forEach((function(t){i=i.then((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.G_.has(t)?[2,(this.G_.delete(t),this.z_.removeTarget(t),this.El.Rl(t,n))]:[2]}))}))}))})),i},t.prototype.cl=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return this.Al()?[4,this.j_.nc(this.K_.length>0?this.K_[this.K_.length-1].batchId:-1)]:[3,5];case 1:return null!==(t=e.sent())?[3,2]:(0===this.K_.length&&this.nl.e_(),[3,4]);case 2:return this.ml(t),[4,this.cl()];case 3:e.sent(),e.label=4;case 4:e.label=5;case 5:return this.Pl()&&this.Vl(),[2]}}))}))},t.prototype.Al=function(){return this.J_()&&this.K_.length<10},t.prototype.gl=function(){return this.K_.length},t.prototype.ml=function(t){this.K_.push(t),this.nl.Xc()&&this.nl.I_&&this.nl.w_(t.mutations)},t.prototype.Pl=function(){return this.J_()&&!this.nl.Jc()&&this.K_.length>0},t.prototype.Vl=function(){this.nl.start()},t.prototype.rl=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.nl.m_(),[2]}))}))},t.prototype.ol=function(){var t=this;return this.j_.No(this.nl.lastStreamToken).then((function(){for(var e=0,n=t.K_;e<n.length;e++)t.nl.w_(n[e].mutations)})).catch(ai)},t.prototype.R_=function(t,e){var n=this,i=this.K_.shift(),r=Re.from(i,t,e,this.nl.lastStreamToken);return this.El.pl(r).then((function(){return n.cl()}))},t.prototype.hl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){return t&&this.K_.length>0?[2,(e=this.nl.I_?this.yl(t):this.bl(t),e.then((function(){n.Pl()&&n.Vl()})))]:[2]}))}))},t.prototype.bl=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return Bt(t.code)?[2,(be("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.nl.lastStreamToken),this.nl.lastStreamToken=D.xt,this.j_.No(D.xt).catch(ai))]:[2]}))}))},t.prototype.yl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){return Bt(n=t.code)&&n!==d.ABORTED?(e=this.K_.shift(),[2,(this.nl.t_(),this.El.vl(e.batchId,t).then((function(){return i.cl()})))]):[2]}))}))},t.prototype.Sl=function(){return new ir(this.b_)},t.prototype.X_=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this._l()];case 1:return t.sent(),this.Z_.set("Unknown"),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.Dl=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.J_()?(be("RemoteStore","RemoteStore restarting streams for new credential"),[4,this.X_()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Cl=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:[4,this._l()];case 3:e.sent(),this.Z_.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function sr(t,e){return"firestore_clients_"+t+"_"+e}function ar(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.t()&&(i+="_"+e.uid),i}function cr(t,e){return"firestore_targets_"+t+"_"+e}var lr=function(){function t(t,e,n,i){this.user=t,this.batchId=e,this.state=n,this.error=i}return t.Fl=function(e,n,i){var r=JSON.parse(i),o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new f(r.error.code,r.error.message)),o?new t(e,n,r.state,s):(we("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Nl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ur=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Fl=function(e,n){var i=JSON.parse(n),r="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return r&&i.error&&(r="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new f(i.error.code,i.error.message)),r?new t(e,i.state,o):(we("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Nl=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),hr=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Fl=function(e,n){for(var i=JSON.parse(n),r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Jt(),s=0;r&&s<i.activeTargetIds.length;++s)r=L(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new t(e,o):(we("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),dr=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Fl=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(we("SharedClientState","Failed to parse online state: "+e),null)},t}(),fr=function(){function t(){this.activeTargetIds=Jt()}return t.prototype.kl=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.$l=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Nl=function(){var t={activeTargetIds:this.activeTargetIds.j(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),pr=function(){function t(e,n,i,r,o){if(this.Nr=e,this.platform=n,this.persistenceKey=i,this.Ml=r,this.El=null,this.M_=null,this.vr=null,this.Ll=this.Ol.bind(this),this.xl=new O(Oe),this.Kh=!1,this.Bl=[],!t.ho(this.platform))throw new f(d.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.ql=sr(this.persistenceKey,this.Ml),this.Ul=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.xl=this.xl.nt(this.Ml,new fr),this.Ql=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Wl=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.jl=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Kl=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.Ll)}return t.ho=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,o,s,a,c,l,u,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.El.yu()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ml&&(o=this.getItem(sr(this.persistenceKey,i)))&&(s=hr.Fl(i,o))&&(this.xl=this.xl.nt(s.clientId,s));for(this.Gl(),(a=this.storage.getItem(this.Kl))&&(c=this.zl(a))&&this.Hl(c),l=0,u=this.Bl;l<u.length;l++)this.Ol(u[l]);return this.Bl=[],this.platform.window.addEventListener("unload",(function(){return h.mu()})),this.Kh=!0,[2]}}))}))},t.prototype.Cr=function(t){this.setItem(this.Ul,JSON.stringify(t))},t.prototype.Yl=function(){return this.Jl(this.xl)},t.prototype.Xl=function(t){var e=!1;return this.xl.forEach((function(n,i){i.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Zl=function(t){this.td(t,"pending")},t.prototype.ed=function(t,e,n){this.td(t,e,n),this.sd(t)},t.prototype.nd=function(t){var e="not-current";if(this.Xl(t)){var n=this.storage.getItem(cr(this.persistenceKey,t));if(n){var i=ur.Fl(t,n);i&&(e=i.state)}}return this.rd.kl(t),this.Gl(),e},t.prototype.hd=function(t){this.rd.$l(t),this.Gl()},t.prototype.od=function(t){return this.rd.activeTargetIds.has(t)},t.prototype.ad=function(t){this.removeItem(cr(this.persistenceKey,t))},t.prototype.ud=function(t,e,n){this._d(t,e,n)},t.prototype.Gu=function(t,e,n){var i=this;e.forEach((function(t){i.sd(t)})),this.currentUser=t,n.forEach((function(t){i.Zl(t)}))},t.prototype.ld=function(t){this.dd(t)},t.prototype.mu=function(){this.Kh&&(this.platform.window.removeEventListener("storage",this.Ll),this.removeItem(this.ql),this.Kh=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return be("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){be("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){be("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ol=function(t){var e=this;if(t.storageArea===this.storage){if(be("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ql)return void we("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Nr.Ih((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n,i,o,s,a;return r.__generator(this,(function(r){if(this.Kh){if(null!==t.key)if(this.Ql.test(t.key)){if(null==t.newValue)return e=this.fd(t.key),[2,this.Td(e,null)];if(n=this.Ed(t.key,t.newValue))return[2,this.Td(n.clientId,n)]}else if(this.Wl.test(t.key)){if(null!==t.newValue&&(i=this.Id(t.key,t.newValue)))return[2,this.wd(i)]}else if(this.jl.test(t.key)){if(null!==t.newValue&&(o=this.Rd(t.key,t.newValue)))return[2,this.Ad(o)]}else if(t.key===this.Kl){if(null!==t.newValue&&(s=this.zl(t.newValue)))return[2,this.Hl(s)]}else t.key===this.Ul&&(a=function(t){var e=ze.Fr;if(null!=t)try{var n=JSON.parse(t);xe("number"==typeof n),e=n}catch(t){we("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(t.newValue))!==ze.Fr&&this.vr(a)}else this.Bl.push(t);return[2]}))}))}))}},Object.defineProperty(t.prototype,"rd",{get:function(){return this.xl.get(this.Ml)},enumerable:!0,configurable:!0}),t.prototype.Gl=function(){this.setItem(this.ql,this.rd.Nl())},t.prototype.td=function(t,e,n){var i=new lr(this.currentUser,t,e,n),r=ar(this.persistenceKey,this.currentUser,t);this.setItem(r,i.Nl())},t.prototype.sd=function(t){var e=ar(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.dd=function(t){this.storage.setItem(this.Kl,JSON.stringify({clientId:this.Ml,onlineState:t}))},t.prototype._d=function(t,e,n){var i=cr(this.persistenceKey,t),r=new ur(t,e,n);this.setItem(i,r.Nl())},t.prototype.fd=function(t){var e=this.Ql.exec(t);return e?e[1]:null},t.prototype.Ed=function(t,e){var n=this.fd(t);return hr.Fl(n,e)},t.prototype.Id=function(t,e){var n=this.Wl.exec(t),i=Number(n[1]);return lr.Fl(new h(void 0!==n[2]?n[2]:null),i,e)},t.prototype.Rd=function(t,e){var n=this.jl.exec(t),i=Number(n[1]);return ur.Fl(i,e)},t.prototype.zl=function(t){return dr.Fl(t)},t.prototype.wd=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.El.md(t.batchId,t.state,t.error)]:(be("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Ad=function(t){return this.El.Pd(t.targetId,t.state,t.error)},t.prototype.Td=function(t,e){var n=this,i=e?this.xl.nt(t,e):this.xl.remove(t),r=this.Jl(this.xl),o=this.Jl(i),s=[],a=[];return o.forEach((function(t){r.has(t)||s.push(t)})),r.forEach((function(t){o.has(t)||a.push(t)})),this.El.Vd(s,a).then((function(){n.xl=i}))},t.prototype.Hl=function(t){this.xl.get(t.clientId)&&this.M_(t.onlineState)},t.prototype.Jl=function(t){var e=Jt();return t.forEach((function(t,n){e=e.kt(n.activeTargetIds)})),e},t}(),mr=function(){function t(){this.gd=new fr,this.pd={},this.El=null,this.M_=null,this.vr=null}return t.prototype.Zl=function(t){},t.prototype.ed=function(t,e,n){},t.prototype.nd=function(t){return this.gd.kl(t),this.pd[t]||"not-current"},t.prototype.ud=function(t,e,n){this.pd[t]=e},t.prototype.hd=function(t){this.gd.$l(t)},t.prototype.od=function(t){return this.gd.activeTargetIds.has(t)},t.prototype.ad=function(t){delete this.pd[t]},t.prototype.Yl=function(){return this.gd.activeTargetIds},t.prototype.Xl=function(t){return this.gd.activeTargetIds.has(t)},t.prototype.start=function(){return this.gd=new fr,Promise.resolve()},t.prototype.Gu=function(t,e,n){},t.prototype.ld=function(t){},t.prototype.mu=function(){},t.prototype.Cr=function(t){},t}(),gr=function(t){this.key=t},yr=function(t){this.key=t},vr=function(){function t(t,e){this.query=t,this.yd=e,this.bd=null,this.ms=!1,this.vd=Xt(),this._s=Xt(),this.Sd=new te(t.Be.bind(t))}return Object.defineProperty(t.prototype,"Dd",{get:function(){return this.yd},enumerable:!0,configurable:!0}),t.prototype.Cd=function(t,e){var n=this,i=e?e.Fd:new ee,r=e?e.Sd:this.Sd,o=e?e._s:this._s,s=r,a=!1,c=this.query.je()&&r.size===this.query.limit?r.last():null,l=this.query.Ke()&&r.size===this.query.limit?r.first():null;if(t.ut((function(t,e){var u=r.get(t),h=e instanceof bt?e:null;h&&(h=n.query.matches(h)?h:null);var d=!!u&&n._s.has(u.key),f=!!h&&(h.te||n._s.has(h.key)&&h.hasCommittedMutations),p=!1;u&&h?u.data().isEqual(h.data())?d!==f&&(i.track({type:3,doc:h}),p=!0):n.Nd(u,h)||(i.track({type:2,doc:h}),p=!0,(c&&n.query.Be(h,c)>0||l&&n.query.Be(h,l)<0)&&(a=!0)):!u&&h?(i.track({type:0,doc:h}),p=!0):u&&!h&&(i.track({type:1,doc:u}),p=!0,(c||l)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.je()||this.query.Ke())for(;s.size>this.query.limit;){var u=this.query.je()?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{Sd:s,Fd:i,kd:a,_s:o}},t.prototype.Nd=function(t,e){return t.te&&e.hasCommittedMutations&&!e.te},t.prototype.ir=function(t,e,n){var i=this,r=this.Sd;this.Sd=t.Sd,this._s=t._s;var o=t.Fd.us();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return n(t)-n(e)}(t.type,e.type)||i.query.Be(t.doc,e.doc)})),this.$d(n);var s=e?this.Md():[],a=0===this.vd.size&&this.ms?1:0,c=a!==this.bd;return this.bd=a,0!==o.length||c?{snapshot:new ne(this.query,t.Sd,r,o,t._s,0===a,c,!1),Ld:s}:{Ld:s}},t.prototype.Od=function(t){return this.ms&&"Offline"===t?(this.ms=!1,this.ir({Sd:this.Sd,Fd:new ee,_s:this._s,kd:!1},!1)):{Ld:[]}},t.prototype.xd=function(t){return!this.yd.has(t)&&!!this.Sd.has(t)&&!this.Sd.get(t).te},t.prototype.$d=function(t){var e=this;t&&(t.Ps.forEach((function(t){return e.yd=e.yd.add(t)})),t.Vs.forEach((function(t){})),t.gs.forEach((function(t){return e.yd=e.yd.delete(t)})),this.ms=t.ms)},t.prototype.Md=function(){var t=this;if(!this.ms)return[];var e=this.vd;this.vd=Xt(),this.Sd.forEach((function(e){t.xd(e.key)&&(t.vd=t.vd.add(e.key))}));var n=[];return e.forEach((function(e){t.vd.has(e)||n.push(new yr(e))})),this.vd.forEach((function(t){e.has(t)||n.push(new gr(t))})),n},t.prototype.Bd=function(t){this.yd=t.uc,this.vd=Xt();var e=this.Cd(t.documents);return this.ir(e,!0)},t.prototype.qd=function(){return ne.fs(this.query,this.Sd,this._s,0===this.bd)},t}(),_r=function(){function t(t,e,n,i){this.jr=t,this.Ud=e,this.updateFunction=n,this.zr=i,this.Qd=5,this.oh=new We(this.jr,"transaction_retry")}return t.prototype.Wd=function(){this.jd()},t.prototype.jd=function(){var t=this;this.oh.Ur((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(i){return t=this.Ud.Sl(),(e=this.Kd(t))&&e.then((function(e){n.jr.Zr((function(){return t.commit().then((function(){n.zr.resolve(e)})).catch((function(t){n.Gd(t)}))}))})).catch((function(t){n.Gd(t)})),[2]}))}))}))},t.prototype.Kd=function(t){try{var e=this.updateFunction(t);return!M(e)&&e.catch&&e.then?e:(this.zr.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.zr.reject(t),null}},t.prototype.Gd=function(t){var e=this;this.Qd>0&&this.zd(t)?(this.Qd-=1,this.jr.Zr((function(){return e.jd(),Promise.resolve()}))):this.zr.reject(t)},t.prototype.zd=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Bt(e)}return!1},t}(),br=function(t,e,n){this.query=t,this.targetId=e,this.view=n},wr=function(t){this.key=t,this.Hd=!1},Er=function(){function t(t,e,n,i,r){this.j_=t,this.Ud=e,this.Yd=n,this.currentUser=i,this.Jd=r,this.Xd=null,this.Zd=new Ne((function(t){return t.canonicalId()})),this.tf=new Map,this.ef=[],this.sf=new O(S.k),this.if=new Map,this.nf=new De,this.rf={},this.hf=new Map,this.af=vn.Jo(),this.onlineState="Unknown"}return Object.defineProperty(t.prototype,"uf",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){this.Xd=t},t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s;return r.__generator(this,(function(r){switch(r.label){case 0:return this.cf("listen()"),(i=this.Zd.get(t))?(this.Yd.nd(e=i.targetId),n=i.view.qd(),[3,4]):[3,1];case 1:return[4,this.j_.hc(t.xe())];case 2:return o=r.sent(),s=this.Yd.nd(o.targetId),[4,this._f(t,e=o.targetId,"current"===s)];case 3:n=r.sent(),this.uf&&this.Ud.listen(o),r.label=4;case 4:return[2,(this.Xd.d_([n]),e)]}}))}))},t.prototype._f=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o,s,a,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.j_.ac(t,!0)];case 1:return i=r.sent(),o=new vr(t,i.uc),s=o.Cd(i.documents),a=re.As(e,n&&"Offline"!==this.onlineState),c=o.ir(s,this.uf,a),this.lf(e,c.Ld),l=new br(t,e,o),[2,(this.Zd.set(t,l),this.tf.has(e)?this.tf.get(e).push(t):this.tf.set(e,[t]),c.snapshot)]}}))}))},t.prototype.fl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.cf("unlisten()"),e=this.Zd.get(t),(n=this.tf.get(e.targetId)).length>1?[2,(this.tf.set(e.targetId,n.filter((function(e){return!e.isEqual(t)}))),void this.Zd.delete(t))]:this.uf?(this.Yd.hd(e.targetId),this.Yd.Xl(e.targetId)?[3,2]:[4,this.j_.oc(e.targetId,!1).then((function(){i.Yd.ad(e.targetId),i.Ud.fl(e.targetId),i.df(e.targetId)})).catch(ai)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.df(e.targetId),[4,this.j_.oc(e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i;return r.__generator(this,(function(r){switch(r.label){case 0:this.cf("write()"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.j_.Ju(t)];case 2:return n=r.sent(),[3,4];case 3:if("IndexedDbTransactionError"===(i=r.sent()).name)return[2,(we("SyncEngine","Dropping write that cannot be persisted: "+i),void e.reject(new f(d.UNAVAILABLE,"Failed to persist write: "+i)))];throw i;case 4:return this.Yd.Zl(n.batchId),this.ff(n.batchId,e),[4,this.Tf(n.zn)];case 5:return r.sent(),[4,this.Ud.cl()];case 6:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new _r(t,this.Ud,e,n).Wd()},t.prototype.tc=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:this.cf("applyRemoteEvent()"),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.j_.tc(t)];case 2:return e=i.sent(),t.Ts.forEach((function(t,e){var i=n.if.get(e);i&&(xe(t.Ps.size+t.Vs.size+t.gs.size<=1),t.Ps.size>0?i.Hd=!0:t.Vs.size>0?xe(i.Hd):t.gs.size>0&&(xe(i.Hd),i.Hd=!1))})),[4,this.Tf(e,t)];case 3:return i.sent(),[3,6];case 4:return[4,ai(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Od=function(t,e){this.cf("applyOnlineStateChange()");var n=[];this.Zd.forEach((function(e,i){var r=i.view.Od(t);r.snapshot&&n.push(r.snapshot)})),this.Xd.Ef(t),this.Xd.d_(n),this.onlineState=t},t.prototype.Rl=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,c=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.cf("rejectListens()"),this.Yd.ud(t,"rejected",e),n=this.if.get(t),(i=n&&n.key)?(this.sf=this.sf.remove(i),this.if.delete(t),this.If(),o=(o=new O(S.k)).nt(i,new wt(i,b.S())),s=Xt().add(i),a=new ie(b.MIN,new Map,new I(Oe),o,s),[2,this.tc(a)]):[4,this.j_.oc(t,!1).then((function(){return c.df(t,e)})).catch(ai)];case 1:return r.sent(),[2]}}))}))},t.prototype.pl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(i){switch(i.label){case 0:this.cf("applySuccessfulWrite()"),this.wf(e=t.batch.batchId,null),this.Rf(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.j_.Do(t)];case 2:return n=i.sent(),this.Yd.ed(e,"acknowledged"),[4,this.Tf(n)];case 3:return i.sent(),[3,6];case 4:return[4,ai(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.vl=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(i){switch(i.label){case 0:this.cf("rejectFailedWrite()"),this.wf(t,e),this.Rf(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this.j_.Zu(t)];case 2:return n=i.sent(),this.Yd.ed(t,"rejected",e),[4,this.Tf(n)];case 3:return i.sent(),[3,6];case 4:return[4,ai(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Af=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(i){switch(i.label){case 0:return this.Ud.J_()||be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.j_.qo()];case 1:return-1===(e=i.sent())?[2,void t.resolve()]:((n=this.hf.get(e)||[]).push(t),this.hf.set(e,n),[2])}}))}))},t.prototype.Rf=function(t){(this.hf.get(t)||[]).forEach((function(t){t.resolve()})),this.hf.delete(t)},t.prototype.mf=function(t){this.hf.forEach((function(e){e.forEach((function(e){e.reject(new f(d.CANCELLED,t))}))})),this.hf.clear()},t.prototype.ff=function(t,e){var n=this.rf[this.currentUser.s()];n||(n=new O(Oe)),n=n.nt(t,e),this.rf[this.currentUser.s()]=n},t.prototype.wf=function(t,e){var n=this.rf[this.currentUser.s()];if(n){var i=n.get(t);i&&(e?i.reject(e):i.resolve(),n=n.remove(t)),this.rf[this.currentUser.s()]=n}},t.prototype.df=function(t,e){var n=this;void 0===e&&(e=null),this.Yd.hd(t);for(var i=0,r=this.tf.get(t);i<r.length;i++){var o=r[i];this.Zd.delete(o),e&&this.Xd.Pf(o,e)}if(this.tf.delete(t),this.uf){var s=this.nf.$n(t);this.nf.Nn(t),s.forEach((function(t){n.nf.Mn(t)||n.Vf(t)}))}},t.prototype.Vf=function(t){var e=this.sf.get(t);null!==e&&(this.Ud.fl(e),this.sf=this.sf.remove(t),this.if.delete(e),this.If())},t.prototype.lf=function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];r instanceof gr?(this.nf.vn(r.key,t),this.gf(r)):r instanceof yr?(be("SyncEngine","Document no longer in limbo: "+r.key),this.nf.Dn(r.key,t),this.nf.Mn(r.key)||this.Vf(r.key)):Ce()}},t.prototype.gf=function(t){var e=t.key;this.sf.get(e)||(be("SyncEngine","New document in limbo: "+e),this.ef.push(e),this.If())},t.prototype.If=function(){for(;this.ef.length>0&&this.sf.size<this.Jd;){var t=this.ef.shift(),e=this.af.next();this.if.set(e,new wr(t)),this.sf=this.sf.nt(t,e),this.Ud.listen(new Vt(xt.ve(t.path).xe(),e,2,ze.Fr))}},t.prototype.pf=function(){return this.sf},t.prototype.yf=function(){return this.ef},t.prototype.Tf=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return n=[],i=[],o=[],this.Zd.forEach((function(r,a){o.push(Promise.resolve().then((function(){var e=a.view.Cd(t);return e.kd?s.j_.ac(a.query,!1).then((function(t){return a.view.Cd(t.documents,e)})):e})).then((function(t){var r=e&&e.Ts.get(a.targetId),o=a.view.ir(t,s.uf,r);if(s.lf(a.targetId,o.Ld),o.snapshot){s.uf&&s.Yd.ud(a.targetId,o.snapshot.fromCache?"not-current":"current"),n.push(o.snapshot);var c=Be.br(a.targetId,o.snapshot);i.push(c)}})))})),[4,Promise.all(o)];case 1:return r.sent(),this.Xd.d_(n),[4,this.j_.ic(i)];case 2:return r.sent(),[2]}}))}))},t.prototype.cf=function(t){},t.prototype.Dl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(i){switch(i.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.mf("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.j_.Gu(t)]):[3,3];case 1:return n=i.sent(),this.Yd.Gu(t,n.Hu,n.Yu),[4,this.Tf(n.zu)];case 2:i.sent(),i.label=3;case 3:return[4,this.Ud.Dl()];case 4:return i.sent(),[2]}}))}))},t.prototype.enableNetwork=function(){return this.Ud.enableNetwork()},t.prototype.disableNetwork=function(){return this.Ud.disableNetwork()},t.prototype.ai=function(t){var e=this.if.get(t);if(e&&e.Hd)return Xt().add(e.key);var n=Xt(),i=this.tf.get(t);if(!i)return n;for(var r=0,o=i;r<o.length;r++){var s=this.Zd.get(o[r]);n=n.kt(s.view.Dd)}return n},t}(),Cr=function(t){function e(e,n,i,r,o){var s=this;return(s=t.call(this,e,n,i,r,o)||this).j_=e,s.isPrimary=void 0,s}return r.__extends(e,t),Object.defineProperty(e.prototype,"uf",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.enableNetwork=function(){return this.j_.uu(!0),t.prototype.enableNetwork.call(this)},e.prototype.disableNetwork=function(){return this.j_.uu(!1),t.prototype.disableNetwork.call(this)},e.prototype.bf=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(i){switch(i.label){case 0:return[4,this.j_.ac(t.query,!0)];case 1:return e=i.sent(),n=t.view.Bd(e),[2,(this.isPrimary&&this.lf(t.targetId,n.Ld),n)]}}))}))},e.prototype.Od=function(e,n){this.uf&&0===n&&(t.prototype.Od.call(this,e,n),this.Yd.ld(e)),this.uf||1!==n||t.prototype.Od.call(this,e,n)},e.prototype.md=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i;return r.__generator(this,(function(r){switch(r.label){case 0:return this.cf("applyBatchState()"),[4,this.j_.lc(t)];case 1:return null===(i=r.sent())?[3,6]:"pending"!==e?[3,3]:[4,this.Ud.cl()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.wf(t,n||null),this.j_.dc(t)):Ce(),r.label=4;case 4:return[4,this.Tf(i)];case 5:return r.sent(),[3,7];case 6:be("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))},e.prototype.Cl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,c=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.Ud.Cl(!0)]);case 1:return r.sent(),e=this.Yd.Yl(),[4,this.vf(e.j())];case 2:for(n=r.sent(),i=0,o=n;i<o.length;i++)this.Ud.listen(o[i]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],a=Promise.resolve(),this.tf.forEach((function(t,e){c.Yd.od(e)?s.push(e):a=a.then((function(){return c.df(e),c.j_.oc(e,!0)})),c.Ud.fl(e)})),[4,a]);case 4:return r.sent(),[4,this.vf(s)];case 5:return r.sent(),this.Sf(),[4,this.Ud.Cl(!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))},e.prototype.Sf=function(){var t=this;this.if.forEach((function(e,n){t.Ud.fl(n)})),this.nf.kn(),this.if=new Map,this.sf=new O(S.k)},e.prototype.vf=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o,s,a,c,l,u,h,d,f;return r.__generator(this,(function(r){switch(r.label){case 0:e=[],n=[],i=0,o=t,r.label=1;case 1:return i<o.length?(a=void 0,(c=this.tf.get(s=o[i]))&&0!==c.length?[4,this.j_.oc(s,!0)]:[3,8]):[3,14];case 2:return r.sent(),[4,this.j_.hc(c[0].xe())];case 3:a=r.sent(),l=0,u=c,r.label=4;case 4:return l<u.length?(h=this.Zd.get(u[l]),[4,this.bf(h)]):[3,7];case 5:(d=r.sent()).snapshot&&n.push(d.snapshot),r.label=6;case 6:return l++,[3,4];case 7:return[3,12];case 8:return[4,this.j_.fc(s)];case 9:return f=r.sent(),[4,this.j_.hc(f)];case 10:return a=r.sent(),[4,this._f(this.Df(f),s,!1)];case 11:r.sent(),r.label=12;case 12:e.push(a),r.label=13;case 13:return i++,[3,1];case 14:return[2,(this.Xd.d_(n),e)]}}))}))},e.prototype.Df=function(t){return new xt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)},e.prototype.yu=function(){return this.j_.yu()},e.prototype.Pd=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,o;return r.__generator(this,(function(r){switch(r.label){case 0:return this.isPrimary?(be("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!this.tf.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,this.j_.ba()];case 3:return i=r.sent(),o=ie.Rs(t,"current"===e),[4,this.Tf(i,o)];case 4:return r.sent(),[3,8];case 5:return[4,this.j_.oc(t,!0)];case 6:return r.sent(),this.df(t,n),[3,8];case 7:Ce(),r.label=8;case 8:return[2]}}))}))},e.prototype.Vd=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,o,s,a,c,l,u,h,d=this;return r.__generator(this,(function(f){switch(f.label){case 0:if(!this.isPrimary)return[3,10];n=0,i=t,f.label=1;case 1:return n<i.length?this.tf.has(o=i[n])?(be("SyncEngine","Adding an already active target "+o),[3,5]):[4,this.j_.fc(o)]:[3,6];case 2:return s=f.sent(),[4,this.j_.hc(s)];case 3:return a=f.sent(),[4,this._f(this.Df(s),a.targetId,!1)];case 4:f.sent(),this.Ud.listen(a),f.label=5;case 5:return n++,[3,1];case 6:c=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return l.tf.has(t)?[4,l.j_.oc(t,!1).then((function(){d.Ud.fl(t),d.df(t)})).catch(ai)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=this,u=0,h=e,f.label=7;case 7:return u<h.length?[5,c(h[u])]:[3,10];case 8:f.sent(),f.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},e}(Er),xr=function(){this.Cf=null,this.targetId=0,this.Ff=[]},Sr=function(){function t(t){this.El=t,this.Nf=new Ne((function(t){return t.canonicalId()})),this.onlineState="Unknown",this.kf=new Set,this.El.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,i=this.Nf.get(e);return i||(n=!0,i=new xr,this.Nf.set(e,i)),i.Ff.push(t),t.Od(this.onlineState),i.Cf&&t.$f(i.Cf)&&this.Mf(),n?this.El.listen(e).then((function(t){return i.targetId=t,t})):Promise.resolve(i.targetId)},t.prototype.fl=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,o;return r.__generator(this,(function(r){return n=!1,(i=this.Nf.get(e=t.query))&&(o=i.Ff.indexOf(t))>=0&&(i.Ff.splice(o,1),n=0===i.Ff.length),n?[2,(this.Nf.delete(e),this.El.fl(e))]:[2]}))}))},t.prototype.d_=function(t){for(var e=!1,n=0,i=t;n<i.length;n++){var r=i[n],o=this.Nf.get(r.query);if(o){for(var s=0,a=o.Ff;s<a.length;s++)a[s].$f(r)&&(e=!0);o.Cf=r}}e&&this.Mf()},t.prototype.Pf=function(t,e){var n=this.Nf.get(t);if(n)for(var i=0,r=n.Ff;i<r.length;i++)r[i].onError(e);this.Nf.delete(t)},t.prototype.Ef=function(t){this.onlineState=t;var e=!1;this.Nf.forEach((function(n,i){for(var r=0,o=i.Ff;r<o.length;r++)o[r].Od(t)&&(e=!0)})),e&&this.Mf()},t.prototype.Lf=function(t){this.kf.add(t),t.next()},t.prototype.Of=function(t){this.kf.delete(t)},t.prototype.Mf=function(){this.kf.forEach((function(t){t.next()}))},t}(),Or=function(){function t(t,e,n){this.query=t,this.xf=e,this.Bf=!1,this.qf=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.$f=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];3!==r.type&&e.push(r)}t=new ne(t.query,t.docs,t.cs,e,t._s,t.fromCache,t.ls,!0)}var o=!1;return this.Bf?this.Uf(t)&&(this.xf.next(t),o=!0):this.Qf(t,this.onlineState)&&(this.Wf(t),o=!0),this.qf=t,o},t.prototype.onError=function(t){this.xf.error(t)},t.prototype.Od=function(t){this.onlineState=t;var e=!1;return this.qf&&!this.Bf&&this.Qf(this.qf,t)&&(this.Wf(this.qf),e=!0),e},t.prototype.Qf=function(t,e){return!t.fromCache||!(this.options.jf&&"Offline"!==e||t.docs.q()&&"Offline"!==e)},t.prototype.Uf=function(t){return t.docChanges.length>0||!!(t.ls||this.qf&&this.qf.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.Wf=function(t){t=ne.fs(t.query,t.docs,t._s,t.fromCache),this.Bf=!0,this.xf.next(t)},t}(),Tr=function(){function t(){}return t.prototype.Ku=function(t){this.Kf=t},t.prototype.wr=function(t,e,n,i){var r=this;return e.Oe()||n.isEqual(b.MIN)?this.Gf(t,e):this.Kf.Tr(t,i).next((function(o){var a=r.zf(e,o);return(e.je()||e.Ke())&&r.kd(e.ge,a,i,n)?r.Gf(t,e):(ve()<=s.LogLevel.DEBUG&&be("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),r.Kf.wr(t,e,n).next((function(t){return a.forEach((function(e){t=t.nt(e.key,e)})),t})))}))},t.prototype.zf=function(t,e){var n=new I((function(e,n){return t.Be(e,n)}));return e.forEach((function(e,i){i instanceof bt&&t.matches(i)&&(n=n.add(i))})),n},t.prototype.kd=function(t,e,n,i){if(n.size!==e.size)return!0;var r="F"===t?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.D(i)>0)},t.prototype.Gf=function(t,e){return ve()<=s.LogLevel.DEBUG&&be("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.Kf.wr(t,e,b.MIN)},t}(),kr=function(){function t(t,e){this.ur=t,this.yo=e,this.ar=[],this.Hf=1,this.lastStreamToken=D.xt,this.Yf=new I(Me.Ie)}return t.prototype.So=function(t){return je.resolve(0===this.ar.length)},t.prototype.Do=function(t,e,n){return xe(0===this.Jf(e.batchId,"acknowledged")),this.lastStreamToken=n,je.resolve()},t.prototype.Fo=function(t){return je.resolve(this.lastStreamToken)},t.prototype.No=function(t,e){return this.lastStreamToken=e,je.resolve()},t.prototype.ko=function(t,e,n,i){var r=this.Hf;this.Hf++;var o=new Pe(r,e,n,i);this.ar.push(o);for(var s=0,a=i;s<a.length;s++){var c=a[s];this.Yf=this.Yf.add(new Me(c.key,r)),this.ur.Mo(t,c.key.path.L())}return je.resolve(o)},t.prototype.Lo=function(t,e){return je.resolve(this.Xf(e))},t.prototype.Bo=function(t,e){var n=this.Zf(e+1),i=n<0?0:n;return je.resolve(this.ar.length>i?this.ar[i]:null)},t.prototype.qo=function(){return je.resolve(0===this.ar.length?-1:this.Hf-1)},t.prototype.Uo=function(t){return je.resolve(this.ar.slice())},t.prototype._r=function(t,e){var n=this,i=new Me(e,0),r=new Me(e,Number.POSITIVE_INFINITY),o=[];return this.Yf.Ct([i,r],(function(t){var e=n.Xf(t.Ln);o.push(e)})),je.resolve(o)},t.prototype.Ir=function(t,e){var n=this,i=new I(Oe);return e.forEach((function(t){var e=new Me(t,0),r=new Me(t,Number.POSITIVE_INFINITY);n.Yf.Ct([e,r],(function(t){i=i.add(t.Ln)}))})),je.resolve(this.tT(i))},t.prototype.Vr=function(t,e){var n=e.path,i=n.length+1,r=n;S.st(r)||(r=r.child(""));var o=new Me(new S(r),0),s=new I(Oe);return this.Yf.Ft((function(t){var e=t.key.path;return!!n.U(e)&&(e.length===i&&(s=s.add(t.Ln)),!0)}),o),je.resolve(this.tT(s))},t.prototype.tT=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.Xf(t);null!==i&&n.push(i)})),n},t.prototype.Wo=function(t,e){var n=this;xe(0===this.Jf(e.batchId,"removed")),this.ar.shift();var i=this.Yf;return je.forEach(e.mutations,(function(r){var o=new Me(r.key,e.batchId);return i=i.delete(o),n.yo.Go(t,r.key)})).next((function(){n.Yf=i}))},t.prototype.Ko=function(t){},t.prototype.Mn=function(t,e){var n=new Me(e,0),i=this.Yf.Nt(n);return je.resolve(e.isEqual(i&&i.key))},t.prototype.zo=function(t){return je.resolve()},t.prototype.Jf=function(t,e){return this.Zf(t)},t.prototype.Zf=function(t){return 0===this.ar.length?0:t-this.ar[0].batchId},t.prototype.Xf=function(t){var e=this.Zf(t);return e<0||e>=this.ar.length?null:this.ar[e]},t}(),Ir=function(){function t(t,e){this.ur=t,this.eT=e,this.docs=new O(S.k),this.size=0}return t.prototype.Jn=function(t,e,n){var i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.eT(e);return this.docs=this.docs.nt(i,{Aa:e,size:s,readTime:n}),this.size+=s-o,this.ur.Mo(t,i.path.L())},t.prototype.Zn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.tr=function(t,e){var n=this.docs.get(e);return je.resolve(n?n.Aa:null)},t.prototype.getEntries=function(t,e){var n=this,i=Ht();return e.forEach((function(t){var e=n.docs.get(t);i=i.nt(t,e?e.Aa:null)})),je.resolve(i)},t.prototype.wr=function(t,e,n){for(var i=Qt(),r=new S(e.path.child("")),o=this.docs.lt(r);o.wt();){var s=o.It(),a=s.value,c=a.Aa,l=a.readTime;if(!e.path.U(s.key.path))break;l.D(n)<=0||c instanceof bt&&e.matches(c)&&(i=i.nt(c.key,c))}return je.resolve(i)},t.prototype.sT=function(t,e){return je.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Ca=function(e){return new t.Fa(this)},t.prototype.ka=function(t){return je.resolve(this.size)},t}();Ir.Fa=function(t){function e(e){var n=this;return(n=t.call(this)||this).$a=e,n}return r.__extends(e,t),e.prototype.ir=function(t){var e=this,n=[];return this.zn.forEach((function(i,r){r?n.push(e.$a.Jn(t,r,e.readTime)):e.$a.Zn(i)})),je.Kn(n)},e.prototype.er=function(t,e){return this.$a.tr(t,e)},e.prototype.sr=function(t,e){return this.$a.getEntries(t,e)},e}(Le);var Ar=function(){function t(t){this.persistence=t,this.iT=new Ne((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=b.MIN,this.highestTargetId=0,this.nT=0,this.rT=new De,this.targetCount=0,this.hT=vn.Yo()}return t.prototype.Xs=function(t,e){return this.iT.forEach((function(t,n){return e(n)})),je.resolve()},t.prototype.ea=function(t){return je.resolve(this.lastRemoteSnapshotVersion)},t.prototype.sa=function(t){return je.resolve(this.nT)},t.prototype.Xo=function(t){return this.highestTargetId=this.hT.next(),je.resolve(this.highestTargetId)},t.prototype.ia=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.nT&&(this.nT=e),je.resolve()},t.prototype.ra=function(t){this.iT.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.hT=new vn(e),this.highestTargetId=e),t.sequenceNumber>this.nT&&(this.nT=t.sequenceNumber)},t.prototype.na=function(t,e){return this.ra(e),this.targetCount+=1,je.resolve()},t.prototype.oa=function(t,e){return this.ra(e),je.resolve()},t.prototype.aa=function(t,e){return this.iT.delete(e.target),this.rT.Nn(e.targetId),this.targetCount-=1,je.resolve()},t.prototype.Zh=function(t,e,n){var i=this,r=0,o=[];return this.iT.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i.iT.delete(s),o.push(i.ua(t,a.targetId)),r++)})),je.Kn(o).next((function(){return r}))},t.prototype.la=function(t){return je.resolve(this.targetCount)},t.prototype.da=function(t,e){var n=this.iT.get(e)||null;return je.resolve(n)},t.prototype.fa=function(t,e,n){this.rT.Sn(e,n);var i=this.persistence.yo,r=[];return i&&e.forEach((function(e){r.push(i.vn(t,e))})),je.Kn(r)},t.prototype.Ta=function(t,e,n){this.rT.Fn(e,n);var i=this.persistence.yo,r=[];return i&&e.forEach((function(e){r.push(i.Dn(t,e))})),je.Kn(r)},t.prototype.ua=function(t,e){return this.rT.Nn(e),je.resolve()},t.prototype.Ea=function(t,e){var n=this.rT.$n(e);return je.resolve(n)},t.prototype.Mn=function(t,e){return je.resolve(this.rT.Mn(e))},t}(),Nr=function(){function t(t){var e=this;this.oT={},this.hu=new ze(0),this.ja=!1,this.ja=!0,this.yo=t(this),this.Za=new Ar(this),this.ur=new In,this.or=new Ir(this.ur,(function(t){return e.yo.aT(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.mu=function(){return this.ja=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Kh",{get:function(){return this.ja},enumerable:!0,configurable:!0}),t.prototype.au=function(){},t.prototype.Du=function(){return this.ur},t.prototype.bu=function(t){var e=this.oT[t.s()];return e||(e=new kr(this.ur,this.yo),this.oT[t.s()]=e),e},t.prototype.vu=function(){return this.Za},t.prototype.Su=function(){return this.or},t.prototype.runTransaction=function(t,e,n){var i=this;be("MemoryPersistence","Starting transaction:",t);var r=new Pr(this.hu.next());return this.yo.uT(),n(r).next((function(t){return i.yo.cT(r).next((function(){return t}))})).Wn().then((function(t){return r.hr(),t}))},t.prototype._T=function(t,e){return je.Gn(Object.values(this.oT).map((function(n){return function(){return n.Mn(t,e)}})))},t}(),Pr=function(t){function e(e){var n=this;return(n=t.call(this)||this).Qa=e,n}return r.__extends(e,t),e}(Ve),Rr=function(){function t(t){this.persistence=t,this.Nu=null,this.lT=null}return t.dT=function(e){return new t(e)},Object.defineProperty(t.prototype,"fT",{get:function(){if(this.lT)return this.lT;throw Ce()},enumerable:!0,configurable:!0}),t.prototype.Mu=function(t){this.Nu=t},t.prototype.vn=function(t,e){return this.fT.delete(e),je.resolve()},t.prototype.Dn=function(t,e){return this.fT.add(e),je.resolve()},t.prototype.Go=function(t,e){return this.fT.add(e),je.resolve()},t.prototype.removeTarget=function(t,e){var n=this,i=this.persistence.vu();return i.Ea(t,e.targetId).next((function(t){t.forEach((function(t){return n.fT.add(t)}))})).next((function(){return i.aa(t,e)}))},t.prototype.uT=function(){this.lT=new Set},t.prototype.cT=function(t){var e=this,n=this.persistence.Su().Ca();return je.forEach(this.fT,(function(i){return e.TT(t,i).next((function(t){t||n.Zn(i)}))})).next((function(){return e.lT=null,n.apply(t)}))},t.prototype.Ou=function(t,e){var n=this;return this.TT(t,e).next((function(t){t?n.fT.delete(e):n.fT.add(e)}))},t.prototype.aT=function(t){return 0},t.prototype.TT=function(t,e){var n=this;return je.Gn([function(){return n.persistence.vu().Mn(t,e)},function(){return n.persistence._T(t,e)},function(){return je.resolve(n.Nu.Mn(e))}])},t}(),Dr=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return this.Yd=this.ET(t),this.persistence=this.IT(t),[4,this.persistence.start()];case 1:return n.sent(),this.wT=this.RT(t),this.j_=this.AT(t),this.Ud=this.mT(t),this.El=this.PT(t),this.VT=this.gT(t),this.Yd.M_=function(t){return e.El.Od(t,1)},this.Ud.El=this.El,[4,this.j_.start()];case 2:return n.sent(),[4,this.Yd.start()];case 3:return n.sent(),[4,this.Ud.start()];case 4:return n.sent(),[4,this.Ud.Cl(this.El.uf)];case 5:return n.sent(),[2]}}))}))},t.prototype.gT=function(t){return new Sr(this.El)},t.prototype.RT=function(t){return null},t.prototype.AT=function(t){return new oi(this.persistence,new Tr,t.pT)},t.prototype.IT=function(t){return new Nr(Rr.dT)},t.prototype.mT=function(t){var e=this;return new or(this.j_,t.b_,t.jr,(function(t){return e.El.Od(t,0)}),t.platform.yT())},t.prototype.ET=function(t){return new mr},t.prototype.PT=function(t){return new Er(this.j_,this.Ud,this.Yd,t.pT,t.Jd)},t.prototype.clearPersistence=function(t){throw new f(d.FAILED_PRECONDITION,"You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.")},t}(),Mr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,this.persistence.ou((function(t){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,this.El.Cl(t)];case 1:return e.sent(),this.wT&&(t&&!this.wT.Kh?this.wT.start(this.j_):t||this.wT.stop()),[2]}}))}))}))];case 2:return i.sent(),[2]}}))}))},e.prototype.AT=function(t){return new si(this.persistence,new Tr,t.pT)},e.prototype.PT=function(t){var e=new Cr(this.j_,this.Ud,this.Yd,t.pT,t.Jd);return this.Yd instanceof pr&&(this.Yd.El=e),e},e.prototype.RT=function(t){return new Xe(this.persistence.yo.qh,t.jr)},e.prototype.IT=function(t){var e=ti.Fu(t.bT),n=t.platform.vT(t.bT.ci);return new ti(t.ST.synchronizeTabs,e,t.clientId,t.platform,Ye.kh(t.ST.cacheSizeBytes),t.jr,n,this.Yd)},e.prototype.ET=function(t){if(t.ST.DT&&t.ST.synchronizeTabs){if(!pr.ho(t.platform))throw new f(d.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var e=ti.Fu(t.bT);return new pr(t.jr,t.platform,e,t.clientId,t.pT)}return new mr},e.prototype.clearPersistence=function(t){var e=ti.Fu(t);return ti.clearPersistence(e)},e}(Dr),jr=function(){function t(t,e,n,i){this.platform=t,this.bT=e,this.credentials=n,this.jr=i,this.clientId=Se.En()}return t.prototype.start=function(t,e){var n=this;this.CT();var i=new qe,r=new qe,o=!1;return this.credentials.l((function(s){if(!o)return o=!0,be("FirestoreClient","Initializing. user=",s.uid),n.FT(t,e,s,r).then(i.resolve,i.reject);n.jr.Zr((function(){return n.Dl(s)}))})),this.jr.Zr((function(){return i.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.CT(),this.jr.enqueue((function(){return t.El.enableNetwork()}))},t.prototype.FT=function(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var o,s,a,c,l=this;return r.__generator(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,this.platform.NT(this.bT)];case 1:return o=u.sent(),s=this.platform.vT(this.bT.ci),a=new nr(this.jr,o,this.credentials,s),[4,t.initialize({jr:this.jr,bT:this.bT,platform:this.platform,b_:a,clientId:this.clientId,pT:n,Jd:100,ST:e})];case 2:return u.sent(),this.persistence=t.persistence,this.Yd=t.Yd,this.j_=t.j_,this.Ud=t.Ud,this.El=t.El,this.wT=t.wT,this.kT=t.VT,this.persistence.au((function(){return r.__awaiter(l,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(c=u.sent(),i.reject(c),!this.$T(c))throw c;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),this.FT(new Dr,{DT:!1},n,i))];case 4:return[2]}}))}))},t.prototype.$T=function(t){return"FirebaseError"===t.name?t.code===d.FAILED_PRECONDITION||t.code===d.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.CT=function(){if(this.jr._h)throw new f(d.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Dl=function(t){return this.jr.Rh(),be("FirestoreClient","Credential Changed. Current user: "+t.uid),this.El.Dl(t)},t.prototype.disableNetwork=function(){var t=this;return this.CT(),this.jr.enqueue((function(){return t.El.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.jr.Eh((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.wT&&this.wT.stop(),[4,this.Ud.mu()];case 1:return t.sent(),[4,this.Yd.mu()];case 2:return t.sent(),[4,this.persistence.mu()];case 3:return t.sent(),this.credentials.T(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.CT();var e=new qe;return this.jr.Zr((function(){return t.El.Af(e)})),e.promise},t.prototype.listen=function(t,e,n){var i=this;this.CT();var r=new Or(t,e,n);return this.jr.Zr((function(){return i.kT.listen(r)})),r},t.prototype.fl=function(t){var e=this;this.MT||this.jr.Zr((function(){return e.kT.fl(t)}))},t.prototype.LT=function(t){var e=this;return this.CT(),this.jr.enqueue((function(){return e.j_.rc(t)})).then((function(t){if(t instanceof bt)return t;if(t instanceof wt)return null;throw new f(d.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.OT=function(t){var e=this;return this.CT(),this.jr.enqueue((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n,i;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.j_.ac(t,!0)];case 1:return e=r.sent(),n=new vr(t,e.uc),i=n.Cd(e.documents),[2,n.ir(i,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.CT();var n=new qe;return this.jr.Zr((function(){return e.El.write(t,n)})),n.promise},t.prototype.ci=function(){return this.bT.ci},t.prototype.Lf=function(t){var e=this;this.CT(),this.jr.Zr((function(){return e.kT.Lf(t),Promise.resolve()}))},t.prototype.Of=function(t){this.MT||this.kT.Of(t)},Object.defineProperty(t.prototype,"MT",{get:function(){return this.jr._h},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.CT();var n=new qe;return this.jr.Zr((function(){return e.El.runTransaction(e.jr,t,n),Promise.resolve()})),n.promise},t}(),Lr=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.xT(this.observer.next,t)},t.prototype.error=function(t){this.xT(this.observer.error,t)},t.prototype.BT=function(){this.muted=!0},t.prototype.xT=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Fr(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=["next","error","complete"];i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Vr=function(){function t(t,e,n,i){this.firestore=t,this.timestampsInSnapshots=e,this.qT=n,this.converter=i}return t.prototype.UT=function(t){switch(B(t)){case 0:return null;case 1:return t.booleanValue;case 2:return K(t.integerValue||t.doubleValue);case 3:return this.QT(t.timestampValue);case 4:return this.WT(t);case 5:return t.stringValue;case 6:return new Ii($(t.bytesValue));case 7:return this.jT(t.referenceValue);case 8:return new Ui(t.geoPointValue.latitude,t.geoPointValue.longitude);case 9:return this.KT(t.arrayValue);case 10:return this.GT(t.mapValue);default:throw Ce()}},t.prototype.GT=function(t){var e=this,n={};return P(t.fields||{},(function(t,i){n[t]=e.UT(i)})),n},t.prototype.KT=function(t){var e=this;return(t.values||[]).map((function(t){return e.UT(t)}))},t.prototype.WT=function(t){switch(this.qT){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return F(n)?t(n):n}(t);return null==e?null:this.UT(e);case"estimate":return this.QT(V(t));default:return null}},t.prototype.QT=function(t){var e=Q(t),n=new _(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.jT=function(t){var e=E.G(t);xe(me(e));var n=new Ae(e.get(1),e.get(3)),i=new S(e.M(5));return n.isEqual(this.firestore.zT)||we("Document "+i+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.firestore.zT.projectId+"/"+this.firestore.zT.database+") instead."),new Hr(i,this.firestore,this.converter)},t}(),Ur=Ye.Lh,Br=function(){function t(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new f(d.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else pi("settings","non-empty string","host",t.host),this.host=t.host,mi("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(wi("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),mi("settings","object","credentials",t.credentials),this.credentials=t.credentials,mi("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?we("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&we("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,mi("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Ye.xh;else{if(t.cacheSizeBytes!==Ur&&t.cacheSizeBytes<Ye.Oh)throw new f(d.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Ye.Oh);this.cacheSizeBytes=t.cacheSizeBytes}mi("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0!==t.experimentalForceLongPolling&&t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),zr=function(){function t(e,n,i){var o=this;if(void 0===i&&(i=new Dr),this.HT=null,this.YT=new Ge,this.INTERNAL={delete:function(){return r.__awaiter(o,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.JT(),[4,this.XT.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.HT=s,this.zT=t.ZT(s),this.tE=s.name,this.eE=new g(n)}else{var a=e;if(!a.projectId)throw new f(d.INVALID_ARGUMENT,"Must provide projectId");this.zT=new Ae(a.projectId,a.database),this.tE="[DEFAULT]",this.eE=new m}this.sE=i,this.iE=new Br({}),this.nE=this.rE(this.zT)}return t.prototype.settings=function(t){li("Firestore.settings",arguments,1),di("Firestore.settings","object",1,t);var e=new Br(t);if(this.XT&&!this.iE.isEqual(e))throw new f(d.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.iE=e,void 0!==e.credentials&&(this.eE=function(t){if(!t)return new m;switch(t.type){case"gapi":var e=t.hE;return xe(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new v(e,t.V||"0");case"provider":return t.hE;default:throw new f(d.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.JT(),this.XT.enableNetwork()},t.prototype.disableNetwork=function(){return this.JT(),this.XT.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.XT)throw new f(d.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var i=!1;return t&&(void 0!==t.experimentalTabSynchronization&&we("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),i=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n),this.oE(this.sE,{DT:!0,cacheSizeBytes:this.iE.cacheSizeBytes,synchronizeTabs:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.XT&&!this.XT.MT)throw new f(d.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return t=new qe,[2,(this.YT.lh((function(){return r.__awaiter(e,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this.aE(),[4,this.sE.clearPersistence(e)];case 1:return i.sent(),t.resolve(),[3,3];case 2:return n=i.sent(),t.reject(n),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"uE",{get:function(){return this.JT(),this.XT.MT},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.JT(),this.XT.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.JT(),Fr(t)?this.cE(t):(di("Firestore.onSnapshotsInSync","function",1,t),this.cE({next:t}))},t.prototype.cE=function(t){var e=this,n=new Lr({next:function(){t.next&&t.next()},error:function(t){throw Ce()}});return this.XT.Lf(n),function(){n.BT(),e.XT.Of(n)}},t.prototype.JT=function(){return this.XT||this.oE(new Dr,{DT:!1}),this.XT},t.prototype.aE=function(){return new Ie(this.zT,this.tE,this.iE.host,this.iE.ssl,this.iE.forceLongPolling)},t.prototype.oE=function(t,e){var n=this.aE();return this.XT=new jr(ge.Lt(),n,this.eE,this.YT),this.XT.start(t,e)},t.prototype.rE=function(t){var e=ge.Lt().vT(t);return new Qi(e,(function(e){if(e instanceof Hr){var n=t,i=e.firestore.zT;if(!i.isEqual(n))throw new f(d.INVALID_ARGUMENT,"Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+n.projectId+"/"+n.database);return new Gi(t,e._E)}return e}))},t.ZT=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new f(d.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new f(d.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ae(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.HT)throw new f(d.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.HT},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return li("Firestore.collection",arguments,1),di("Firestore.collection","non-empty string",1,t),this.JT(),new Xr(E.G(t),this)},t.prototype.doc=function(t){return li("Firestore.doc",arguments,1),di("Firestore.doc","non-empty string",1,t),this.JT(),Hr.lE(E.G(t),this)},t.prototype.collectionGroup=function(t){if(li("Firestore.collectionGroup",arguments,1),di("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new f(d.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.JT(),new $r(new xt(E.H,t),this)},t.prototype.runTransaction=function(t){var e=this;return li("Firestore.runTransaction",arguments,1),di("Firestore.runTransaction","function",1,t),this.JT().transaction((function(n){return t(new qr(e,n))}))},t.prototype.batch=function(){return this.JT(),new Wr(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(ve()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.SILENT:return"silent";default:return"error"}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(li("Firestore.setLogLevel",arguments,1),di("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":_e(s.LogLevel.DEBUG);break;case"error":_e(s.LogLevel.ERROR);break;case"silent":_e(s.LogLevel.SILENT);break;default:throw new f(d.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype.dE=function(){return this.iE.timestampsInSnapshots},t}(),qr=function(){function t(t,e){this.fE=t,this.TE=e}return t.prototype.get=function(t){var e=this;li("Transaction.get",arguments,1);var n=eo("Transaction.get",t,this.fE);return this.TE.p_([n._E]).then((function(t){if(!t||1!==t.length)return Ce();var i=t[0];if(i instanceof wt)return new Qr(e.fE,n._E,null,!1,!1,n.EE);if(i instanceof bt)return new Qr(e.fE,n._E,i,!1,!1,n.EE);throw Ce()}))},t.prototype.set=function(t,e,n){hi("Transaction.set",arguments,2,3);var i=eo("Transaction.set",t,this.fE);n=Zr("Transaction.set",n);var r=io(i.EE,e,"Transaction.set"),o=r[0],s=r[1],a=n.merge||n.mergeFields?this.fE.nE.Mc(s,o,n.mergeFields):this.fE.nE.kc(s,o);return this.TE.set(i._E,a),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Ni?(ui("Transaction.update",arguments,3),i=eo("Transaction.update",t,this.fE),r=this.fE.nE.Bc("Transaction.update",e,n,o)):(li("Transaction.update",arguments,2),i=eo("Transaction.update",t,this.fE),r=this.fE.nE.Lc("Transaction.update",e)),this.TE.update(i._E,r),this},t.prototype.delete=function(t){li("Transaction.delete",arguments,1);var e=eo("Transaction.delete",t,this.fE);return this.TE.delete(e._E),this},t}(),Wr=function(){function t(t){this.fE=t,this.IE=[],this.wE=!1}return t.prototype.set=function(t,e,n){hi("WriteBatch.set",arguments,2,3),this.RE();var i=eo("WriteBatch.set",t,this.fE);n=Zr("WriteBatch.set",n);var r=io(i.EE,e,"WriteBatch.set"),o=r[0],s=r[1],a=n.merge||n.mergeFields?this.fE.nE.Mc(s,o,n.mergeFields):this.fE.nE.kc(s,o);return this.IE=this.IE.concat(a.gc(i._E,ut.NONE)),this},t.prototype.update=function(t,e,n){for(var i,r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.RE(),"string"==typeof e||e instanceof Ni?(ui("WriteBatch.update",arguments,3),i=eo("WriteBatch.update",t,this.fE),r=this.fE.nE.Bc("WriteBatch.update",e,n,o)):(li("WriteBatch.update",arguments,2),i=eo("WriteBatch.update",t,this.fE),r=this.fE.nE.Lc("WriteBatch.update",e)),this.IE=this.IE.concat(r.gc(i._E,ut.exists(!0))),this},t.prototype.delete=function(t){li("WriteBatch.delete",arguments,1),this.RE();var e=eo("WriteBatch.delete",t,this.fE);return this.IE=this.IE.concat(new mt(e._E,ut.NONE)),this},t.prototype.commit=function(){return this.RE(),this.wE=!0,this.IE.length>0?this.fE.JT().write(this.IE):Promise.resolve()},t.prototype.RE=function(){if(this.wE)throw new f(d.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Hr=function(){function t(t,e,n){this._E=t,this.firestore=e,this.EE=n,this.XT=this.firestore.JT()}return t.lE=function(e,n,i){if(e.length%2!=0)throw new f(d.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.K()+" has "+e.length);return new t(new S(e),n,i)},Object.defineProperty(t.prototype,"id",{get:function(){return this._E.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xr(this._E.path.L(),this.firestore,this.EE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._E.path.K()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(li("DocumentReference.collection",arguments,1),di("DocumentReference.collection","non-empty string",1,t),!t)throw new f(d.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=E.G(t);return new Xr(this._E.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ei("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._E.isEqual(e._E)&&this.EE===e.EE},t.prototype.set=function(t,e){hi("DocumentReference.set",arguments,1,2),e=Zr("DocumentReference.set",e);var n=io(this.EE,t,"DocumentReference.set"),i=n[0],r=n[1],o=e.merge||e.mergeFields?this.firestore.nE.Mc(r,i,e.mergeFields):this.firestore.nE.kc(r,i);return this.XT.write(o.gc(this._E,ut.NONE))},t.prototype.update=function(t,e){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return"string"==typeof t||t instanceof Ni?(ui("DocumentReference.update",arguments,2),n=this.firestore.nE.Bc("DocumentReference.update",t,e,i)):(li("DocumentReference.update",arguments,1),n=this.firestore.nE.Lc("DocumentReference.update",t)),this.XT.write(n.gc(this._E,ut.exists(!0)))},t.prototype.delete=function(){return li("DocumentReference.delete",arguments,0),this.XT.write([new mt(this._E,ut.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];hi("DocumentReference.onSnapshot",arguments,1,4);var n,i={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||Fr(t[r])||(wi("DocumentReference.onSnapshot",i=t[r],["includeMetadataChanges"]),mi("DocumentReference.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++);var o={includeMetadataChanges:i.includeMetadataChanges};return Fr(t[r])?n=t[r]:(di("DocumentReference.onSnapshot","function",r,t[r]),fi("DocumentReference.onSnapshot","function",r+1,t[r+1]),fi("DocumentReference.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.AE(o,n)},t.prototype.AE=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new Lr({next:function(t){if(e.next){var i=t.docs.get(n._E);e.next(new Qr(n.firestore,n._E,i,t.fromCache,t.hasPendingWrites,n.EE))}},error:i}),o=this.XT.listen(xt.ve(this._E.path),r,t);return function(){r.BT(),n.XT.fl(o)}},t.prototype.get=function(t){var e=this;return hi("DocumentReference.get",arguments,0,1),to("DocumentReference.get",t),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.JT().LT(e._E).then((function(t){n(new Qr(e.firestore,e._E,t,!0,t instanceof bt&&t.te,e.EE))}),i):e.mE(n,i,t)}))},t.prototype.mE=function(t,e,n){var i=this.AE({includeMetadataChanges:!0,jf:!0},{next:function(r){i(),!r.exists&&r.metadata.fromCache?e(new f(d.UNAVAILABLE,"Failed to get document because the client is offline.")):r.exists&&r.metadata.fromCache&&n&&"server"===n.source?e(new f(d.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(r)},error:e})},t.prototype.withConverter=function(e){return new t(this._E,this.firestore,e)},t}(),Gr=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Qr=function(){function t(t,e,n,i,r,o){this.fE=t,this._E=e,this.PE=n,this.VE=i,this.gE=r,this.EE=o}return t.prototype.data=function(t){if(hi("DocumentSnapshot.data",arguments,0,1),t=Jr("DocumentSnapshot.data",t),this.PE){if(this.EE){var e=new Kr(this.fE,this._E,this.PE,this.VE,this.gE);return this.EE.fromFirestore(e,t)}return new Vr(this.fE,this.fE.dE(),t.serverTimestamps,void 0).UT(this.PE.Re())}},t.prototype.get=function(t,e){if(hi("DocumentSnapshot.get",arguments,1,2),e=Jr("DocumentSnapshot.get",e),this.PE){var n=this.PE.data().field(Yi("DocumentSnapshot.get",t));if(null!==n)return new Vr(this.fE,this.fE.dE(),e.serverTimestamps,this.EE).UT(n)}},Object.defineProperty(t.prototype,"id",{get:function(){return this._E.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Hr(this._E,this.fE,this.EE)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.PE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Gr(this.gE,this.VE)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ei("isEqual","DocumentSnapshot",1,e);return this.fE===e.fE&&this.VE===e.VE&&this._E.isEqual(e._E)&&(null===this.PE?null===e.PE:this.PE.isEqual(e.PE))&&this.EE===e.EE},t}(),Kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Qr),$r=function(){function t(t,e,n){this.pE=t,this.firestore=e,this.EE=n}return t.prototype.where=function(e,n,i){var r;li("Query.where",arguments,3),bi("Query.where",3,i),function(t,e,n,i){if(!e.some((function(t){return t===i})))throw new f(d.INVALID_ARGUMENT,"Invalid value "+_i(i)+" provided to function Query.where() for its "+xi(2)+" argument. Acceptable values: "+e.join(", "))}(0,["<","<=","==",">=",">","array-contains","in","array-contains-any"],0,n);var o=Yi("Query.where",e),s=St.G(n);if(o.J()){if(s===St.ARRAY_CONTAINS||s===St.ARRAY_CONTAINS_ANY)throw new f(d.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s.toString()+"' queries on FieldPath.documentId().");if(s===St.IN){this.yE(i,s);for(var a=[],c=0,l=i;c<l.length;c++){var u=l[c];a.push(this.bE(u))}r={arrayValue:{values:a}}}else r=this.bE(i)}else s!==St.IN&&s!==St.ARRAY_CONTAINS_ANY||this.yE(i,s),r=this.firestore.nE.qc("Query.where",i,s===St.IN);var h=Ot.create(o,s,r);return this.vE(h),new t(this.pE.Ce(h),this.firestore,this.EE)},t.prototype.orderBy=function(e,n){var i;if(hi("Query.orderBy",arguments,1,2),fi("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)i=Pt.ASCENDING;else{if("desc"!==n)throw new f(d.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i=Pt.DESCENDING}if(null!==this.pE.startAt)throw new f(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this.pE.endAt)throw new f(d.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=Yi("Query.orderBy",e),o=new jt(r,i);return this.SE(o),new t(this.pE.Fe(o),this.firestore,this.EE)},t.prototype.limit=function(e){return li("Query.limit",arguments,1),di("Query.limit","number",1,e),Ci("Query.limit",1,e),new t(this.pE.Ne(e),this.firestore,this.EE)},t.prototype.limitToLast=function(e){return li("Query.limitToLast",arguments,1),di("Query.limitToLast","number",1,e),Ci("Query.limitToLast",1,e),new t(this.pE.ke(e),this.firestore,this.EE)},t.prototype.startAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];ui("Query.startAt",arguments,1);var r=this.DE("Query.startAt",e,n,!0);return new t(this.pE.$e(r),this.firestore,this.EE)},t.prototype.startAfter=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];ui("Query.startAfter",arguments,1);var r=this.DE("Query.startAfter",e,n,!1);return new t(this.pE.$e(r),this.firestore,this.EE)},t.prototype.endBefore=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];ui("Query.endBefore",arguments,1);var r=this.DE("Query.endBefore",e,n,!0);return new t(this.pE.Me(r),this.firestore,this.EE)},t.prototype.endAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];ui("Query.endAt",arguments,1);var r=this.DE("Query.endAt",e,n,!1);return new t(this.pE.Me(r),this.firestore,this.EE)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ei("isEqual","Query",1,e);return this.firestore===e.firestore&&this.pE.isEqual(e.pE)},t.prototype.withConverter=function(e){return new t(this.pE,this.firestore,e)},t.prototype.DE=function(t,e,n,i){if(bi(t,1,e),e instanceof Qr){if(n.length>0)throw new f(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var r=e;if(!r.exists)throw new f(d.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.CE(r.PE,i)}var o=[e].concat(n);return this.FE(t,o,i)},t.prototype.CE=function(t,e){for(var n=[],i=0,r=this.pE.orderBy;i<r.length;i++){var o=r[i];if(o.field.J())n.push(Y(this.firestore.zT,t.key));else{var s=t.field(o.field);if(F(s))throw new f(d.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===s){var a=o.field.K();throw new f(d.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+a+"' (used as the orderBy) does not exist.")}n.push(s)}}return new Mt(n,e)},t.prototype.FE=function(t,e,n){var i=this.pE.Ve;if(e.length>i.length)throw new f(d.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],o=0;o<e.length;o++){var s=e[o];if(i[o].field.J()){if("string"!=typeof s)throw new f(d.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this.pE.He()&&-1!==s.indexOf("/"))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this.pE.path.child(E.G(s));if(!S.st(a))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var c=new S(a);r.push(Y(this.firestore.zT,c))}else{var l=this.firestore.nE.qc(t,s);r.push(l)}}return new Mt(r,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];hi("Query.onSnapshot",arguments,1,4);var n,i={},r=0;return"object"!=typeof t[r]||Fr(t[r])||(wi("Query.onSnapshot",i=t[r],["includeMetadataChanges"]),mi("Query.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++),Fr(t[r])?n=t[r]:(di("Query.onSnapshot","function",r,t[r]),fi("Query.onSnapshot","function",r+1,t[r+1]),fi("Query.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.NE(this.pE),this.AE(i,n)},t.prototype.AE=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new Lr({next:function(t){e.next&&e.next(new Yr(n.firestore,n.pE,t,n.EE))},error:i}),o=this.firestore.JT(),s=o.listen(this.pE,r,t);return function(){r.BT(),o.fl(s)}},t.prototype.NE=function(t){if(t.Ke()&&0===t.Ve.length)throw new f(d.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return hi("Query.get",arguments,0,1),to("Query.get",t),this.NE(this.pE),new Promise((function(n,i){t&&"cache"===t.source?e.firestore.JT().OT(e.pE).then((function(t){n(new Yr(e.firestore,e.pE,t,e.EE))}),i):e.mE(n,i,t)}))},t.prototype.mE=function(t,e,n){var i=this.AE({includeMetadataChanges:!0,jf:!0},{next:function(r){i(),r.metadata.fromCache&&n&&"server"===n.source?e(new f(d.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(r)},error:e})},t.prototype.bE=function(t){if("string"==typeof t){if(""===t)throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this.pE.He()&&-1!==t.indexOf("/"))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this.pE.path.child(E.G(t));if(!S.st(e))throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return Y(this.firestore.zT,new S(e))}if(t instanceof Hr)return Y(this.firestore.zT,t._E);throw new f(d.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+_i(t)+".")},t.prototype.yE=function(t,e){if(!Array.isArray(t)||0===t.length)throw new f(d.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new f(d.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.vE=function(t){if(t instanceof Ot){var e=[St.ARRAY_CONTAINS,St.ARRAY_CONTAINS_ANY],n=[St.IN,St.ARRAY_CONTAINS_ANY],i=e.indexOf(t.op)>=0,r=n.indexOf(t.op)>=0;if(t.Ge()){var o=this.pE.Se();if(null!==o&&!o.isEqual(t.field))throw new f(d.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this.pE.De();null!==s&&this.kE(t.field,s)}else if(r||i){var a=null;if(r&&(a=this.pE.ze(n)),null===a&&i&&(a=this.pE.ze(e)),null!=a)throw new f(d.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.SE=function(t){if(null===this.pE.De()){var e=this.pE.Se();null!==e&&this.kE(e,t.field)}},t.prototype.kE=function(t,e){if(!e.isEqual(t))throw new f(d.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Yr=function(){function t(t,e,n,i){this.fE=t,this.$E=e,this.ME=n,this.EE=i,this.LE=null,this.OE=null,this.metadata=new Gr(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.ME.docs.q()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ME.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;hi("QuerySnapshot.forEach",arguments,1,2),di("QuerySnapshot.forEach","function",1,t),this.ME.docs.forEach((function(i){t.call(e,n.xE(i))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new $r(this.$E,this.fE,this.EE)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(wi("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),mi("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.ME.ds)throw new f(d.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.LE&&this.OE===e||(this.LE=function(t,e,n,i){if(n.cs.q()){var r=0;return n.docChanges.map((function(e){return{type:"added",doc:new Kr(t,e.doc.key,e.doc,n.fromCache,n._s.has(e.doc.key),i),oldIndex:-1,newIndex:r++}}))}var o=n.cs;return n.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=new Kr(t,e.doc.key,e.doc,n.fromCache,n._s.has(e.doc.key),i),s=-1,a=-1;return 0!==e.type&&(s=o.indexOf(e.doc.key),o=o.delete(e.doc.key)),1!==e.type&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:no(e.type),doc:r,oldIndex:s,newIndex:a}}))}(this.fE,e,this.ME,this.EE),this.OE=e),this.LE},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Ei("isEqual","QuerySnapshot",1,e);return this.fE===e.fE&&this.$E.isEqual(e.$E)&&this.ME.isEqual(e.ME)&&this.EE===e.EE},t.prototype.xE=function(t){return new Kr(this.fE,t.key,t,this.metadata.fromCache,this.ME._s.has(t.key),this.EE)},t}(),Xr=function(t){function e(e,n,i){var r=this;if((r=t.call(this,xt.ve(e),n,i)||this).BE=e,e.length%2!=1)throw new f(d.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.K()+" has "+e.length);return r}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.pE.path.B()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.pE.path.L();return t.q()?null:new Hr(new S(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.pE.path.K()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(hi("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Se.En()),di("CollectionReference.doc","non-empty string",1,t),""===t)throw new f(d.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=E.G(t);return Hr.lE(this.pE.path.child(e),this.firestore,this.EE)},e.prototype.add=function(t){li("CollectionReference.add",arguments,1),di("CollectionReference.add","object",1,this.EE?this.EE.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.BE,this.firestore,t)},e}($r);function Zr(t,e){if(void 0===e)return{merge:!1};if(wi(t,e,["merge","mergeFields"]),mi(t,"boolean","merge",e.merge),function(t,e,n,i,r){void 0!==i&&function(t,e,n,i,r){if(!(i instanceof Array))throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+_i(i));for(var o=0;o<i.length;++o)if(!r(i[o]))throw new f(d.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+_i(i[o]))}(t,"mergeFields",0,i,(function(t){return"string"==typeof t||t instanceof Ni}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new f(d.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Jr(t,e){return void 0===e?{}:(wi(t,e,["serverTimestamps"]),gi(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function to(t,e){fi(t,"object",1,e),e&&(wi(t,e,["source"]),gi(t,0,"source",e.source,["default","server","cache"]))}function eo(t,e,n){if(e instanceof Hr){if(e.firestore!==n)throw new f(d.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Ei(t,"DocumentReference",1,e)}function no(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}function io(t,e,n){var i;return t?(i=t.toFirestore(e),n="toFirestore() in "+n):i=e,[i,n]}var ro=Oi(zr,"Use firebase.firestore() instead."),oo=Oi(qr,"Use firebase.firestore().runTransaction() instead."),so=Oi(Wr,"Use firebase.firestore().batch() instead."),ao=Oi(Hr,"Use firebase.firestore().doc() instead."),co=Oi(Qr),lo=Oi(Kr),uo=Oi($r),ho=Oi(Yr),fo=Oi(Xr,"Use firebase.firestore().collection() instead."),po={Firestore:ro,GeoPoint:Ui,Timestamp:_,Blob:Ai,Transaction:oo,WriteBatch:so,DocumentReference:ao,DocumentSnapshot:co,Query:uo,QueryDocumentSnapshot:lo,QuerySnapshot:ho,CollectionReference:fo,FieldPath:Ni,FieldValue:Vi,setLogLevel:zr.setLogLevel,CACHE_SIZE_UNLIMITED:Ur},mo=function(){function t(){}return t.prototype.Y_=function(t){},t.prototype.mu=function(){},t}(),go=function(){function t(){var t=this;this.qE=function(){return t.UE()},this.QE=function(){return t.WE()},this.jE=[],this.KE()}return t.prototype.Y_=function(t){this.jE.push(t)},t.prototype.mu=function(){window.removeEventListener("online",this.qE),window.removeEventListener("offline",this.QE)},t.prototype.KE=function(){window.addEventListener("online",this.qE),window.addEventListener("offline",this.QE)},t.prototype.UE=function(){be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.jE;t<e.length;t++)(0,e[t])(0)},t.prototype.WE=function(){be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.jE;t<e.length;t++)(0,e[t])(1)},t.ho=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),yo=function(){function t(t){this.GE=t.GE,this.zE=t.zE}return t.prototype.__=function(t){this.HE=t},t.prototype.h_=function(t){this.YE=t},t.prototype.onMessage=function(t){this.JE=t},t.prototype.close=function(){this.zE()},t.prototype.send=function(t){this.GE(t)},t.prototype.XE=function(){this.HE()},t.prototype.ZE=function(t){this.YE(t)},t.prototype.tI=function(t){this.JE(t)},t}(),vo={BatchGetDocuments:"batchGet",Commit:"commit"},_o="gl-js/ fire/"+u,bo=function(){function t(t){this.ci=t.ci,this.eI=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.sI=function(t,e){if(e)for(var n in e.o)e.o.hasOwnProperty(n)&&(t[n]=e.o[n]);t["X-Goog-Api-Client"]=_o},t.prototype.g_=function(t,e,n){var i=this,r=this.iI(t);return new Promise((function(o,s){var a=new l.XhrIo;a.listenOnce(l.EventType.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case l.ErrorCode.NO_ERROR:var e=a.getResponseJson();be("Connection","XHR received:",JSON.stringify(e)),o(e);break;case l.ErrorCode.TIMEOUT:be("Connection",'RPC "'+t+'" timed out'),s(new f(d.DEADLINE_EXCEEDED,"Request time out"));break;case l.ErrorCode.HTTP_ERROR:var n=a.getStatus();if(be("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var i=a.getResponseJson().error;if(i&&i.status&&i.message){var r=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(d).indexOf(e)>=0?e:d.UNKNOWN}(i.status);s(new f(r,i.message))}else s(new f(d.UNKNOWN,"Server responded with status "+a.getStatus()))}else be("Connection",'RPC "'+t+'" failed'),s(new f(d.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{be("Connection",'RPC "'+t+'" completed.')}}));var c=Object.assign({},e);delete c.database;var u=JSON.stringify(c);be("Connection","XHR sending: ",r+" "+u);var h={"Content-Type":"text/plain"};i.sI(h,n),a.send(r,"POST",u,h,15)}))},t.prototype.y_=function(t,e,n){return this.g_(t,e,n)},t.prototype.l_=function(t,e){var n=[this.eI,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=l.createWebChannelTransport(),r={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.ci.projectId+"/databases/"+this.ci.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.sI(r.initMessageHeaders,e),a.isMobileCordova()||a.isReactNative()||a.isElectron()||a.isIE()||a.isUWP()||a.isBrowserExtension()||(r.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");be("Connection","Creating WebChannel: "+o+" "+r);var s=i.createWebChannel(o,r),c=!1,u=!1,h=new yo({GE:function(t){u?be("Connection","Not sending because WebChannel is closed:",t):(c||(be("Connection","Opening WebChannel transport."),s.open(),c=!0),be("Connection","WebChannel sending:",t),s.send(t))},zE:function(){return s.close()}}),p=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return p(l.WebChannel.EventType.OPEN,(function(){u||be("Connection","WebChannel transport opened.")})),p(l.WebChannel.EventType.CLOSE,(function(){u||(u=!0,be("Connection","WebChannel transport closed"),h.ZE())})),p(l.WebChannel.EventType.ERROR,(function(t){u||(u=!0,be("Connection","WebChannel transport errored:",t),h.ZE(new f(d.UNAVAILABLE,"The operation could not be completed")))})),p(l.WebChannel.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];xe(!!n);var i=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(i){be("Connection","WebChannel received error:",i);var r=i.status,o=function(t){var e=Rt[t];if(void 0!==e)return zt(e)}(r),a=i.message;void 0===o&&(o=d.INTERNAL,a="Unknown error status: "+r+" with message "+i.message),u=!0,h.ZE(new f(o,a)),s.close()}else be("Connection","WebChannel received:",n),h.tI(n)}})),setTimeout((function(){h.XE()}),0),h},t.prototype.iI=function(t){return this.eI+"/v1/projects/"+this.ci.projectId+"/databases/"+this.ci.database+"/documents:"+vo[t]},t}();function wo(t){!function(t,e){t.INTERNAL.registerComponent(new c.Component("firestore",(function(t){return function(t,e){return new zr(t,e,new Mr)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},po)))}(t),t.registerVersion("@firebase/firestore","1.14.2")}ge.fn(new(function(){function t(){this.Tc="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.NT=function(t){return Promise.resolve(new bo(t))},t.prototype.yT=function(){return go.ho()?new go:new mo},t.prototype.vT=function(t){return new pe(t,{di:!0})},t.prototype.Tn=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}())),wo(o),e.__PRIVATE_registerFirestore=wo},C05f:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("ZTXN"),r=n("MiDb");class o extends i.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.a;return this._value}next(t){super.next(this._value=t)}}},"DG/E":function(t,e,n){"use strict";let i=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();n.d(e,"a",(function(){return r}));class r extends i{constructor(t,e=i.now){super(t,()=>r.delegate&&r.delegate!==this?r.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return r.delegate&&r.delegate!==this?r.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},EM62:function(t,e,n){"use strict";n.d(e,"a",(function(){return vo})),n.d(e,"b",(function(){return Ic})),n.d(e,"c",(function(){return xc})),n.d(e,"d",(function(){return Ec})),n.d(e,"e",(function(){return Cc})),n.d(e,"f",(function(){return Cl})),n.d(e,"g",(function(){return hl})),n.d(e,"h",(function(){return to})),n.d(e,"i",(function(){return Uc})),n.d(e,"j",(function(){return Zs})),n.d(e,"k",(function(){return Pc})),n.d(e,"l",(function(){return Js})),n.d(e,"m",(function(){return _l})),n.d(e,"n",(function(){return sn})),n.d(e,"o",(function(){return Ja})),n.d(e,"p",(function(){return H})),n.d(e,"q",(function(){return l})),n.d(e,"r",(function(){return W})),n.d(e,"s",(function(){return yo})),n.d(e,"t",(function(){return va})),n.d(e,"u",(function(){return _a})),n.d(e,"v",(function(){return Nc})),n.d(e,"w",(function(){return st})),n.d(e,"x",(function(){return fl})),n.d(e,"y",(function(){return ot})),n.d(e,"z",(function(){return sl})),n.d(e,"A",(function(){return Wc})),n.d(e,"B",(function(){return u})),n.d(e,"C",(function(){return kc})),n.d(e,"D",(function(){return Tc})),n.d(e,"E",(function(){return ec})),n.d(e,"F",(function(){return ia})),n.d(e,"G",(function(){return ea})),n.d(e,"H",(function(){return na})),n.d(e,"I",(function(){return oa})),n.d(e,"J",(function(){return Qn})),n.d(e,"K",(function(){return d})),n.d(e,"L",(function(){return gl})),n.d(e,"M",(function(){return Ca})),n.d(e,"N",(function(){return Zc})),n.d(e,"O",(function(){return aa})),n.d(e,"P",(function(){return sa})),n.d(e,"Q",(function(){return Sa})),n.d(e,"R",(function(){return mt})),n.d(e,"S",(function(){return Oo})),n.d(e,"T",(function(){return al})),n.d(e,"U",(function(){return xn})),n.d(e,"V",(function(){return I})),n.d(e,"W",(function(){return et})),n.d(e,"X",(function(){return Cn})),n.d(e,"Y",(function(){return wl})),n.d(e,"Z",(function(){return el})),n.d(e,"ab",(function(){return Ac})),n.d(e,"bb",(function(){return no})),n.d(e,"cb",(function(){return Ua})),n.d(e,"db",(function(){return Hn})),n.d(e,"eb",(function(){return Yn})),n.d(e,"fb",(function(){return kn})),n.d(e,"gb",(function(){return pn})),n.d(e,"hb",(function(){return gn})),n.d(e,"ib",(function(){return bn})),n.d(e,"jb",(function(){return vn})),n.d(e,"kb",(function(){return yn})),n.d(e,"lb",(function(){return _n})),n.d(e,"mb",(function(){return ja})),n.d(e,"nb",(function(){return bl})),n.d(e,"ob",(function(){return La})),n.d(e,"pb",(function(){return Fa})),n.d(e,"qb",(function(){return mn})),n.d(e,"rb",(function(){return j})),n.d(e,"sb",(function(){return To})),n.d(e,"tb",(function(){return $o})),n.d(e,"ub",(function(){return Ko})),n.d(e,"vb",(function(){return So})),n.d(e,"wb",(function(){return Ma})),n.d(e,"xb",(function(){return be})),n.d(e,"yb",(function(){return O})),n.d(e,"zb",(function(){return fn})),n.d(e,"Ab",(function(){return Rs})),n.d(e,"Bb",(function(){return Vs})),n.d(e,"Cb",(function(){return $s})),n.d(e,"Db",(function(){return Oi})),n.d(e,"Eb",(function(){return Po})),n.d(e,"Fb",(function(){return ps})),n.d(e,"Gb",(function(){return Is})),n.d(e,"Hb",(function(){return fs})),n.d(e,"Ib",(function(){return Xo})),n.d(e,"Jb",(function(){return pc})),n.d(e,"Kb",(function(){return bt})),n.d(e,"Lb",(function(){return Tt})),n.d(e,"Mb",(function(){return g})),n.d(e,"Nb",(function(){return y})),n.d(e,"Ob",(function(){return xt})),n.d(e,"Pb",(function(){return kt})),n.d(e,"Qb",(function(){return jo})),n.d(e,"Rb",(function(){return qo})),n.d(e,"Sb",(function(){return Go})),n.d(e,"Tb",(function(){return Ho})),n.d(e,"Ub",(function(){return Wo})),n.d(e,"Vb",(function(){return zo})),n.d(e,"Wb",(function(){return Bo})),n.d(e,"Xb",(function(){return Qo})),n.d(e,"Yb",(function(){return en})),n.d(e,"Zb",(function(){return As})),n.d(e,"ac",(function(){return tt})),n.d(e,"bc",(function(){return Lo})),n.d(e,"cc",(function(){return wc})),n.d(e,"dc",(function(){return Fo})),n.d(e,"ec",(function(){return Yo})),n.d(e,"fc",(function(){return yc})),n.d(e,"gc",(function(){return he})),n.d(e,"hc",(function(){return ue})),n.d(e,"ic",(function(){return es})),n.d(e,"jc",(function(){return Xa})),n.d(e,"kc",(function(){return Za})),n.d(e,"lc",(function(){return rs})),n.d(e,"mc",(function(){return is})),n.d(e,"nc",(function(){return Vo})),n.d(e,"oc",(function(){return Qa})),n.d(e,"pc",(function(){return Ka})),n.d(e,"qc",(function(){return $a})),n.d(e,"rc",(function(){return uc})),n.d(e,"sc",(function(){return Mo})),n.d(e,"tc",(function(){return Le})),n.d(e,"uc",(function(){return je})),n.d(e,"vc",(function(){return qt})),n.d(e,"wc",(function(){return Xn})),n.d(e,"xc",(function(){return Zn})),n.d(e,"yc",(function(){return St})),n.d(e,"zc",(function(){return mc})),n.d(e,"Ac",(function(){return hc})),n.d(e,"Bc",(function(){return ds})),n.d(e,"Cc",(function(){return Do})),n.d(e,"Dc",(function(){return Os})),n.d(e,"Ec",(function(){return Ts})),n.d(e,"Fc",(function(){return ks})),n.d(e,"Gc",(function(){return Ns})),n.d(e,"Hc",(function(){return dc}));var i=n("ZTXN"),r=n("bwdy"),o=n("IdLP"),s=n("g6G6"),a=n("7ntQ");function c(t,e,n){const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}const l=c("Inject",t=>({token:t})),u=c("Optional"),h=c("Self"),d=c("SkipSelf");var f=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function p(t){for(let e in t)if(t[e]===p)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function g(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function v(t){return _(t,t[w])||_(t,t[x])}function _(t,e){return e&&e.token===t?e:null}function b(t){return t&&(t.hasOwnProperty(E)||t.hasOwnProperty(S))?t[E]:null}const w=p({"\u0275prov":p}),E=p({"\u0275inj":p}),C=p({"\u0275provFallback":p}),x=p({ngInjectableDef:p}),S=p({ngInjectorDef:p});function O(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(O).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function T(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const k=p({__forward_ref__:p});function I(t){return t.__forward_ref__=I,t.toString=function(){return O(this())},t}function A(t){return N(t)?t():t}function N(t){return"function"==typeof t&&t.hasOwnProperty(k)&&t.__forward_ref__===I}const P="undefined"!=typeof globalThis&&globalThis,R="undefined"!=typeof window&&window,D="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,j=P||M||R||D,L=p({"\u0275cmp":p}),F=p({"\u0275dir":p}),V=p({"\u0275pipe":p}),U=p({"\u0275mod":p}),B=p({"\u0275loc":p}),z=p({"\u0275fac":p}),q=p({__NG_ELEMENT_ID__:p});class W{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=g({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const H=new W("INJECTOR",-1),G={},Q=/\n/gm,K=p({provide:String,useValue:p});let $,Y=void 0;function X(t){const e=Y;return Y=t,e}function Z(t){const e=$;return $=t,e}function J(t,e=f.Default){if(void 0===Y)throw new Error("inject() must be called from an injection context");return null===Y?nt(t,void 0,e):Y.get(t,e&f.Optional?null:void 0,e)}function tt(t,e=f.Default){return($||J)(A(t),e)}const et=tt;function nt(t,e,n){const i=v(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&f.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${O(t)}]`)}function it(t){const e=[];for(let n=0;n<t.length;n++){const i=A(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=f.Default;for(let e=0;e<i.length;e++){const r=i[e];r instanceof u||"Optional"===r.ngMetadataName||r===u?n|=f.Optional:r instanceof d||"SkipSelf"===r.ngMetadataName||r===d?n|=f.SkipSelf:r instanceof h||"Self"===r.ngMetadataName||r===h?n|=f.Self:t=r instanceof l||r===l?r.token:r}e.push(tt(t,n))}else e.push(tt(i))}return e}class rt{get(t,e=G){if(e===G){const e=new Error(`NullInjectorError: No provider for ${O(t)}!`);throw e.name="NullInjectorError",e}return e}}class ot{}class st{}function at(t,e){t.forEach(t=>Array.isArray(t)?at(t,e):e(t))}function ct(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ut(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function ht(t,e,n){let i=ft(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function dt(t,e){const n=ft(t,e);if(n>=0)return t[1|n]}function ft(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),o=t[n<<1];if(e===o)return n<<1;o>e?r=n:i=n+1}return~(r<<1)}(t,e)}const pt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),mt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}();function gt(t){return""+{toString:t}}const yt={},vt=[];let _t=0;function bt(t){const e=t.type,n=e.prototype,i={},r={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===pt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||vt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||mt.Emulated,id:"c",styles:t.styles||vt,_:null,setInput:null,schemas:t.schemas||null,tView:null};return r._=gt(()=>{const e=t.directives,n=t.features,o=t.pipes;r.id+=_t++,r.inputs=Ot(t.inputs,i),r.outputs=Ot(t.outputs),n&&n.forEach(t=>t(r)),r.directiveDefs=e?()=>("function"==typeof e?e():e).map(wt):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(Et):null}),r}function wt(t){return It(t)||function(t){return t[F]||null}(t)}function Et(t){return function(t){return t[V]||null}(t)}const Ct={};function xt(t){const e={type:t.type,bootstrap:t.bootstrap||vt,declarations:t.declarations||vt,imports:t.imports||vt,exports:t.exports||vt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&gt(()=>{Ct[t.id]=t.type}),e}function St(t,e){return gt(()=>{const n=Nt(t,!0);n.declarations=e.declarations||vt,n.imports=e.imports||vt,n.exports=e.exports||vt})}function Ot(t,e){if(null==t)return yt;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}const Tt=bt;function kt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function It(t){return t[L]||null}function At(t,e){return t.hasOwnProperty(z)?t[z]:null}function Nt(t,e){const n=t[U]||null;if(!n&&!0===e)throw new Error(`Type ${O(t)} does not have '\u0275mod' property.`);return n}function Pt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Rt(t){return Array.isArray(t)&&!0===t[1]}function Dt(t){return 0!=(8&t.flags)}function Mt(t){return 2==(2&t.flags)}function jt(t){return 1==(1&t.flags)}function Lt(t){return null!==t.template}function Ft(t){return 0!=(512&t[2])}const Vt={lFrame:se(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ut(){return Vt.bindingsEnabled}function Bt(){return Vt.lFrame.lView}function zt(){return Vt.lFrame.tView}function qt(t){Vt.lFrame.contextLView=t}function Wt(){return Vt.lFrame.previousOrParentTNode}function Ht(t,e){Vt.lFrame.previousOrParentTNode=t,Vt.lFrame.isParent=e}function Gt(){return Vt.lFrame.isParent}function Qt(){Vt.lFrame.isParent=!1}function Kt(){return Vt.checkNoChangesMode}function $t(t){Vt.checkNoChangesMode=t}function Yt(){const t=Vt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Xt(){return Vt.lFrame.bindingIndex++}function Zt(t){const e=Vt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Jt(t,e){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function te(){return Vt.lFrame.currentQueryIndex}function ee(t){Vt.lFrame.currentQueryIndex=t}function ne(t,e){const n=oe();Vt.lFrame=n,n.previousOrParentTNode=e,n.lView=t}const ie=ae;function re(t,e){const n=oe(),i=t[1];Vt.lFrame=n,n.previousOrParentTNode=e,n.isParent=!0,n.lView=t,n.tView=i,n.selectedIndex=0,n.contextLView=t,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.currentSanitizer=null,n.bindingRootIndex=-1,n.bindingIndex=i.bindingStartIndex,n.currentQueryIndex=0}function oe(){const t=Vt.lFrame,e=null===t?null:t.child;return null===e?se(t):e}function se(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function ae(){Vt.lFrame=Vt.lFrame.parent}function ce(){return Vt.lFrame.selectedIndex}function le(t){Vt.lFrame.selectedIndex=t}function ue(){Vt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function he(){Vt.lFrame.currentNamespace=null}function de(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function fe(t,e,n){ge(t,e,3,n)}function pe(t,e,n,i){(3&t[2])===n&&ge(t,e,n,i)}function me(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function ge(t,e,n,i){const r=null!=i?i:-1;let o=0;for(let s=void 0!==i?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=i&&o>=i)break}else e[s]<0&&(t[18]+=65536),(o<r||-1==r)&&(ye(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function ye(t,e,n,i){const r=n[i]<0,o=n[i+1],s=t[r?-n[i]:n[i]];r?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,o.call(s)):o.call(s)}class ve{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}let _e=void 0;function be(t){_e=t}function we(){return void 0!==_e?_e:"undefined"!=typeof document?document:void 0}function Ee(t){return!!t.listen}const Ce={createRenderer:(t,e)=>we()};function xe(t,e,n){const i=Ee(t);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],a=n[r++],c=n[r++];i?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++r];Oe(s)?i&&t.setProperty(e,s,a):i?t.setAttribute(e,s,a):e.setAttribute(s,a),r++}}return r}function Se(t){return 3===t||4===t||6===t}function Oe(t){return 64===t.charCodeAt(0)}function Te(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||ke(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function ke(t,e,n,i,r){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function Ie(t){return-1!==t}function Ae(t){return 32767&t}function Ne(t){return t>>16}function Pe(t,e){let n=Ne(t),i=e;for(;n>0;)i=i[15],n--;return i}function Re(t){return"string"==typeof t?t:null==t?"":""+t}function De(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Re(t)}const Me=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function je(t){return{name:"window",target:t.ownerDocument.defaultView}}function Le(t){return{name:"body",target:t.ownerDocument.body}}function Fe(t){return t instanceof Function?t():t}let Ve=!0;function Ue(t){const e=Ve;return Ve=t,e}let Be=0;function ze(t,e){const n=We(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,qe(i.data,t),qe(e,null),qe(i.blueprint,null));const r=He(t,e),o=t.injectorIndex;if(Ie(r)){const t=Ae(r),n=Pe(r,e),i=n[1].data;for(let r=0;r<8;r++)e[o+r]=n[t+r]|i[t+r]}return e[o+8]=r,o}function qe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function We(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function He(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],i=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function Ge(t,e,n){!function(t,e,n){let i="string"!=typeof n?n[q]:n.charCodeAt(0)||0;null==i&&(i=n[q]=Be++);const r=255&i,o=1<<r,s=64&r,a=32&r,c=e.data;128&r?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function Qe(t,e,n,i=f.Default,r){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[q];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof r){ne(e,t);try{const t=r();if(null!=t||i&f.Optional)return t;throw new Error(`No provider for ${De(n)}!`)}finally{ie()}}else if("number"==typeof r){if(-1===r)return new tn(t,e);let o=null,s=We(t,e),a=-1,c=i&f.Host?e[16][6]:null;for((-1===s||i&f.SkipSelf)&&(a=-1===s?He(t,e):e[s+8],Je(i,!1)?(o=e[1],s=Ae(a),e=Pe(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(Ze(r,s,t.data)){const t=$e(s,e,n,o,i,c);if(t!==Ke)return t}Je(i,e[1].data[s+8]===c)&&Ze(r,s,e)?(o=t,s=Ae(a),e=Pe(a,e)):s=-1}}}if(i&f.Optional&&void 0===r&&(r=null),0==(i&(f.Self|f.Host))){const t=e[9],o=Z(void 0);try{return t?t.get(n,r,i&f.Optional):nt(n,r,i&f.Optional)}finally{Z(o)}}if(i&f.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${De(n)}]`)}const Ke={};function $e(t,e,n,i,r,o){const s=e[1],a=s.data[t+8],c=Ye(a,s,n,null==i?Mt(a)&&Ve:i!=s&&3===a.type,r&f.Host&&o===a);return null!==c?Xe(e,s,c,a):Ke}function Ye(t,e,n,i,r){const o=t.providerIndexes,s=e.data,a=65535&o,c=t.directiveStart,l=o>>16,u=r?a+l:t.directiveEnd;for(let h=i?a:a+l;h<u;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(r){const t=s[c];if(t&&Lt(t)&&t.type===n)return c}return null}function Xe(t,e,n,i){let r=t[n];const o=e.data;if(r instanceof ve){const s=r;if(s.resolving)throw new Error(`Circular dep for ${De(o[n])}`);const a=Ue(s.canSeeViewProviders);let c;s.resolving=!0,s.injectImpl&&(c=Z(s.injectImpl)),ne(t,i);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{onChanges:i,onInit:r,doCheck:o}=e;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&Z(c),Ue(a),s.resolving=!1,ie()}}return r}function Ze(t,e,n){const i=64&t,r=32&t;let o;return o=128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(o&1<<t)}function Je(t,e){return!(t&f.Self||t&f.Host&&e)}class tn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Qe(this._tNode,this._lView,t,void 0,e)}}function en(t){const e=Object.getPrototypeOf(t.prototype).constructor,n=e[z]||function t(e){const n=e;if(N(e))return()=>{const e=t(A(n));return e?e():null};let i=At(n);if(null===i){const t=b(n);i=t&&t.factory}return i||null}(e);return null!==n?n:t=>new t}function nn(t){return t.ngDebugContext}function rn(t){return t.ngOriginalError}function on(t,...e){t.error(...e)}class sn{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||on}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?nn(t)?nn(t):this._findContext(rn(t)):null}_findOriginalError(t){let e=rn(t);for(;e&&rn(e);)e=rn(e);return e}}class an{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class cn extends an{getTypeName(){return"HTML"}}class ln extends an{getTypeName(){return"Style"}}class un extends an{getTypeName(){return"Script"}}class hn extends an{getTypeName(){return"URL"}}class dn extends an{getTypeName(){return"ResourceURL"}}function fn(t){return t instanceof an?t.changingThisBreaksApplicationSecurity:t}function pn(t,e){const n=mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function mn(t){return t instanceof an&&t.getTypeName()||null}function gn(t){return new cn(t)}function yn(t){return new ln(t)}function vn(t){return new un(t)}function _n(t){return new hn(t)}function bn(t){return new dn(t)}let wn=!0,En=!1;function Cn(){return En=!0,wn}function xn(){if(En)throw new Error("Cannot enable prod mode after platform setup.");wn=!1}class Sn{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const On=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Tn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function kn(t){return(t=String(t)).match(On)||t.match(Tn)?t:(Cn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function In(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function An(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Nn=In("area,br,col,hr,img,wbr"),Pn=In("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Rn=In("rp,rt"),Dn=An(Rn,Pn),Mn=An(Nn,An(Pn,In("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),An(Rn,In("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dn),jn=In("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ln=In("srcset"),Fn=An(jn,Ln,In("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),In("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vn=In("script,style,template");class Un{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Mn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Vn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,o=e.toLowerCase();if(!Fn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;jn[o]&&(s=kn(s)),Ln[o]&&(i=s,s=(i=String(i)).split(",").map(t=>kn(t.trim())).join(", ")),this.buf.push(" ",e,'="',qn(s),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Mn.hasOwnProperty(e)&&!Nn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(qn(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Bn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zn=/([^\#-~ |!])/g;function qn(t){return t.replace(/&/g,"&amp;").replace(Bn,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(zn,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wn;function Hn(t,e){let n=null;try{Wn=Wn||new Sn(t);let i=e?String(e):"";n=Wn.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Wn.getInertBodyElement(i)}while(i!==o);const s=new Un,a=s.sanitizeChildren(Gn(n)||n);return Cn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Gn(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Gn(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Qn=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),Kn=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),$n=/^url\(([^)]+)\)$/;function Yn(t){if(!(t=String(t).trim()))return"";const e=t.match($n);return e&&kn(e[1])===e[1]||t.match(Kn)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const r=t.charAt(i);"'"===r&&n?e=!e:'"'===r&&e&&(n=!n)}return e&&n}(t)?t:(Cn()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function Xn(t){const e=Jn();return e?e.sanitize(Qn.HTML,t)||"":pn(t,"HTML")?fn(t):Hn(we(),Re(t))}function Zn(t){const e=Jn();return e?e.sanitize(Qn.URL,t)||"":pn(t,"URL")?fn(t):kn(Re(t))}function Jn(){const t=Bt();return t&&t[12]}function ti(t){for(;Array.isArray(t);)t=t[0];return t}function ei(t,e){return ti(e[t+19])}function ni(t,e){return ti(e[t.index])}function ii(t,e){return t.data[e+19]}function ri(t,e){return t[e+19]}function oi(t,e){const n=e[t];return Pt(n)?n:n[0]}function si(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ai(t){return 4==(4&t[2])}function ci(t){return 128==(128&t[2])}function li(t,e){return null===t||null==e?null:t[e]}function ui(t){t[18]=0}function hi(t,e){t.__ngContext__=e}function di(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function fi(){throw new Error("Cannot mix multi providers and regular providers")}function pi(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}function mi(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==pi(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function gi(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function yi(t,e,n){let i=4;const r=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(r);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!gi(t,c,n)||""===c&&1===e.length){if(vi(i))return!1;s=!0}}else{const l=8&i?c:e[++a];if(8&i&&null!==t.attrs){if(!mi(t.attrs,l,n)){if(vi(i))return!1;s=!0}continue}const u=_i(8&i?"class":c,r,0==t.type&&"ng-template"!==t.tagName,n);if(-1===u){if(vi(i))return!1;s=!0;continue}if(""!==l){let t;t=u>o?"":r[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==pi(e,l,0)||2&i&&l!==t){if(vi(i))return!1;s=!0}}}}else{if(!s&&!vi(i)&&!vi(c))return!1;if(s&&vi(c))continue;s=!1,i=c|1&i}}return vi(i)||s}function vi(t){return 0==(1&t)}function _i(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function bi(t,e,n=!1){for(let i=0;i<e.length;i++)if(yi(t,e[i],n))return!0;return!1}function wi(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Ei(t,e){return t?":not("+e.trim()+")":e}function Ci(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&i){const e=t[++n];r+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||vi(s)||(e+=Ei(o,r),r=""),i=s,o=o||!vi(i);n++}return""!==r&&(e+=Ei(o,r)),e}const xi={};function Si(t){const e=t[3];return Rt(e)?e[3]:e}function Oi(t){Ti(zt(),Bt(),ce()+t,Kt())}function Ti(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&fe(e,i,n)}else{const i=t.preOrderHooks;null!==i&&pe(e,i,0,n)}le(n)}function ki(t,e){return t<<17|e<<2}function Ii(t){return t>>17&32767}function Ai(t){return 2|t}function Ni(t){return(131068&t)>>2}function Pi(t,e){return-131069&t|e<<2}function Ri(t){return 1|t}function Di(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const n=t.data[o];ee(r),n.contentQueries(2,e[o],o)}}}function Mi(t,e,n){return Ee(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ji(t,e,n,i,r,o,s,a,c,l){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,ui(u),u[3]=u[15]=t,u[8]=n,u[10]=s||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=o,u[16]=2==e.type?t[16]:u,u}function Li(t,e,n,i,r,o){const s=n+19,a=t.data[s]||function(t,e,n,i,r,o){const s=Wt(),a=Gt(),c=a?s:s&&s.parent,l=t.data[n]=Qi(0,c&&c!==e?c:null,i,n,r,o);return null===t.firstChild&&(t.firstChild=l),s&&(!a||null!=s.child||null===l.parent&&2!==s.type?a||(s.next=l):s.child=l),l}(t,e,s,i,r,o);return Ht(a,!0),a}function Fi(t,e,n){re(e,e[6]);try{const i=t.viewQuery;null!==i&&gr(1,i,n);const r=t.template;null!==r&&Bi(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Di(t,e),t.staticViewQueries&&gr(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)hr(t,e[n])}(e,o)}finally{e[2]&=-5,ae()}}function Vi(t,e,n,i){const r=e[2];if(256==(256&r))return;re(e,e[6]);const o=Kt();try{ui(e),Vt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Bi(t,e,n,2,i);const s=3==(3&r);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&fe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&pe(e,n,0,null),me(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(Rt(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],i=n[1];ci(n)&&Vi(i,n,i.template,n[8])}0!=(1&n)&&lr(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&Di(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&fe(e,n)}else{const n=t.contentHooks;null!==n&&pe(e,n,1),me(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let i=t.expandoStartIndex,r=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,le(o),i+=9+n[++t],r=i):i+=s:(null!==s&&(Jt(i,r),s(2,e[r])),r++)}}}finally{le(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)ur(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&gr(2,c,i),!o)if(s){const n=t.viewCheckHooks;null!==n&&fe(e,n)}else{const n=t.viewHooks;null!==n&&pe(e,n,2),me(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73)}finally{ae()}}function Ui(t,e,n,i){const r=e[10],o=!Kt(),s=ai(e);try{o&&!s&&r.begin&&r.begin(),s&&Fi(t,e,i),Vi(t,e,n,i)}finally{o&&!s&&r.end&&r.end()}}function Bi(t,e,n,i,r){const o=ce();try{le(-1),2&i&&e.length>19&&Ti(t,e,0,Kt()),n(i,r)}finally{le(o)}}function zi(t,e,n){if(Dt(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function qi(t,e,n){Ut()&&(function(t,e,n,i){const r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||ze(n,e),hi(i,e);const s=n.initialInputs;for(let a=r;a<o;a++){const i=t.data[a],o=Lt(i);o&&or(e,n,i);const c=Xe(e,t,a,n);hi(c,e),null!==s&&sr(0,a-r,c,i,0,s),o&&(oi(n.index,e)[8]=c)}}(t,e,n,ni(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-19;try{le(a);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?Ji(i,r):s&&o.push(null)}}finally{le(-1)}}(t,e,n))}function Wi(t,e,n=ni){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(e,t):t[s];t[r++]=a}}}function Hi(t){return t.tView||(t.tView=Gi(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function Gi(t,e,n,i,r,o,s,a,c,l){const u=19+i,h=u+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:xi);return n}(u,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:l}}function Qi(t,e,n,i,r,o){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Ki(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function $i(t,e,n,i,r,o,s,a){const c=ei(n,e),l=ii(t,n);let u,h=l.inputs;if(!s&&null!=h&&(u=h[i]))Er(t,e,u,i,r),Mt(l)&&function(t,e){const n=oi(e,t);16&n[2]||(n[2]|=64)}(e,n+19);else if(3===l.type){i=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i);const t=a?a(l,e):e[11];r=null!=o?o(r,l.tagName||"",i):r,Ee(t)?t.setProperty(c,i,r):Oe(i)||(c.setProperty?c.setProperty(i,r):c[i]=r)}}function Yi(t,e,n,i){let r=!1;if(Ut()){const o=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];bi(n,s.selectors,!1)&&(r||(r=[]),Ge(ze(n,e),t,s.type),Lt(s)?(2&n.flags&&di(n),er(t,n),r.unshift(s)):r.push(s))}return r}(t,e,n),s=null===i?null:{"":-1};if(null!==o){let i=0;r=!0,ir(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}tr(t,n,o.length);let a=!1,c=!1;for(let r=0;r<o.length;r++){const l=o[r];n.mergedAttrs=Te(n.mergedAttrs,l.hostAttrs),rr(t,e,l),nr(t.data.length-1,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128),!a&&(l.onChanges||l.onInit||l.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),c||!l.onChanges&&!l.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),c=!0),Xi(t,l),i+=l.hostVars}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=i[c],e=t.inputs;o.push(null!==r?ar(e,r):null),s=Ki(e,c,s),a=Ki(t.outputs,c,a)}null!==s&&((s.hasOwnProperty("class")||s.hasOwnProperty("className"))&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),Zi(t,e,i)}s&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new Error(`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,s)}return n.mergedAttrs=Te(n.mergedAttrs,n.attrs),r}function Xi(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Zi(t,e,n){for(let i=0;i<n;i++)e.push(xi),t.blueprint.push(xi),t.data.push(null)}function Ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function tr(t,e,n){const i=19-e.index,r=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,r,n)}function er(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function nr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Lt(e)&&(n[""]=t)}}function ir(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function rr(t,e,n){t.data.push(n);const i=n.factory||(n.factory=At(n.type)),r=new ve(i,Lt(n),null);t.blueprint.push(r),e.push(r)}function or(t,e,n){const i=ni(e,t),r=Hi(n),o=t[10],s=dr(t,ji(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n)));t[e.index]=s}function sr(t,e,n,i,r,o){const s=o[e];if(null!==s){const t=i.setInput;for(let e=0;e<s.length;){const r=s[e++],o=s[e++],a=s[e++];null!==t?i.setInput(n,a,r,o):n[o]=a}}}function ar(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function cr(t,e,n,i){return new Array(t,!0,-2,e,null,null,i,n,null)}function lr(t,e){const n=t[5];for(let i=0;i<n.length;i++){const t=n[i],r=t[3][3][16];if(r!==e&&0==(16&r[2])){const e=t[1];Vi(e,t,e.template,t[8])}}}function ur(t,e){const n=oi(e,t);if(ci(n)&&80&n[2]){const t=n[1];Vi(t,n,t.template,n[8])}}function hr(t,e){const n=oi(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Fi(i,n,n[8])}function dr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function fr(t){for(;t;){t[2]|=64;const e=Si(t);if(Ft(t)&&!e)return t;t=e}return null}function pr(t,e,n){const i=e[10];i.begin&&i.begin();try{Vi(t,e,t.template,n)}catch(r){throw wr(e,r),r}finally{i.end&&i.end()}}function mr(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=si(n),r=i[1];Ui(r,i,r.template,n)}}(t[8])}function gr(t,e,n){ee(0),e(t,n)}const yr=(()=>Promise.resolve(null))();function vr(t){return t[7]||(t[7]=[])}function _r(t){return t.cleanup||(t.cleanup=[])}function br(t,e){return e[t.index][11]}function wr(t,e){const n=t[9],i=n?n.get(sn,null):null;i&&i.handleError(e)}function Er(t,e,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],l=t.data[s];null!==l.setInput?l.setInput(c,r,i,a):c[a]=r}}function Cr(t,e){const n=e[3];return-1===t.index?Rt(n)?n:null:n}function xr(t,e){const n=Cr(t,e);return n?jr(e[11],n[7]):null}function Sr(t,e,n,i,r){if(null!=i){let o,s=!1;Rt(i)?o=i:Pt(i)&&(s=!0,i=i[0]);const a=ti(i);0===t&&null!==n?null==r?Dr(e,n,a):Rr(e,n,a,r||null):1===t&&null!==n?Rr(e,n,a,r||null):2===t?function(t,e,n){const i=jr(t,e);i&&function(t,e,n,i){Ee(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,i,r){const o=n[7];o!==ti(n)&&Sr(e,t,i,o,r);for(let s=9;s<n.length;s++){const r=n[s];Br(r[1],r,t,e,i,o)}}(e,t,o,n,r)}}function Or(t,e,n,i){const r=xr(t.node,e);r&&Br(t,e,e[11],n?1:2,r,i)}function Tr(t,e){const n=t[5],i=n.indexOf(e);n.splice(i,1)}function kr(t,e){if(t.length<=9)return;const n=9+e,i=t[n];if(i){const r=i[17];null!==r&&r!==t&&Tr(r,i),e>0&&(t[n-1][4]=i[4]);const o=lt(t,9+e);Or(i[1],i,!1,null);const s=o[5];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Ir(t,e){if(!(256&e[2])){const n=e[11];Ee(n)&&n.destroyNode&&Br(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Nr(t[1],t);for(;e;){let n=null;if(Pt(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Pt(e)&&Nr(e[1],e),e=Ar(e,t);null===e&&(e=t),Pt(e)&&Nr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ar(t,e){let n;return Pt(t)&&(n=t[6])&&2===n.type?Cr(n,t):t[3]===e?null:t[3]}function Nr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];t instanceof ve||n[i+1].call(t)}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const r=n[i+1],o="function"==typeof r?r(e):ti(e[r]),s=t[n[i+2]],a=n[i+3];"boolean"==typeof a?o.removeEventListener(n[i],s,a):a>=0?t[a]():t[-a].unsubscribe(),i+=2}else n[i].call(t[n[i+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Ee(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&Rt(e[3])){i!==e[3]&&Tr(i,e);const n=e[5];null!==n&&n.detachView(t)}}}function Pr(t,e,n){let i=e.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(e=i).parent;if(null==i){const t=n[6];return 2===t.type?xr(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return ni(e,n).parentNode;if(2&i.flags){const e=t.data,n=e[e[i.index].directiveStart].encapsulation;if(n!==mt.ShadowDom&&n!==mt.Native)return null}return ni(i,n)}function Rr(t,e,n,i){Ee(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function Dr(t,e,n){Ee(t)?t.appendChild(e,n):e.appendChild(n)}function Mr(t,e,n,i){null!==i?Rr(t,e,n,i):Dr(t,e,n)}function jr(t,e){return Ee(t)?t.parentNode(e):e.parentNode}function Lr(t,e){if(2===t.type){const n=Cr(t,e);return null===n?null:Vr(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?ni(t,e):null}function Fr(t,e,n,i){const r=Pr(t,i,e);if(null!=r){const t=e[11],o=Lr(i.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Mr(t,r,n[e],o);else Mr(t,r,n,o)}}function Vr(t,e){const n=9+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){const i=n.type;if(3===i)return ni(n,e);if(0===i)return Vr(-1,e[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return t(e,i);{const t=e[n.index];return Rt(t)?Vr(-1,t):ti(t)}}{const i=e[16],r=i[6],o=Si(i),s=r.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,i)}return e[7]}function Ur(t,e,n,i,r,o,s){for(;null!=n;){const a=i[n.index],c=n.type;s&&0===e&&(a&&hi(ti(a),i),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Ur(t,e,n.child,i,r,o,!1),Sr(e,t,r,a,o)):1===c?zr(t,e,i,n,r,o):Sr(e,t,r,a,o)),n=s?n.projectionNext:n.next}}function Br(t,e,n,i,r,o){Ur(n,i,t.node.child,e,r,o,!1)}function zr(t,e,n,i,r,o){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Sr(e,t,r,a[c],o);else Ur(t,e,a,s[3],r,o,!0)}function qr(t,e,n){Ee(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wr(t,e,n){Ee(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Hr{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,i,r,o=!1){for(;null!==i;){const s=n[i.index];if(null!==s&&r.push(ti(s)),Rt(s))for(let e=9;e<s.length;e++){const n=s[e],i=n[1].firstChild;null!==i&&t(n[1],n,i,r)}const a=i.type;if(4===a||5===a)t(e,n,i.child,r);else if(1===a){const e=n[16],o=e[6],s=Si(e);let a=o.projection[i.projection];null!==a&&null!==s&&t(s[1],s,a,r,!0)}i=o?i.projectionNext:i.next}return r}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ir(this._lView[1],this._lView)}onDestroy(t){var e,n,i;e=this._lView[1],i=t,vr(n=this._lView).push(i),e.firstCreatePass&&_r(e).push(n[7].length-1,null)}markForCheck(){fr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){pr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){$t(!0);try{pr(t,e,n)}finally{$t(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Br(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gr extends Hr{constructor(t){super(t),this._view=t}detectChanges(){mr(this._view)}checkNoChanges(){!function(t){$t(!0);try{mr(t)}finally{$t(!1)}}(this._view)}get context(){return null}}let Qr,Kr,$r;function Yr(t,e,n){return Qr||(Qr=class extends t{}),new Qr(ni(e,n))}function Xr(t,e,n,i){return Kr||(Kr=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ji(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[5];null!==i&&(n[5]=i.createEmbeddedView(e)),Fi(e,n,t);const r=new Hr(n);return r._tViewNode=n[6],r}}),0===n.type?new Kr(i,n,Yr(e,n,i)):null}function Zr(t,e,n,i){let r;$r||($r=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Yr(e,this._hostTNode,this._hostView)}get injector(){return new tn(this._hostTNode,this._hostView)}get parentInjector(){const t=He(this._hostTNode,this._hostView),e=Pe(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let i=Ne(t),r=e,o=e[6];for(;i>1;)r=r[15],o=r[6],i--;return o}(t,this._hostView,this._hostTNode);return Ie(t)&&null!=n?new tn(n,e):new tn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){const t=o.get(ot,null);t&&(r=t)}const s=t.create(o,i,void 0,r);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Rt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new $r(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e);return function(t,e,n,i){const r=9+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-9?(e[4]=n[r],ct(n,9+i,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[5],i=e[3][3][16];16!=(16&i[2])&&e[16]!==i&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(s,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(i,n,this._lContainer,r),Or(i,n,!0,Vr(r,this._lContainer)),t.attachToViewContainerRef(this),ct(this._lContainer[8],r,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=kr(t,e);n&&Ir(n[1],n)})(this._lContainer,e),lt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=kr(this._lContainer,e);return n&&null!=lt(this._lContainer[8],e)?new Hr(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=i[n.index];if(Rt(o))r=o,function(t,e){t[2]=-2}(r);else{let t;if(4===n.type)t=ti(o);else if(t=i[11].createComment(""),Ft(i)){const e=i[11],r=ni(n,i);Rr(e,jr(e,r),t,function(t,e){return Ee(t)?t.nextSibling(e):e.nextSibling}(e,r))}else Fr(i[1],i,t,n);i[n.index]=r=cr(o,i,t,n),dr(i,r)}return new $r(r,n,i)}function Jr(t=!1){return function(t,e,n){if(!n&&Mt(t)){const n=oi(t.index,e);return new Hr(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Hr(e[16],e):null}(Wt(),Bt(),t)}let to=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>eo(),t})();const eo=Jr,no=new W("Set Injector scope."),io={},ro={},oo=[];let so=void 0;function ao(){return void 0===so&&(so=new rt),so}function co(t,e=null,n=null,i){return e=e||ao(),new lo(t,n,e,i)}class lo{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&at(e,n=>this.processProvider(n,t,e)),at([t],t=>this.processInjectorType(t,[],r)),this.records.set(H,fo(void 0,this));const o=this.records.get(no);this.scope=null!=o?o.value:null,this.injectorDefTypes.forEach(t=>this.get(t)),this.source=i||("object"==typeof t?null:O(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=G,n=f.Default){this.assertNotDestroyed();const i=X(this);try{if(!(n&f.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof W)&&v(t);e=n&&this.injectableDefInScope(n)?fo(uo(t),io):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&f.Self?ao():this.parent).get(t,e=n&f.Optional&&e===G?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(O(t)),i)throw o;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=O(e);if(Array.isArray(e))r=e.map(O).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):O(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Q,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{X(i)}var r}toString(){const t=[];return this.records.forEach((e,n)=>t.push(O(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=A(t)))return!1;let i=b(t);const r=null==i&&t.ngModule||void 0,o=void 0===r?t:r,s=-1!==n.indexOf(o);if(void 0!==r&&(i=b(r)),null==i)return!1;if(this.injectorDefTypes.add(o),this.records.set(o,fo(i.factory,io)),null!=i.imports&&!s){let t;n.push(o);try{at(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];at(i,t=>this.processProvider(t,n,i||oo))}}const a=i.providers;if(null!=a&&!s){const e=t;at(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=mo(t=A(t))?t:A(t&&t.provide);const r=function(t,e,n){return po(t)?fo(void 0,t.useValue):fo(ho(t,e,n),io)}(t,e,n);if(mo(t)||!0!==t.multi){const t=this.records.get(i);t&&void 0!==t.multi&&fi()}else{let e=this.records.get(i);e?void 0===e.multi&&fi():(e=fo(void 0,io,!0),e.factory=()=>it(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===ro?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(O(t)):e.value===io&&(e.value=ro,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function uo(t){const e=v(t),n=null!==e?e.factory:At(t);if(null!==n)return n;const i=b(t);if(null!==i)return i.factory;if(t instanceof W)throw new Error(`Token ${O(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ut(e,"?");throw new Error(`Can't resolve all parameters for ${O(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[w]||t[x]||t[C]&&t[C]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ho(t,e,n){let i=void 0;if(mo(t))return uo(A(t));if(po(t))i=()=>A(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...it(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>tt(A(t.useExisting));else{const r=A(t&&(t.useClass||t.provide));if(r||function(t,e,n){let i="";throw t&&e&&(i=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${O(t)}'`+i)}(e,n,t),!function(t){return!!t.deps}(t))return uo(r);i=()=>new r(...it(t.deps))}var r;return i}function fo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function po(t){return null!==t&&"object"==typeof t&&K in t}function mo(t){return"function"==typeof t}const go=function(t,e,n){return co({name:n},e,t,n)};let yo=(()=>{class t{static create(t,e){return Array.isArray(t)?go(t,e,""):go(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=G,t.NULL=new rt,t.\u0275prov=g({token:t,providedIn:"any",factory:()=>tt(H)}),t.__NG_ELEMENT_ID__=-1,t})();const vo=new W("AnalyzeForEntryComponents");let _o=new Map;const bo=new Set;function wo(t){return"string"==typeof t?t:t.text()}function Eo(t,e){let n=t.styles,i=t.classes,r=0;for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?r=t:1==r?i=T(i,t):2==r&&(n=T(n,t+": "+e[++o]+";"))}null!==n&&(t.styles=n),null!==i&&(t.classes=i)}let Co=null;function xo(){if(!Co){const t=j.Symbol;if(t&&t.iterator)Co=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Co=n)}}}return Co}function So(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Oo{constructor(t){this.wrapped=t}static wrap(t){return new Oo(t)}static unwrap(t){return Oo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Oo}}function To(t){return!!ko(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function ko(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Io(t,e,n){return t[e]=n}function Ao(t,e){return t[e]}function No(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Po(t,e,n,i){const r=Bt();return No(r,Xt(),e)&&function(t,e,n,i,r,o,s){const a=ei(t,r),c=r[11];if(null==n)Ee(c)?c.removeAttribute(a,e,s):a.removeAttribute(e);else{const r=ii(i,t),l=null==o?Re(n):o(n,r.tagName||"",e);Ee(c)?c.setAttribute(a,e,l,s):s?a.setAttributeNS(s,e,l):a.setAttribute(e,l)}}(ce(),t,e,zt(),r,n,i),Po}function Ro(t,e,n,i){return No(t,Xt(),n)?e+Re(n)+i:xi}function Do(t,e,n,i,r,o,s,a){const c=Bt(),l=zt(),u=t+19,h=l.firstCreatePass?function(t,e,n,i,r,o,s,a,c){const l=e.consts,u=Li(e,n[6],t,0,s||null,li(l,a));Yi(e,n,u,li(l,c)),de(e,u);const h=u.tViews=Gi(2,-1,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l),d=Qi(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,l,c,e,n,i,r,o,s):l.data[u];Ht(h,!1);const d=c[11].createComment("");Fr(l,c,d,h),hi(d,c),dr(c,c[u]=cr(d,c,d,h)),jt(h)&&qi(l,c,h),null!=s&&Wi(c,h,a)}function Mo(t){return ri(Vt.lFrame.contextLView,t)}function jo(t,e=f.Default){const n=Bt();return null==n?tt(t,e):Qe(Wt(),n,A(t),e)}function Lo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let i=0;for(;i<t;){const r=n[i];if(Se(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<t&&"string"==typeof n[i];)i++;else{if(r===e)return n[i+1];i+=2}}}return null}(Wt(),t)}function Fo(){throw new Error("invalid")}function Vo(t,e,n){const i=Bt();if(No(i,Xt(),e)){const r=ce();$i(zt(),i,r,t,e,n)}return Vo}function Uo(t,e,n,i,r){const o=e.inputs,s=r?"class":"style";Er(t,n,o[s]||r&&o.className,s,i)}function Bo(t,e,n,i){const r=Bt(),o=zt(),s=19+t,a=r[11],c=r[s]=Mi(e,a,Vt.lFrame.currentNamespace),l=o.firstCreatePass?function(t,e,n,i,r,o,s){const a=e.consts,c=li(a,o),l=Li(e,n[6],t,3,r,c);return Yi(e,n,l,li(a,s)),null!==l.mergedAttrs&&Eo(l,l.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,l),l}(t,o,r,0,e,n,i):o.data[s];Ht(l,!0);const u=l.mergedAttrs;null!==u&&xe(a,c,u);const h=l.classes;null!==h&&Wr(a,c,h);const d=l.styles;null!==d&&qr(a,c,d),Fr(o,r,c,l),0===Vt.lFrame.elementDepthCount&&hi(c,r),Vt.lFrame.elementDepthCount++,jt(l)&&(qi(o,r,l),zi(o,l,r)),null!==i&&Wi(r,l)}function zo(){let t=Wt();Gt()?Qt():(t=t.parent,Ht(t,!1));const e=t;Vt.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(de(n,t),Dt(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&Uo(n,e,Bt(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&Uo(n,e,Bt(),e.styles,!1)}function qo(t,e,n,i){Bo(t,e,n,i),zo()}function Wo(t,e,n){const i=Bt(),r=zt(),o=t+19,s=r.firstCreatePass?function(t,e,n,i,r){const o=e.consts,s=li(o,i),a=Li(e,n[6],t,4,"ng-container",s);return null!==s&&Eo(a,s),Yi(e,n,a,li(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,r,i,e,n):r.data[o];Ht(s,!0);const a=i[o]=i[11].createComment("");Fr(r,i,a,s),hi(a,i),jt(s)&&(qi(r,i,s),zi(r,s,i)),null!=n&&Wi(i,s)}function Ho(){let t=Wt();const e=zt();Gt()?Qt():(t=t.parent,Ht(t,!1)),e.firstCreatePass&&(de(e,t),Dt(t)&&e.queries.elementEnd(t))}function Go(t,e,n){Wo(t,e,n),Ho()}function Qo(){return Bt()}function Ko(t){return!!t&&"function"==typeof t.then}function $o(t){return!!t&&"function"==typeof t.subscribe}function Yo(t,e,n=!1,i){const r=Bt(),o=zt(),s=Wt();return Zo(o,r,r[11],s,t,e,n,i),Yo}function Xo(t,e,n=!1,i){const r=Wt(),o=Bt(),s=br(r,o);return Zo(zt(),o,s,r,t,e,n,i),Xo}function Zo(t,e,n,i,r,o,s=!1,a){const c=jt(i),l=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=vr(e);let h=!0;if(3===i.type){const d=ni(i,e),f=a?a(d):yt,p=f.target||d,m=u.length,g=a?t=>a(ti(t[i.index])).target:i.index;if(Ee(n)){let s=null;if(!a&&c&&(s=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const t=r[o];if(t===n&&r[o+1]===i){const t=e[7],n=r[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,r,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ts(i,e,o,!1);const t=n.listen(f.name||p,r,o);u.push(o,t),l&&l.push(r,g,m,m+1)}}else o=ts(i,e,o,!0),p.addEventListener(r,o,s),u.push(o),l&&l.push(r,g,m,s)}const d=i.outputs;let f;if(h&&null!==d&&(f=d[r])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=u.length;u.push(o,t),l&&l.push(r,i.index,s,-(s+1))}}}function Jo(t,e,n){try{return!1!==e(n)}catch(i){return wr(t,i),!1}}function ts(t,e,n,i){return function r(o){if(o===Function)return n;const s=2&t.flags?oi(t.index,e):e;0==(32&e[2])&&fr(s);let a=Jo(e,n,o),c=r.__ngNextListenerFn__;for(;c;)a=Jo(e,c,o)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function es(t=1){return function(t){return(Vt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Vt.lFrame.contextLView))[8]}(t)}function ns(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?bi(t,o,!0):wi(i,o))return r}else n=r}return n}function is(t){const e=Bt()[16][6];if(!e.projection){const n=e.projection=ut(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?ns(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function rs(t,e=0,n){const i=Bt(),r=zt(),o=Li(r,i[6],t,1,null,n||null);null===o.projection&&(o.projection=e),Qt(),function(t,e,n){zr(e[11],0,e,n,Pr(t,n,e),Lr(n.parent||e[6],e))}(r,i,o)}const os=[];function ss(t,e,n,i,r){const o=t[n+1],s=null===e;let a=i?Ii(o):Ni(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];as(t[a],e)&&(c=!0,t[a+1]=i?Ri(n):Ai(n)),a=i?Ii(n):Ni(n)}c&&(t[n+1]=i?Ai(o):Ri(o))}function as(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ft(t,e)>=0}const cs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ls(t){return t.substring(cs.key,cs.keyEnd)}function us(t,e){const n=cs.textEnd;return n===e?-1:(e=cs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,cs.key=e,n),hs(t,e,n))}function hs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ds(t,e,n){return gs(t,e,n,!1),ds}function fs(t,e){return gs(t,e,null,!0),fs}function ps(t){ys(ht,ms,t,!0)}function ms(t,e){for(let n=function(t){return function(t){cs.key=0,cs.keyEnd=0,cs.value=0,cs.valueEnd=0,cs.textEnd=t.length}(t),us(t,hs(t,0,cs.textEnd))}(e);n>=0;n=us(e,n))ht(t,ls(e),!0)}function gs(t,e,n,i){const r=Bt(),o=zt(),s=Zt(2);if(o.firstUpdatePass&&_s(o,t,s,i),e!==xi&&No(r,s,e)){let a;null==n&&(a=function(){const t=Vt.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),Es(o,o.data[ce()+19],r,r[11],t,r[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=O(fn(t)))),t}(e,n),i,s)}}function ys(t,e,n,i){const r=zt(),o=Zt(2);r.firstUpdatePass&&_s(r,null,o,i);const s=Bt();if(n!==xi&&No(s,o,n)){const a=r.data[ce()+19];if(Ss(a,i)&&!vs(r,o)){let t=i?a.classes:a.styles;"string"==typeof n&&(n=T(t,n)),Uo(r,a,s,n,i)}else!function(t,e,n,i,r,o,s,a){r===xi&&(r=os);let c=0,l=0,u=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==u||null!==h;){const d=c<r.length?r[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let p=null,m=void 0;u===h?(c+=2,l+=2,d!==f&&(p=h,m=f)):null===h||null!==u&&u<h?(c+=2,p=u):(l+=2,p=h,m=f),null!==p&&Es(t,e,n,i,p,m,s,a),u=c<r.length?r[c]:null,h=l<o.length?o[l]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return os;const i=[];if(Array.isArray(n))for(let r=0;r<n.length;r++)t(i,n[r],!0);else if("object"==typeof n)if(n instanceof Map)n.forEach((e,n)=>t(i,n,e));else if(n instanceof Set)n.forEach(e=>t(i,e,!0));else for(const r in n)n.hasOwnProperty(r)&&t(i,r,n[r]);else"string"==typeof n&&e(i,n);return i}(t,e,n),i,o)}}function vs(t,e){return e>=t.expandoStartIndex}function _s(t,e,n,i){const r=t.data;if(null===r[n+1]){const o=r[ce()+19],s=vs(t,n);Ss(o,i)&&null===e&&!s&&(e=!1),e=function(t,e,n,i){const r=function(t){const e=Vt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=ws(n=bs(null,t,e,n,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=bs(r,t,e,n,i),null===o){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Ni(i))return t[Ii(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=bs(null,t,e,n[1],i),n=ws(n,e.attrs,i),function(t,e,n,i){t[Ii(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else o=function(t,e,n){let i=void 0;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=ws(i,t[o].hostAttrs,n);return ws(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Ii(s),c=Ni(s);t[i]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||ft(t,l)>0)&&(u=!0)}else l=n;if(r)if(0!==c){const e=Ii(t[a+1]);t[i+1]=ki(e,a),0!==e&&(t[e+1]=Pi(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=ki(a,0),0!==a&&(t[a+1]=Pi(t[a+1],i)),a=i;else t[i+1]=ki(c,0),0===a?a=i:t[c+1]=Pi(t[c+1],i),c=i;u&&(t[i+1]=Ai(t[i+1])),ss(t,l,i,!0),ss(t,l,i,!1),function(t,e,n,i,r){const o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ft(o,e)>=0&&(n[i+1]=Ri(n[i+1]))}(e,l,t,i,o),s=ki(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,n,s,i)}}function bs(t,e,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],i=ws(i,o.hostAttrs,r),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function ws(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ht(t,s,!!n||e[++o]))}return void 0===t?null:t}function Es(t,e,n,i,r,o,s,a){if(3!==e.type)return;const c=t.data,l=c[a+1];xs(1==(1&l)?Cs(c,e,n,r,Ni(l),s):void 0)||(xs(o)||function(t){return 2==(2&t)}(l)&&(o=Cs(c,null,n,r,a,s)),function(t,e,n,i,r){const o=Ee(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{const e=-1==i.indexOf("-")?void 0:2;null==r?o?t.removeStyle(n,i,e):n.style.removeProperty(i):o?t.setStyle(n,i,r,e):n.style.setProperty(i,r)}}(i,s,ei(ce(),n),r,o))}function Cs(t,e,n,i,r,o){const s=null===e;let a=void 0;for(;r>0;){const e=t[r],o=Array.isArray(e),c=o?e[1]:e,l=null===c;let u=n[r+1];u===xi&&(u=l?os:void 0);let h=l?dt(u,i):c===i?u:void 0;if(o&&!xs(h)&&(h=dt(e,i)),xs(h)&&(a=h,s))return a;const d=t[r+1];r=s?Ii(d):Ni(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=dt(t,i))}return a}function xs(t){return void 0!==t}function Ss(t,e){return 0!=(t.flags&(e?16:32))}function Os(t,e=""){const n=Bt(),i=zt(),r=t+19,o=i.firstCreatePass?Li(i,n[6],t,3,null,null):i.data[r],s=n[r]=function(t,e){return Ee(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Fr(i,n,s,o),Ht(o,!1)}function Ts(t){return ks("",t,""),Ts}function ks(t,e,n){const i=Bt(),r=Ro(i,t,e,n);return r!==xi&&function(t,e,n){const i=ei(e,t),r=t[11];Ee(r)?r.setValue(i,n):i.textContent=n}(i,ce(),r),ks}function Is(t,e,n){ys(ht,ms,Ro(Bt(),t,e,n),!0)}function As(t,e,n){const i=Bt();if(No(i,Xt(),e)){const r=ce();$i(zt(),i,r,t,e,n,!0)}return As}function Ns(t,e,n){const i=Bt();if(No(i,Xt(),e)){const r=ce();$i(zt(),i,r,t,e,n,!0,br)}return Ns}function Ps(t,e){const n=si(t)[1],i=n.data.length-1;de(n,{directiveStart:i,directiveEnd:i+1})}function Rs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r=void 0;if(Lt(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=Ds(t.inputs),e.declaredInputs=Ds(t.declaredInputs),e.outputs=Ds(t.outputs);const n=r.hostBindings;n&&Ls(t,n);const o=r.viewQuery,s=r.contentQueries;o&&Ms(t,o),s&&js(t,s),m(t.inputs,r.inputs),m(t.declaredInputs,r.declaredInputs),m(t.outputs,r.outputs),e.afterContentChecked=e.afterContentChecked||r.afterContentChecked,e.afterContentInit=t.afterContentInit||r.afterContentInit,e.afterViewChecked=t.afterViewChecked||r.afterViewChecked,e.afterViewInit=t.afterViewInit||r.afterViewInit,e.doCheck=t.doCheck||r.doCheck,e.onDestroy=t.onDestroy||r.onDestroy,e.onInit=t.onInit||r.onInit}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===Rs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Te(r.hostAttrs,n=Te(n,r.hostAttrs))}}(i)}function Ds(t){return t===yt?{}:t===vt?[]:t}function Ms(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function js(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Ls(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}class Fs{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Vs(){return Us.ngInherit=!0,Us}function Us(t){t.type.prototype.ngOnChanges&&(t.setInput=Bs,t.onChanges=function(){const t=zs(this),e=t&&t.current;if(e){const n=t.previous;if(n===yt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Bs(t,e,n,i){const r=zs(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:yt,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],c=s[a];o[a]=new Fs(c&&c.currentValue,e,s===yt),t[i]=e}function zs(t){return t.__ngSimpleChanges__||null}function qs(t,e,n,i,r){if(t=A(t),Array.isArray(t))for(let o=0;o<t.length;o++)qs(t[o],e,n,i,r);else{const o=zt(),s=Bt();let a=mo(t)?t:A(t.provide),c=ho(t);const l=Wt(),u=65535&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>16;if(t.useClass||mo(t)){const n=(t.useClass||t).prototype.ngOnDestroy;n&&(o.destroyHooks||(o.destroyHooks=[])).push(e.length,n)}if(mo(t)||!t.multi){const t=new ve(c,r,jo),i=Hs(a,e,r?u:u+d,h);-1==i?(Ge(ze(l,s),o,a),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=65536),n.push(t),s.push(t)):(n[i]=t,s[i]=t)}else{const t=Hs(a,e,u+d,h),f=Hs(a,e,u,u+d),p=t>=0&&n[t],m=f>=0&&n[f];if(r&&!m||!r&&!p){Ge(ze(l,s),o,a);const t=function(t,e,n,i,r){const o=new ve(t,n,jo);return o.multi=[],o.index=e,o.componentProviders=0,Ws(o,r,i&&!n),o}(r?Qs:Gs,n.length,r,i,c);!r&&m&&(n[f].providerFactory=t),e.push(a),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=65536),n.push(t),s.push(t)}else Ws(n[r?f:t],c,!r&&i);!r&&i&&m&&n[f].componentProviders++}}}function Ws(t,e,n){t.multi.push(e),n&&t.componentProviders++}function Hs(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Gs(t,e,n,i){return Ks(this.multi,[])}function Qs(t,e,n,i){const r=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Xe(n,n[1],this.providerFactory.index,i);o=e.slice(0,t),Ks(r,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ks(r,o);return o}function Ks(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $s(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=zt();if(i.firstCreatePass){const r=Lt(t);qs(n,i.data,i.blueprint,r,!0),qs(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}class Ys{}class Xs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${O(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Zs=(()=>{class t{}return t.NULL=new Xs,t})(),Js=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ta(t),t})();const ta=function(t){return Yr(t,Wt(),Bt())};class ea{}const na=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ra(),t})();const ra=function(){const t=Bt(),e=oi(Wt().index,t);return function(t){const e=t[11];if(Ee(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Pt(e)?e:t)};let oa=(()=>{class t{}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>null}),t})();class sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const aa=new sa("9.0.0");class ca{constructor(){}supports(t){return To(t)}create(t){return new ua(t)}}const la=(t,e)=>e;class ua{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||la}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const o=!n||e&&e.currentIndex<pa(n,i,r)?e:n,s=pa(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);const t=s-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;e<=o&&o<t&&(r[n]=i+1)}r[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!To(t))throw new Error(`Error trying to diff '${O(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&So(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,e)),So(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),o=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xo()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&So(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,t,i,e)),So(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),o=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(So(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(So(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new ha(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new fa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ha{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class da{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&So(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class fa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new da,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pa(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class ma{constructor(){}supports(t){return t instanceof Map||ko(t)}create(){return new ga}}class ga{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ko(t)))throw new Error(`Error trying to diff '${O(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new ya(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){So(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ya{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new u]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new ca])}),t})(),_a=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new u]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=g({token:t,providedIn:"root",factory:()=>new t([new ma])}),t})();const ba=[new ma],wa=new va([new ca]),Ea=new _a(ba);let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xa(t,Js),t})();const xa=function(t,e){return Xr(t,e,Wt(),Bt())};let Sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Oa(t,Js),t})();const Oa=function(t,e){return Zr(t,e,Wt(),Bt())},Ta={};function ka(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ia=new W("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Me});class Aa extends Ys{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ci).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ka(this.componentDef.inputs)}get outputs(){return ka(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const o=t.get(n,Ta,r);return o!==Ta||i===Ta?o:e.get(n,i,r)}}}(t,i.injector):t,o=r.get(ea,Ce),s=r.get(oa,null),a=o.createRenderer(null,this.componentDef),c=n?function(t,e,n){if(Ee(t))return t.selectRootElement(e,n===mt.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Mi(this.componentDef.selectors[0][0]||"div",o.createRenderer(null,this.componentDef),null),l=this.componentDef.onPush?576:528,u="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h={components:[],scheduler:Me,clean:yr,playerHandler:null,flags:0},d=Gi(0,-1,null,1,0,null,null,null,null,null),f=ji(null,d,h,l,null,null,o,a,s,r),p=n&&c?aa.full:null;let m,g;re(f,null);try{const t=function(t,e,n,i,r,o,s){const a=n[1];n[19]=t;const c=Li(a,null,0,3,null,null),l=c.mergedAttrs=e.hostAttrs;null!==l&&(Eo(c,l),null!==t&&(xe(r,t,l),null!==c.classes&&Wr(r,t,c.classes),null!==c.styles&&qr(r,t,c.styles)));const u=i.createRenderer(t,e);null!==t&&o&&(Ee(r)?r.setAttribute(t,"ng-version",o):t.setAttribute("ng-version",o));const h=ji(n,Hi(e),null,e.onPush?64:16,n[19],c,i,u,null);return a.firstCreatePass&&(Ge(ze(c,n),a,e.type),er(a,c),ir(c,n.length,1)),dr(n,h),n[19]=h}(c,this.componentDef,f,o,a,p);g=ii(f[1],0),e&&(g.projection=e.map(t=>Array.from(t))),m=function(t,e,n,i,r){const o=n[1],s=function(t,e,n){const i=Wt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),tr(t,i,1),rr(t,e,n));const r=Xe(e,t,e.length-1,i);hi(r,e);const o=ni(i,e);return o&&hi(o,e),r}(o,n,e);i.components.push(s),t[8]=s,r&&r.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=Wt();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){le(a.index-19);const t=n[1];Xi(t,e),Zi(t,n,e.hostVars),Ji(e,s)}return s}(t,this.componentDef,f,h,[Ps]),Fi(d,f,null)}finally{ae()}const y=new Na(this.componentType,m,Yr(Js,g,f),f,g);return n&&!u||(y.hostView._tViewNode.child=g),y}}class Na extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Gr(i),this.hostView._tViewNode=function(t,e,n,i){let r=t.node;return null==r&&(t.node=r=Qi(0,null,2,-1,null,null)),i[6]=r}(i[1],0,0,i),this.componentType=t}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Pa=void 0;var Ra=["en",[["a","p"],["AM","PM"],Pa],[["AM","PM"],Pa,Pa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pa,"{1} 'at' {0}",Pa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Da={};function Ma(t,e,n){"string"!=typeof e&&(n=e,e=t[Ua.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Da[e]=t,n&&(Da[e][Ua.ExtraData]=n)}function ja(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Va(e);if(n)return n;const i=e.split("-")[0];if(n=Va(i),n)return n;if("en"===i)return Ra;throw new Error(`Missing locale data for the locale "${t}".`)}function La(t){return ja(t)[Ua.CurrencyCode]||null}function Fa(t){return ja(t)[Ua.PluralCase]}function Va(t){return t in Da||(Da[t]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[t]),Da[t]}const Ua=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Ba="en-US";function za(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ba=t.toLowerCase().replace(/_/g,"-"))}const qa=new Map,Wa={provide:Zs,useClass:class extends Zs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=It(t);return new Aa(e,this.ngModule)}},deps:[ot]};class Ha extends ot{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[];const n=Nt(t),i=t[B]||null;i&&za(i),this._bootstrapComponents=Fe(n.bootstrap),this._r3Injector=co(t,e,[{provide:ot,useValue:this},Wa],O(t)),this.instance=this.get(t)}get(t,e=yo.THROW_IF_NOT_FOUND,n=f.Default){return t===yo||t===ot||t===H?this:this._r3Injector.get(t,e,n)}get componentFactoryResolver(){return this.get(Zs)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ga extends st{constructor(t){super(),this.moduleType=t,null!==Nt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${O(e)} vs ${O(e.name)}`)})(t,qa.get(t),e),qa.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Ha(this.moduleType,t)}}function Qa(t,e,n){const i=Yt()+t,r=Bt();return r[i]===xi?Io(r,i,n?e.call(n):e()):Ao(r,i)}function Ka(t,e,n,i){return Ya(Bt(),Yt(),t,e,n,i)}function $a(t,e,n,i,r){return function(t,e,n,i,r,o,s){const a=e+n;return function(t,e,n,i){const r=No(t,e,n);return No(t,e+1,i)||r}(t,a,r,o)?Io(t,a+2,s?i.call(s,r,o):i(r,o)):Ao(t,a+2)}(Bt(),Yt(),t,e,n,i,r)}function Ya(t,e,n,i,r,o){const s=e+n;return No(t,s,r)?Io(t,s+1,o?i.call(o,r):i(r)):Ao(t,s+1)}function Xa(t,e){const n=zt();let i;const r=t+19;n.firstCreatePass?(i=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const i=e[n];if(t===i.name)return i}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=(i.factory||(i.factory=At(i.type)))();return function(t,e,n,i){const r=n+19;r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=i}(n,Bt(),t,o),o}function Za(t,e,n){const i=Bt(),r=ri(i,t);return function(t,e){return Oo.isWrapped(e)&&(e=Oo.unwrap(e),t[Vt.lFrame.bindingIndex]=xi),e}(i,function(t,e){return t[1].data[e+19].pure}(i,t)?Ya(i,Yt(),e,r.transform,n,r):r.transform(n))}class Ja extends i.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,o=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(i,o,s);return t instanceof r.a&&t.add(a),a}}function tc(){return this._results[xo()]()}class ec{constructor(){this.dirty=!0,this._results=[],this.changes=new Ja,this.length=0;const t=xo(),e=ec.prototype;e[t]||(e[t]=tc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class nc{constructor(t){this.queryList=t,this.matches=null}clone(){return new nc(this.queryList)}setDirty(){this.queryList.setDirty()}}class ic{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new ic(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==bc(t,e).matches&&this.queries[e].setDirty()}}class rc{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class oc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new oc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class sc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new sc(this.metadata)):null}isApplyingToNode(t){return this._appliesToNextNode&&!1===this.metadata.descendants?this._declarationNodeIndex===(t.parent?t.parent.index:-1):this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let i=0;i<n.length;i++)this.matchTNodeWithReadOption(t,e,ac(e,n[i]))}else{const n=this.metadata.predicate;n===Ca?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Js||i===Sa||i===Ca&&0===e.type)this.addMatch(e.index,-2);else{const n=Ye(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ac(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function cc(t,e,n,i){return-1===n?function(t,e){return 3===t.type||4===t.type?Yr(Js,t,e):0===t.type?Xr(Ca,Js,t,e):null}(e,t):-2===n?function(t,e,n){return n===Js?Yr(Js,e,t):n===Ca?Xr(Ca,Js,e,t):n===Sa?Zr(Sa,Js,e,t):void 0}(t,e,i):Xe(t,t[1],n,e)}function lc(t,e,n,i){const r=e[5].queries[i];if(null===r.matches){const i=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const r=o[t];s.push(r<0?null:cc(e,i[r],o[t+1],n.metadata.read))}r.matches=s}return r.matches}function uc(t){const e=Bt(),n=zt(),i=te();ee(i+1);const r=bc(n,i);if(t.dirty&&ai(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const o=r.crossesNgTemplate?function t(e,n,i,r){const o=e.queries.getByIndex(i),s=o.matches;if(null!==s){const a=lc(e,n,o,i);for(let e=0;e<s.length;e+=2){const i=s[e];if(i>0)r.push(a[e/2]);else{const o=s[e+1],a=n[-i];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,r)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const i=e[n];t(i[1],i,o,r)}}}}}return r}(n,e,i,[]):lc(n,e,r,i);t.reset(o),t.notifyOnChanges()}return!0}return!1}function hc(t,e,n){fc(zt(),Bt(),t,e,n,!0)}function dc(t,e,n){fc(zt(),Bt(),t,e,n,!1)}function fc(t,e,n,i,r,o){t.firstCreatePass&&(_c(t,new rc(n,i,o,r),-1),o&&(t.staticViewQueries=!0)),vc(t,e)}function pc(t,e,n,i){gc(zt(),Bt(),e,n,i,!1,Wt(),t)}function mc(t,e,n,i){gc(zt(),Bt(),e,n,i,!0,Wt(),t)}function gc(t,e,n,i,r,o,s,a){t.firstCreatePass&&(_c(t,new rc(n,i,o,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),vc(t,e)}function yc(){return t=Bt(),e=te(),t[5].queries[e].queryList;var t,e}function vc(t,e){const n=new ec;!function(t,e,n,i){const r=vr(e);r.push(n),t.firstCreatePass&&_r(t).push(i,r.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new ic),e[5].queries.push(new nc(n))}function _c(t,e,n){null===t.queries&&(t.queries=new oc),t.queries.track(new sc(e,n))}function bc(t,e){return t.queries.getByIndex(e)}function wc(t=f.Default){const e=Jr(!0);if(null!=e||t&f.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Ec=new W("Application Initializer");let Cc=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ko(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(tt(Ec,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const xc=new W("AppId"),Sc={provide:xc,useFactory:function(){return`${Oc()}${Oc()}${Oc()}`},deps:[]};function Oc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tc=new W("Platform Initializer"),kc=new W("Platform ID"),Ic=new W("appBootstrapListener");let Ac=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const Nc=new W("LocaleId"),Pc=new W("DefaultCurrencyCode");class Rc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Dc=function(t){return new Ga(t)},Mc=Dc,jc=function(t){return Promise.resolve(Dc(t))},Lc=function(t){const e=Dc(t),n=Fe(Nt(t).declarations).reduce((t,e)=>{const n=It(e);return n&&t.push(new Aa(n)),t},[]);return new Rc(e,n)},Fc=Lc,Vc=function(t){return Promise.resolve(Lc(t))};let Uc=(()=>{class t{constructor(){this.compileModuleSync=Mc,this.compileModuleAsync=jc,this.compileModuleAndAllComponentsSync=Fc,this.compileModuleAndAllComponentsAsync=Vc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();const Bc=new W("compilerOptions"),zc=(()=>Promise.resolve(0))();function qc(t){"undefined"==typeof Zone?zc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Wc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ja(!1),this.onMicrotaskEmpty=new Ja(!1),this.onStable=new Ja(!1),this.onError=new Ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=j.requestAnimationFrame,e=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(j,()=>{t.lastRequestAnimationFrameId=-1,Kc(t),Qc(t)}),Kc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,r,o,s,a)=>{try{return $c(t),n.invokeTask(r,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Yc(t)}},onInvoke:(e,n,i,r,o,s,a)=>{try{return $c(t),e.invoke(i,r,o,s,a)}finally{Yc(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,Kc(t),Qc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,Gc,Hc,Hc);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Hc(){}const Gc={};function Qc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Kc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function $c(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yc(t){t._nesting--,Qc(t)}class Xc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ja,this.onMicrotaskEmpty=new Ja,this.onStable=new Ja,this.onError=new Ja}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let Zc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wc.assertNotInAngularZone(),qc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(tt(Wc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})(),Jc=(()=>{class t{constructor(){this._applications=new Map,il.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return il.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();class tl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function el(t){il=t}let nl,il=new tl,rl=function(t,e,n){const i=new Ga(n);if(0===_o.size)return Promise.resolve(i);const r=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(Bc,[]).concat(e).map(t=>t.providers));if(0===r.length)return Promise.resolve(i);const o=function(){const t=j.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),s=yo.create({providers:r}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function i(t){let e=n.get(t);if(!e){const i=(t=>Promise.resolve(s.get(t)))(t);n.set(t,e=i.then(wo))}return e}return _o.forEach((t,n)=>{const r=[];t.templateUrl&&r.push(i(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),r.push(i(e).then(i=>{s[a+n]=i,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const c=Promise.all(r).then(()=>function(t){bo.delete(t)}(n));e.push(c)}),_o=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const ol=new W("AllowMultipleToken");class sl{constructor(t,e){this.name=t,this.token=e}}function al(t,e,n=[]){const i=`Platform: ${e}`,r=new W(i);return(e=[])=>{let o=cl();if(!o||o.injector.get(ol,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:no,useValue:"platform"});!function(t){if(nl&&!nl.destroyed&&!nl.injector.get(ol,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");nl=t.get(ll);const e=t.get(Tc,null);e&&e.forEach(t=>t())}(yo.create({providers:t,name:i}))}return function(t){const e=cl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function cl(){return nl&&!nl.destroyed?nl:null}let ll=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Xc:("zone.js"===t?void 0:t)||new Wc({enableLongStackTrace:Cn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:Wc,useValue:n}];return n.run(()=>{const e=yo.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(sn,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>dl(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const i=n();return Ko(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(o,n,()=>{const t=r.injector.get(Cc);return t.runInitializers(),t.donePromise.then(()=>(za(r.injector.get(Nc,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=ul({},e);return rl(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(hl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${O(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(tt(yo))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function ul(t,e){return Array.isArray(e)?e.reduce(ul,t):Object.assign(Object.assign({},t),e)}let hl=(()=>{class t{constructor(t,e,n,i,r,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Cn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Wc.assertNotInAngularZone(),qc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Wc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(l,u.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ys?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(ot),r=n.create(yo.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const o=r.injector.get(Zc,null);return o&&r.injector.get(Jc).registerApplication(r.location.nativeElement,o),this._loadComponent(r),Cn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;dl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ic,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),dl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(tt(Wc),tt(Ac),tt(yo),tt(sn),tt(Zs),tt(Cc))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function dl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class fl{}class pl{}const ml={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let gl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||ml}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split("#");return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>yl(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+r]).then(t=>yl(t,e,i))}}return t.\u0275fac=function(e){return new(e||t)(tt(Uc),tt(pl,8))},t.\u0275prov=g({token:t,factory:t.\u0275fac}),t})();function yl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class vl extends to{}class _l extends vl{}const bl=function(t){return null},wl=al(null,"core",[{provide:kc,useValue:"unknown"},{provide:ll,deps:[yo]},{provide:Jc,deps:[]},{provide:Ac,deps:[]}]),El=[{provide:hl,useClass:hl,deps:[Wc,Ac,yo,sn,Zs,Cc]},{provide:Ia,deps:[Wc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Cc,useClass:Cc,deps:[[new u,Ec]]},{provide:Uc,useClass:Uc,deps:[]},Sc,{provide:va,useFactory:function(){return wa},deps:[]},{provide:_a,useFactory:function(){return Ea},deps:[]},{provide:Nc,useFactory:function(t){return za(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new l(Nc),new u,new d]]},{provide:Pc,useValue:"USD"}];let Cl=(()=>{class t{constructor(t){}}return t.\u0275mod=xt({type:t}),t.\u0275inj=y({factory:function(e){return new(e||t)(tt(hl))},providers:El}),t})()},EWqr:function(t,e,n){"use strict";var i=n("bwdy");class r extends i.a{constructor(t,e){super()}schedule(t,e=0){return this}}n.d(e,"a",(function(){return o}));class o extends r{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},EeOn:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return ai})),n.d(e,"EventType",(function(){return ci})),n.d(e,"WebChannel",(function(){return li})),n.d(e,"XhrIo",(function(){return ui})),n.d(e,"createWebChannelTransport",(function(){return si}));var i,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=r;function a(t){return"string"==typeof t}function c(t){return"number"==typeof t}function l(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function u(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function E(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function C(){this.j=this.j,this.i=this.i}C.prototype.j=!1,C.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},C.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=a(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)};function O(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var I,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function N(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var R=s.navigator;if(R){var D=R.userAgent;if(D){I=D;break t}}I=""}function M(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function j(t){var e,n={};for(e in t)n[e]=t[e];return n}var L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<L.length;o++)n=L[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function V(t){return V[" "](t),t}V[" "]=u;var U,B,z=N(I,"Opera"),q=N(I,"Trident")||N(I,"MSIE"),W=N(I,"Edge"),H=W||q,G=N(I,"Gecko")&&!(N(I.toLowerCase(),"webkit")&&!N(I,"Edge"))&&!(N(I,"Trident")||N(I,"MSIE"))&&!N(I,"Edge"),Q=N(I.toLowerCase(),"webkit")&&!N(I,"Edge");function K(){var t=s.document;return t?t.documentMode:void 0}t:{var $="",Y=(B=I,G?/rv:([^\);]+)(\)|;)/.exec(B):W?/Edge\/([\d\.]+)/.exec(B):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):Q?/WebKit\/(\S+)/.exec(B):z?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Y&&($=Y?Y[1]:""),q){var X=K();if(null!=X&&X>parseFloat($)){U=String(X);break t}}U=$}var Z,J={};function tt(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=A(String(U)).split("."),i=A(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var s=n[o]||"",a=i[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=P(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==s[2].length,0==a[2].length)||P(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var et=s.document;Z=et&&q?K()||("CSS1Compat"==et.compatMode?parseInt(U,10):5):void 0;var nt=!q||9<=Number(Z),it=q&&!tt("9"),rt=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",u,e),s.removeEventListener("test",u,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{V(e.nodeName);var r=!0;break t}catch(o){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ia=!1},E(st,ot);var at={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,it)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ct="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ut(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.da=r,this.key=++lt,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function ft(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=x(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==i)return r}return-1}dt.prototype.add=function(t,e,n,i,r){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=pt(t,e,i,r);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ut(e,this.src,o,!!i,r)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(t,e,n,i,r){if(i&&i.once)return function t(e,n,i,r,o){if(d(n)){for(var s=0;s<n.length;s++)t(e,n[s],i,r,o);return null}return i=xt(i),e&&e[ct]?e.Aa(n,i,p(r)?!!r.capture:!!r,o):vt(e,n,i,!0,r,o)}(t,e,n,i,r);if(d(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,i,r);return null}return n=xt(n),t&&t[ct]?t.za(e,n,p(i)?!!i.capture:!!i,r):vt(t,e,n,!1,i,r)}function vt(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var s=p(r)?!!r.capture:!!r;if(s&&!nt)return null;var a=Et(t);if(a||(t[mt]=a=new dt(t)),(n=a.add(e,n,i,s,o)).proxy)return n;if(i=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)rt||(r=s),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(bt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function _t(t){if(!c(t)&&t&&!t.X){var e=t.src;if(e&&e[ct])ft(e.c,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(bt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Et(e))?(ft(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function bt(t){return t in gt?gt[t]:gt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,i=t.da||t.src;return t.Z&&_t(t),n.call(i,e)}(t,nt?new st(e,this):e=new st(e||l("window.event"),this))}function Et(t){return(t=t[mt])instanceof dt?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(t){return"function"==h(t)?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function St(){C.call(this),this.c=new dt(this),this.J=this,this.B=null}function Ot(t,e,n,i){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var a=s.listener,c=s.da||s.src;s.Z&&ft(t.c,s),r=!1!==a.call(c,i)&&r}}return r&&0!=i.Ia}E(St,C),St.prototype[ct]=!0,(i=St.prototype).addEventListener=function(t,e,n,i){yt(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){!function t(e,n,i,r,o){if(d(n))for(var s=0;s<n.length;s++)t(e,n[s],i,r,o);else r=p(r)?!!r.capture:!!r,i=xt(i),e&&e[ct]?(e=e.c,(n=String(n).toString())in e.a&&-1<(i=pt(s=e.a[n],i,r,o))&&(ht(s[i]),Array.prototype.splice.call(s,i,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Et(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,i,r,o)),(i=-1<e?n[e]:null)&&_t(i))}(this,t,e,n,i)},i.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var i=t.type||t;if(a(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var r=t;F(t=new ot(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];r=Ot(s,i,!0,t)&&r}if(r=Ot(s=t.a=n,i,!0,t)&&r,r=Ot(s,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Ot(s=t.a=e[o],i,!1,t)&&r;return r},i.G=function(){if(St.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)ht(n[i]);delete e.a[t],e.b--}}this.B=null},i.za=function(t,e,n,i){return this.c.add(String(t),e,!1,n,i)},i.Aa=function(t,e,n,i){return this.c.add(String(t),e,!0,n,i)};var Tt=s.JSON.stringify;function kt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function It(){this.b=this.a=null}kt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var At,Nt=new kt((function(){return new Rt}),(function(t){t.reset()}));function Pt(){var t=Lt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Rt(){this.next=this.b=this.a=null}function Dt(t){s.setTimeout((function(){throw t}),0)}function Mt(t,e){At||function(){var t=s.Promise.resolve(void 0);At=function(){t.then(Ft)}}(),jt||(At(),jt=!0),Lt.add(t,e)}It.prototype.add=function(t,e){var n=Nt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Rt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Rt.prototype.reset=function(){this.next=this.b=this.a=null};var jt=!1,Lt=new It;function Ft(){for(var t;t=Pt();){try{t.a.call(t.b)}catch(n){Dt(n)}var e=Nt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}jt=!1}function Vt(t,e){St.call(this),this.b=t||1,this.a=e||s,this.f=_(this.gb,this),this.g=w()}function Ut(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function zt(t,e,n){C.call(this),this.f=null!=n?_(t,n):t,this.c=e,this.b=_(this.$a,this),this.a=[]}function qt(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function Wt(t){C.call(this),this.b=t,this.a={}}E(Vt,St),(i=Vt.prototype).ba=!1,i.L=null,i.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ut(this),this.start()))}},i.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},i.G=function(){Vt.N.G.call(this),Ut(this),delete this.a},E(zt,C),(i=zt.prototype).ea=!1,i.U=null,i.Ta=function(t){this.a=arguments,this.U?this.ea=!0:qt(this)},i.G=function(){zt.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},i.$a=function(){this.U=null,this.ea&&(this.ea=!1,qt(this))},E(Wt,C);var Ht=[];function Gt(t,e,n,i){d(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var r=0;r<n.length;r++){var o=yt(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Qt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&_t(t)}),t),t.a={}}function Kt(){}Wt.prototype.G=function(){Wt.N.G.call(this),Qt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=new St;function Yt(t){ot.call(this,"serverreachability",t)}function Xt(t){$t.dispatchEvent(new Yt($t,t))}function Zt(t){ot.call(this,"statevent",t)}function Jt(t){$t.dispatchEvent(new Zt($t,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}E(Yt,ot),E(Zt,ot),E(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,La:7,TIMEOUT:8,sb:9},ie={jb:"complete",wb:"success",Ma:"error",La:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function re(){}function oe(){}re.prototype.a=null;var se,ae={OPEN:"a",ib:"b",Ma:"c",rb:"d"};function ce(){ot.call(this,"d")}function le(){ot.call(this,"c")}function ue(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Wt(this),this.O=de,this.P=new Vt(t=H?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}E(ce,ot),E(le,ot),E(ue,re),se=new ue;var de=45e3,fe={},pe={};function me(t,e,n){t.F=1,t.f=Ue(Re(e)),t.l=n,t.H=!0,ye(t,null)}function ge(t,e,n,i){t.F=1,t.f=Ue(Re(e)),t.l=null,t.H=n,ye(t,i)}function ye(t,e){t.v=w(),be(t),t.D=Re(t.f),Ve(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new zt(_(t.Ja,t,t.a),t.J)),Gt(t.I,t.a,"readystatechange",t.cb),e=t.h?j(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Xt(1)}function ve(t,e,n){for(var i=!0;!t.m&&t.A<n.length;){var r=_e(t,n);if(r==pe){4==e&&(t.c=4,Jt(14),i=!1);break}if(r==fe){t.c=4,Jt(15),i=!1;break}Se(t,r)}4==e&&0==n.length&&(t.c=1,Jt(16),i=!1),t.b=t.b&&i,i||(xe(t),Ce(t))}function _e(t,e){var n=t.A,i=e.indexOf("\n",n);return-1==i?pe:(n=Number(e.substring(n,i)),isNaN(n)?fe:(i+=1)+n>e.length?pe:(e=e.substr(i,n),t.A=i+n,e))}function be(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(_(t.ab,t),e)}function Ee(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Ce(t){t.g.Ca()||t.m||t.g.na(t)}function xe(t){Ee(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ut(t.P),Qt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Se(t,e){try{t.g.Fa(t,e),Xt(4)}catch(n){}}function Oe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||a(t))S(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(f(t)||a(t)){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else for(r in n=[],i=0,t)n[i++]=r;r=(i=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(f(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t)).length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function Te(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Te)for(n=t.K(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function ke(t,e){Ae(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ie(t))}function Ie(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Ae(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)Ae(r,i=t.a[e])||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(i=he.prototype).setTimeout=function(t){this.O=t},i.cb=function(t){t=t.target;var e=this.B;e&&3==Rn(t)?e.Ta():this.Ja(t)},i.Ja=function(t){try{if(t==this.a)t:{var e=Rn(this.a),n=this.a.ya(),i=this.a.T();if(!(3>e||3==e&&!H&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=i?3:2),Ee(this);var r=this.a.T();this.o=r;var o=this.a.aa();if(this.b=200==r){if(this.S&&!this.s){e:{if(this.a){var s=Dn(this.a,"X-HTTP-Initial-Response");if(s&&!k(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,Jt(12),xe(this),Ce(this);break t}this.s=!0,Se(this,a)}this.H?(ve(this,e,o),H&&this.b&&3==e&&(Gt(this.I,this.P,"tick",this.bb),this.P.start())):Se(this,o),4==e&&xe(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,be(this)))}else 400==r&&0<o.indexOf("Unknown SID")?(this.c=3,Jt(12)):(this.c=0,Jt(13)),xe(this),Ce(this)}}}catch(c){}},i.bb=function(){if(this.a){var t=Rn(this.a),e=this.a.aa();this.A<e.length&&(Ee(this),ve(this,t,e),this.b&&4!=t&&be(this))}},i.cancel=function(){this.m=!0,xe(this)},i.ab=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),Jt(17)),xe(this),this.c=2,Ce(this)):we(this,this.R-t)},(i=Te.prototype).C=function(){Ie(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},i.K=function(){return Ie(this),this.a.concat()},i.get=function(t,e){return Ae(this.b,t)?this.b[t]:e},i.set=function(t,e){Ae(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},i.forEach=function(t,e){for(var n=this.K(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Ne=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pe(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Pe?(this.h=void 0!==e?e:t.h,De(this,t.f),this.j=t.j,Me(this,t.b),je(this,t.i),this.a=t.a,Le(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Ne))?(this.h=!!e,De(this,n[1]||"",!0),this.j=Be(n[2]||""),Me(this,n[3]||"",!0),je(this,n[4]),this.a=Be(n[5]||"",!0),Le(this,n[6]||"",!0),this.g=Be(n[7]||"")):(this.h=!!e,this.c=new $e(null,this.h))}function Re(t){return new Pe(t)}function De(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?Be(e,!0):e}function je(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Le(t,e,n){e instanceof $e?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Je(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=ze(e,Qe)),t.c=new $e(e,t.h))}function Fe(t,e,n){t.c.set(e,n)}function Ve(t,e,n){d(n)||(n=[String(n)]),Je(t.c,e,n)}function Ue(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ze(t,e,n){return a(t)?(t=encodeURI(t).replace(e,qe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ze(e,We,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ze(e,We,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ze(n,"/"==n.charAt(0)?Ge:He,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",ze(n,Ke)),t.join("")},Pe.prototype.resolve=function(t){var e=Re(this),n=!!t.f;n?De(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var i=t.a;if(n)je(e,t.i);else if(n=!!t.a){if("/"!=i.charAt(0))if(this.b&&!this.a)i="/"+i;else{var r=e.a.lastIndexOf("/");-1!=r&&(i=e.a.substr(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(N(r,"./")||N(r,"/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],s=0;s<r.length;){var a=r[s++];"."==a?i&&s==r.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&s==r.length&&o.push("")):(o.push(a),i=!0)}i=o.join("/")}else i=r}return n?e.a=i:n=""!==t.c.toString(),n?Le(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var We=/[#\/\?@]/g,He=/[#\?:]/g,Ge=/[#\?]/g,Qe=/[#\?@]/g,Ke=/#/g;function $e(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Te,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Ye(t),e=en(t,e),Ae(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ke(t.a,e))}function Ze(t,e){return Ye(t),e=en(t,e),Ae(t.a.b,e)}function Je(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),T(n)),t.b+=n.length)}function tn(t){var e=new $e;return e.c=t.c,t.a&&(e.a=new Te(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Jt(4),e?(Jt(10),Gn(t.a,t,!1)):(Jt(11),Gn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Xn(e=t.a,e.Y()?t.f:null,t.i),Jt(4),Ve(e,"TYPE","xmlhttp");var n=t.a.j,i=t.a.I;n&&i&&Fe(e,n,i),ge(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function sn(){this.a=new Te}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function cn(t,e){this.b=t,this.a=e}function ln(t){this.g=t||un,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ka&&s.ka.Da&&s.ka.Da()&&s.ka.Da().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(i=$e.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},i.forEach=function(t,e){Ye(this),this.a.forEach((function(n,i){S(n,(function(n){t.call(e,n,i,this)}),this)}),this)},i.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},i.C=function(t){Ye(this);var e=[];if(a(t))Ze(this,t)&&(e=O(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=O(e,t[n])}return e},i.set=function(t,e){return Ye(this),this.c=null,Ze(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},i.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},i.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.C(i);for(var o=0;o<i.length;o++){var s=r;""!==i[o]&&(s+="="+encodeURIComponent(String(i[o]))),t.push(s)}}return this.c=t.join("&")},E((function(){}),(function(){})),(i=nn.prototype).M=null,i.$=function(t){return this.a.$(t)},i.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},i.Ca=function(){return!1},i.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Dn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Dn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var i=this.a.ja.a.parse(e)}catch(r){return(e=this.a).m=this.c,void $n(e,2)}this.f=i[0]}else(e=this.a).m=this.c,$n(e,2)}else 1==this.M&&(this.g?Jt(6):"11111"==e?(Jt(5),this.g=!0,(!q||10<=Number(Z))&&(this.c=200,this.b.cancel(),Jt(11),Gn(this.a,this,!0))):(Jt(7),this.g=!1))},i.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Jt(11),Gn(this.a,this,!0)):(Jt(10),Gn(this.a,this,!1)));else{0==this.M?Jt(8):1==this.M&&Jt(9);var t=this.a;t.m=this.c,$n(t,2)}},i.Y=function(){return this.a.Y()},i.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(an(t),t)},sn.prototype.C=function(){return this.a.C()};var un=10;function hn(t,e){!t.a&&(N(e,"spdy")||N(e,"quic")||N(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(mn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function fn(t){return t.b?1:t.a?t.a.a.c:0}function pn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=Ae(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=Ae(t.a.a.b,n)),n&&ke(t.a.a,an(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return S(t.a.C(),(function(t){e=e.concat(t.j)})),e}return T(t.c)}function vn(){}function _n(){this.a=new vn}function bn(t,e,n){var i=n||"";try{Oe(t,(function(t,n){var r=t;p(t)&&(r=Tt(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function wn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(o){}}ln.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(S(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},vn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var En=s.JSON.parse;function Cn(t){St.call(this),this.headers=new Te,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=xn,this.D=this.F=!1}E(Cn,St);var xn="",Sn=/^https?$/i,On=["POST","PUT"];function Tn(t){return"content-type"==t.toLowerCase()}function kn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,In(t),Nn(t)}function In(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function An(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Rn(t)||2!=t.T()))if(t.l&&4==Rn(t))Bt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Rn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break t;default:i=!1}if(!(e=i)){var r;if(r=0===n){var a=String(t.A).match(Ne)[1]||null;if(!a&&s.self&&s.self.location){var c=s.self.location.protocol;a=c.substr(0,c.length-1)}r=!Sn.test(a?a.toLowerCase():"")}e=r}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var l=2<Rn(t)?t.a.statusText:""}catch(u){l=""}t.f=l+" ["+t.T()+"]",In(t)}}finally{Nn(t)}}}function Nn(t,e){if(t.a){Pn(t);var n=t.a,i=t.s[0]?u:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){}}}function Pn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Rn(t){return t.a?t.a.readyState:0}function Dn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}if(i)return t;if(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(i=t.indexOf("?"))||i>n){i=n;var r=""}else r=t.substring(i+1,n);n=(t=[t.substr(0,i),r,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Fe(t,e,n),t}function jn(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!l("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=l("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=l("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=l("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=l("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new ln(t&&t.concurrentRequestLimit),this.ja=new _n,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Ln(t){if(Fn(t),3==t.u){var e=t.P++,n=Re(t.B);Fe(n,"SID",t.H),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),zn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Ue(Re(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),be(e)}Yn(t)}function Fn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),Qn(t),t.b.cancel(),t.h&&(c(t.h)&&s.clearTimeout(t.h),t.h=null)}function Vn(t,e){t.f.push(new cn(t.Qa++,e)),3==t.u&&Un(t)}function Un(t){dn(t.b)||t.h||(t.h=!0,Mt(t.Ha,t),t.A=0)}function Bn(t,e){var n;n=e?e.W:t.P++;var i=Re(t.B);Fe(i,"SID",t.H),Fe(i,"RID",n),Fe(i,"AID",t.O),zn(t,i),t.g&&t.i&&Mn(i,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=qn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,i,e)}function zn(t,e){t.c&&Oe({},(function(t,n){Fe(e,n,t)}))}function qn(t,e,n){n=Math.min(t.f.length,n);var i=t.c?_(t.c.Sa,t.c,t):null;t:for(var r=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=r[0].b)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var l=r[c].b,u=r[c].a;if(0>(l-=o))o=Math.max(0,r[c].b-100),a=!1;else try{bn(u,s,"req"+l+"_")}catch(h){i&&i(u)}}if(a){i=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,i}function Wn(t){t.a||t.l||(t.S=1,Mt(t.Ga,t),t.v=0)}function Hn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(_(t.Ga,t),Kn(t,t.v)),t.v++,0))}function Gn(t,e,n){var i=e.l;i&&hn(t.b,i),t.ia=t.oa&&n,t.m=e.c,t.B=Xn(t,null,t.ha),Un(t)}function Qn(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function Kn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function $n(t,e){if(2==e){var n=null;t.c&&(n=null);var i=_(t.eb,t);n||(n=new Pe("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||De(n,"https"),Ue(n)),function(t,e){var n=new Kt;if(s.Image){var i=new Image;i.onload=b(wn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=b(wn,n,i,"TestLoadImage: error",!1,e),i.onabort=b(wn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=b(wn,n,i,"TestLoadImage: timeout",!1,e),s.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else Jt(2);t.u=0,t.c&&t.c.ta(e),Yn(t),Fn(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,T(t.f),t.f.length=0),t.c.sa())}function Xn(t,e,n){var i=function(t){return t instanceof Pe?Re(t):new Pe(t,void 0)}(n);if(""!=i.b)e&&Me(i,e+"."+i.b),je(i,i.i);else{var r=s.location;i=function(t,e,n,i){var r=new Pe(null,void 0);return t&&De(r,t),e&&Me(r,e),n&&je(r,n),i&&(r.a=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,n)}return t.V&&M(t.V,(function(t,e){Fe(i,e,t)})),n=t.I,(e=t.j)&&n&&Fe(i,e,n),Fe(i,"VER",t.wa),zn(t,i),i}function Zn(){}function Jn(){if(q&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function ti(t,e){St.call(this),this.a=new jn(e),this.g=t,this.m=e&&e.fb?e.fb:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var i,r=arguments[n];0==r.lastIndexOf("/",0)?e=r:((i=""==e)||(i=0<=(i=e.length-1)&&e.indexOf("/",i)==i),e+=i?r:"/"+r)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ii(this)}function ei(t){ce.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function ni(){le.call(this),this.status=1}function ii(t){this.a=t}(i=Cn.prototype).ca=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=_(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void kn(this,o)}t=n||"";var r=new Te(this.headers);i&&Oe(i,(function(t,e){r.set(e,t)})),i=function(t){t:{for(var e=Tn,n=t.length,i=a(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(r.K()),n=s.FormData&&t instanceof s.FormData,!(0<=x(On,e))||i||n||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pn(this),0<this.o&&((this.D=function(t){return q&&tt(9)&&c(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.Ba,this)):this.m=Bt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){kn(this,o)}},i.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},i.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Nn(this))},i.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Nn(this,!0)),Cn.N.G.call(this)},i.Ea=function(){this.j||(this.w||this.l||this.g?An(this):this.Za())},i.Za=function(){An(this)},i.T=function(){try{return 2<Rn(this)?this.a.status:-1}catch(B){return-1}},i.aa=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},i.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),En(e)}},i.ya=function(){return this.h},i.Xa=function(){return a(this.f)?this.f:String(this.f)},(i=jn.prototype).wa=8,i.u=1,i.Ca=function(){return 0==this.u},i.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),i=this.i;if(this.J&&(i?F(i=j(i),this.J):i=this.J),null===this.g&&(n.h=i),this.W)t:{for(var r=e=0;r<this.f.length;r++){var o=this.f[r];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=r;break t}if(4096===e||r===this.f.length-1){e=r+1;break t}}e=1e3}else e=1e3;e=qn(this,n,e),Fe(r=Re(this.B),"RID",t),Fe(r,"CVER",22),this.o&&this.j&&Fe(r,"X-HTTP-Session-Id",this.j),zn(this,r),this.g&&i&&Mn(r,this.g,i),mn(this.b,n),this.W?(Fe(r,"$req",e),Fe(r,"SID","null"),n.S=!0,me(n,r,null)):me(n,r,e),this.u=2}}else 3==this.u&&(t?Bn(this,t):0==this.f.length||dn(this.b)||Bn(this))},i.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Re(this.pa);Fe(t,"RID","rpc"),Fe(t,"SID",this.H),Fe(t,"CI",this.ia?"0":"1"),Fe(t,"AID",this.O),zn(this,t),Fe(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},i.Fa=function(t,e){if(0!=this.u&&(this.a==t||pn(this.b,t)))if(this.m=t.o,!t.s&&pn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Qn(this),this.a.cancel(),this.a=null}Hn(this),Jt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(_(this.Ya,this),6e3));if(1>=fn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else $n(this,11)}else if((t.s||this.a==t)&&Qn(this),!k(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var i=e[n];if(this.O=i[0],i=i[1],2==this.u)if("c"==i[0]){this.H=i[1],this.ga=i[2];var r=i[3];null!=r&&(this.wa=r),null!=(i=i[5])&&c(i)&&0<i&&(this.D=1.5*i),this.o&&(i=t.a)&&((r=Dn(i,"X-Client-Wire-Protocol"))&&hn(this.b,r),this.j&&(i=Dn(i,"X-HTTP-Session-Id")))&&(this.I=i,Fe(this.B,this.j,i)),this.u=3,this.c&&this.c.va(),i=t,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),i.s?(gn(this.b,i),(r=this.D)&&i.setTimeout(r),i.i&&(Ee(i),be(i)),this.a=i):Wn(this),0<this.f.length&&Un(this)}else"stop"!=i[0]&&"close"!=i[0]||$n(this,7);else 3==this.u&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?$n(this,7):Ln(this):"noop"!=i[0]&&this.c&&this.c.ua(i),this.v=0)}},i.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Hn(this),Jt(19))},i.na=function(t){var e=null;if(this.a==t){Qn(this),this.a=null;var n=2}else{if(!pn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,$t.dispatchEvent(new te($t,t.l?t.l.length:0,e,this.A)),Un(this)):Wn(this);else{var i=t.c;if(3==i||0==i&&0<this.m||!(1==n&&function(t,e){return!(fn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(_(t.Ha,t,e),Kn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Hn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),i){case 1:$n(this,5);break;case 4:$n(this,10);break;case 3:$n(this,6);break;default:$n(this,2)}}},i.eb=function(t){Jt(t?2:1)},i.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Cn(this.Ka)).F=this.R,t},i.ma=function(){return!!this.c&&!0},i.Y=function(){return this.R},(i=Zn.prototype).va=function(){},i.ua=function(){},i.ta=function(){},i.sa=function(){},i.Sa=function(){},Jn.prototype.a=function(t,e){return new ti(t,e)},E(ti,St),(i=ti.prototype).addEventListener=function(t,e,n,i){ti.N.addEventListener.call(this,t,e,n,i)},i.removeEventListener=function(t,e,n,i){ti.N.removeEventListener.call(this,t,e,n,i)},i.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,i=this.b||void 0;Jt(0),t.ha=n,t.V=i||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Xn(t.a,null,t.i),Jt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(Ve(e,"MODE","init"),!t.a.o&&t.a.j&&Ve(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},i.close=function(){Ln(this.a)},i.Wa=function(t){if(a(t)){var e={};e.__data__=t,Vn(this.a,e)}else this.h?((e={}).__data__=Tt(t),Vn(this.a,e)):Vn(this.a,t)},i.G=function(){this.a.c=null,delete this.f,Ln(this.a),delete this.a,ti.N.G.call(this)},E(ei,ce),E(ni,le),E(ii,Zn),ii.prototype.va=function(){this.a.dispatchEvent("a")},ii.prototype.ua=function(t){this.a.dispatchEvent(new ei(t))},ii.prototype.ta=function(t){this.a.dispatchEvent(new ni(t))},ii.prototype.sa=function(){this.a.dispatchEvent("b")};var ri=b((function(t,e){function n(){}n.prototype=t.prototype;var i=new n;return t.apply(i,Array.prototype.slice.call(arguments,1)),i}),Jn);Jn.prototype.createWebChannel=Jn.prototype.a,ti.prototype.send=ti.prototype.Wa,ti.prototype.open=ti.prototype.Va,ti.prototype.close=ti.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,ie.COMPLETE="complete",oe.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",St.prototype.listen=St.prototype.za,Cn.prototype.listenOnce=Cn.prototype.Aa,Cn.prototype.getLastError=Cn.prototype.Xa,Cn.prototype.getLastErrorCode=Cn.prototype.ya,Cn.prototype.getStatus=Cn.prototype.T,Cn.prototype.getResponseJson=Cn.prototype.Ua,Cn.prototype.getResponseText=Cn.prototype.aa,Cn.prototype.send=Cn.prototype.ca;var oi={createWebChannelTransport:ri,ErrorCode:ne,EventType:ie,WebChannel:oe,XhrIo:Cn},si=oi.createWebChannelTransport,ai=oi.ErrorCode,ci=oi.EventType,li=oi.WebChannel,ui=oi.XhrIo;e.default=oi},Efrr:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("EWqr");const r=new(n("DG/E").a)(i.a)},FU6l:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},Gjt8:function(t,e,n){"use strict";function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}var r;n.r(e),n.d(e,"LogLevel",(function(){return s})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return d})),n.d(e,"setUserLogHandler",(function(){return f}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,l=((r={})[s.DEBUG]="log",r[s.VERBOSE]="log",r[s.INFO]="info",r[s.WARN]="warn",r[s.ERROR]="error",r),u=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=l[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,i(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.DEBUG],t)),this._logHandler.apply(this,i([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.VERBOSE],t)),this._logHandler.apply(this,i([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.INFO],t)),this._logHandler.apply(this,i([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.WARN],t)),this._logHandler.apply(this,i([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,s.ERROR],t)),this._logHandler.apply(this,i([this,s.ERROR],t))},t}();function d(t){var e="string"==typeof t?a[t]:t;o.forEach((function(t){t.logLevel=e}))}function f(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a=r.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:r,type:e.name})}},i=0,r=o;i<r.length;i++)n(r[i])}},GoAz:function(t,e,n){"use strict";var i=n("IdLP"),r=n("1MAX"),o=n("bwdy"),s=n("qEfY"),a=n("czMQ"),c=n("sWLk"),l=n("/vgl"),u=n("eY+9");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new i.a(n=>{const i=new o.a;return i.add(e.schedule(()=>{const r=t[s.a]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(Object(l.a)(t))return function(t,e){return new i.a(n=>{const i=new o.a;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(Object(u.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.a(n=>{const i=new o.a;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[c.a](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.a?t:new i.a(Object(r.a)(t))}n.d(e,"a",(function(){return h}))},HgnN:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));let i=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},IJgj:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,"a",(function(){return i}))},IdLP:function(t,e,n){"use strict";var i=n("5uGe"),r=n("25CY"),o=n("rWo0"),s=n("qEfY"),a=n("Ti3e"),c=n("HgnN");n.d(e,"a",(function(){return l}));let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[r.a])return t[r.a]()}return t||e||n?new i.a(t,e,n):new i.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof i.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"J+dc":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("5uGe"),r=n("PNff"),o=n("6Oco");function s(t){return e=>0===t?Object(o.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new r.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends i.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},MiDb:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Ohay:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("5uGe");function r(t,e){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))}}class s extends i.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},PNff:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},Pa2V:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,i){e(n,i,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(i){u(o[0][3],i)}var n}function c(t){a("next",t)}function l(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},QQZH:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("ZTXN"),r=n("kSHZ"),o=n("bwdy"),s=n("A2S1"),a=n("MiDb"),c=n("yTkW");class l extends i.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new u(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let l;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?l=o.a.EMPTY:(this.observers.push(t),l=new c.a(this,t)),i&&t.add(t=new s.a(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),l}_getNow(){return(this.scheduler||r.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let o=0;for(;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i}}class u{constructor(t,e){this.time=t,this.value=e}}},ROBh:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("gBlb"),r=n("ckkg"),o=n("czMQ");function s(...t){let e=t[t.length-1];return Object(i.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(r.a)(t)}},SrNW:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("5uGe");function r(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends i.a{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}},TLy2:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("pBDD"),r=n("r9RI"),o=n("mW0F"),s=n("YtkY"),a=n("GoAz");function c(t,e){return"function"==typeof e?n=>n.pipe(c((n,i)=>Object(a.a)(t(n,i)).pipe(Object(s.a)((t,r)=>e(n,t,i,r))))):e=>e.lift(new l(t))}class l{constructor(t){this.project=t}call(t,e){return e.subscribe(new u(t,this.project))}}class u extends i.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const s=new r.a(this,e,n),a=this.destination;a.add(s),this.innerSubscription=Object(o.a)(this,t,void 0,void 0,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}},Ti3e:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var i=n("kgbq");function r(...t){return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:i.a}},Ua55:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=(i=n("plFh"))&&"object"==typeof i&&"default"in i?i.default:i,s=n("Pa2V"),a=n("82Ps"),c=n("Gjt8"),l=n("WRB3"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),a.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:a.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return a.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),m=new c.Logger("@firebase/database"),g=(r=1,function(){return r++}),y=function(t){var e=a.stringToByteArray(t),n=new a.Sha1;n.update(e);var i=n.digest();return a.base64.encodeByteArray(i)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++){var r=t[i];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?n+=v.apply(null,r):n+="object"==typeof r?a.stringify(r):r,n+=" "}return n},_=null,b=!0,w=function(t,e){a.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=c.LogLevel.VERBOSE,_=m.log.bind(m),e&&p.set("logging_enabled",!0)):"function"==typeof t?_=t:(_=null,p.remove("logging_enabled"))},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===_&&!0===p.get("logging_enabled")&&w(!0)),_){var n=v.apply(null,t);_(n)}},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];E.apply(void 0,s.__spread([t],e))}},x=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,s.__spread(t));m.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,s.__spread(t));throw m.error(n),new Error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,s.__spread(t));m.warn(n)},T=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",I="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===k||e===I)return-1;if(e===k||t===I)return 1;var n=K(t),i=K(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+a.stringify(e))},R=function(t){if("object"!=typeof t||null===t)return a.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",r=0;r<e.length;r++)0!==r&&(i+=","),i+=a.stringify(e[r]),i+=":",i+=R(t[e[r]]);return i+"}"},D=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j,L,F,V,U,B,z,q,W,H,G=function(t){var e,n,i,r,o;a.assert(!T(t),"Invalid JSON number"),0===t?(n=0,i=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(r=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-r)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var c=s.join(""),l="";for(o=0;o<64;o+=8){var u=parseInt(c.substr(o,8),2).toString(16);1===u.length&&(u="0"+u),l+=u}return l.toLowerCase()},Q=new RegExp("^-?(0*)\\d{1,10}$"),K=function(t){if(Q.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},$=function(t){try{t()}catch(e){setTimeout((function(){throw O("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Y=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},X=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(e instanceof t)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var i=e.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var o=A(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Z=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=a.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=a.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),J=function(){function t(t,e,n,i,r,o){void 0===r&&(r=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.persistenceKey=r,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(a.assert("string"==typeof t,"typeof type must == string"),a.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var i=[];return M(e,(function(t,e){i.push(t+"="+e)})),n+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),tt=function(t){var e=et(t),n=e.namespace;return"firebase"===e.domain&&S(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new J(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,"",n!==e.subdomain),path:new X(e.pathString)}},et=function(t){var e="",n="",i="",r="",o="",a=!0,c="https",l=443;if("string"==typeof t){var u=t.indexOf("//");u>=0&&(c=t.substring(0,u-1),t=t.substring(u+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(r=function(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}e+="/"+r}return e}(t.substring(h,d)));var f=function(t){var e,n,i={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var r=s.__values(t.split("&")),o=r.next();!o.done;o=r.next()){var a=o.value;if(0!==a.length){var c=a.split("=");2===c.length?i[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):O("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}(t.substring(Math.min(t.length,d)));(u=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,l=parseInt(e.substring(u+1),10)):u=t.length;var p=e.split(".");3===p.length?(n=p[1],o=i=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,u).toLowerCase()&&(n="localhost"),"ns"in f&&(o=f.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:a,scheme:c,pathString:r,namespace:o}},nt=/[\[\].#$\/\u0000-\u001F\u007F]/,it=/[\[\].#$\u0000-\u001F\u007F]/,rt=function(t){return"string"==typeof t&&0!==t.length&&!nt.test(t)},ot=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},st=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!T(t)||t&&"object"==typeof t&&a.contains(t,".sv")},at=function(t,e,n,i,r){r&&void 0===n||ct(a.errorPrefix(t,e,r),n,i)},ct=function(t,e,n){var i=n instanceof X?new Z(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+e.toString());if(T(e))throw new Error(t+"contains "+e.toString()+" "+i.toErrorString());if("string"==typeof e&&e.length>10485760/3&&a.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var r=!1,o=!1;if(M(e,(function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!rt(e)))throw new Error(t+" contains an invalid key ("+e+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),ct(t,n,i),i.pop()})),r&&o)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},lt=function(t,e,n,i,r){if(!r||void 0!==n){var o=a.errorPrefix(t,e,r);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];M(n,(function(t,e){var n=new X(t);if(ct(o,e,i.child(n)),".priority"===n.getBack()&&!st(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,i;for(n=0;n<e.length;n++)for(var r=(i=e[n]).slice(),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!rt(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(X.comparePaths);var s=null;for(n=0;n<e.length;n++){if(i=e[n],null!==s&&s.contains(i))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+i.toString());s=i}}(o,s)}},ut=function(t,e,n,i){if(!i||void 0!==n){if(T(n))throw new Error(a.errorPrefix(t,e,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!st(n))throw new Error(a.errorPrefix(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ht=function(t,e,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},dt=function(t,e,n,i){if(!(i&&void 0===n||rt(n)))throw new Error(a.errorPrefix(t,e,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ft=function(t,e,n,i){if(!(i&&void 0===n||ot(n)))throw new Error(a.errorPrefix(t,e,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pt=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ft(t,e,n,i)},mt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},gt=function(t,e,n){var i=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!rt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ot(t)}(i))throw new Error(a.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},yt=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(t,e,i)+"must be a boolean.")},vt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),mt("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),mt("OnDisconnect.set",this.path_),at("OnDisconnect.set",1,t,this.path_,!1),a.validateCallback("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),mt("OnDisconnect.setWithPriority",this.path_),at("OnDisconnect.setWithPriority",1,t,this.path_,!1),ut("OnDisconnect.setWithPriority",2,e,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),mt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("OnDisconnect.update",1,t,this.path_,!1),a.validateCallback("OnDisconnect.update",2,e,!0);var r=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},t}(),_t=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),bt=(j="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",L=0,F=[],function(t){var e,n=t===L;L=t;var i=new Array(8);for(e=7;e>=0;e--)i[e]=j.charAt(t%64),t=Math.floor(t/64);a.assert(0===t,"Cannot push at time == 0");var r=i.join("");if(n){for(e=11;e>=0&&63===F[e];e--)F[e]=0;F[e]++}else for(e=0;e<12;e++)F[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)r+=j.charAt(F[e]);return a.assert(20===r.length,"nextPushId: Length should be 20."),r}),wt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Et=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new wt(k,t),i=new wt(k,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return wt.MIN},t}(),Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return V},set:function(t){V=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return new wt(I,V)},e.prototype.makePost=function(t,e){return a.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new wt(t,V)},e.prototype.toString=function(){return".key"},e}(Et),xt=new Ct,St=function(t){return"number"==typeof t?"number:"+G(t):"string:"+t},Ot=function(t){if(t.isLeafNode()){var e=t.val();a.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else a.assert(t===U||t.isEmpty(),"priority of unexpected type.");a.assert(t===U||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Tt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,a.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Ot(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return B},set:function(t){B=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=e.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(a.assert(".priority"!==i||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+St(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?G(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(a.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(i);return a.assert(r>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+i),r===o?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?A(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return new wt(I,new Tt("[PRIORITY-POST]",q))},e.prototype.makePost=function(t,e){var n=z(t);return new wt(e,new Tt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Et)),It=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),At=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:Pt.EMPTY_NODE,this.right=null!=o?o:Pt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return(i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Pt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Pt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Nt=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new At(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Pt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,At.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,i=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new It(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new It(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new It(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Nt,t}(),Rt=Math.log(2),Dt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Rt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Mt=function(t,e,n,i){t.sort(e);var r=function(e,i){var o,s,a=i-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new At(s,o.node,At.BLACK,null,null);var c=parseInt(a/2,10)+e,l=r(e,c),u=r(c+1,i);return o=t[c],s=n?n(o):o,new At(s,o.node,At.BLACK,l,u)},o=function(e){for(var i=null,o=null,s=t.length,a=function(e,i){var o=s-e,a=s;s-=e;var l=r(o+1,a),u=t[o],h=n?n(u):u;c(new At(h,u.node,i,null,l))},c=function(t){i?(i.left=t,i=t):(o=t,i=t)},l=0;l<e.count;++l){var u=e.nextBitIsOne(),h=Math.pow(2,e.count-(l+1));u?a(h,At.BLACK):(a(h,At.BLACK),a(h,At.RED))}return o}(new Dt(t.length));return new Pt(i||e,o)},jt={},Lt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return a.assert(jt&&kt,"ChildrenNode.ts has not been loaded"),W=W||new t({".priority":jt},{".priority":kt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Pt?e:null},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){a.assert(e!==xt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i,r=[],o=!1,c=n.getIterator(wt.Wrap),l=c.getNext();l;)o=o||e.isDefinedOn(l.node),r.push(l),l=c.getNext();i=o?Mt(r,e.getCompare()):jt;var u=e.toString(),h=s.__assign({},this.indexSet_);h[u]=e;var d=s.__assign({},this.indexes_);return d[u]=i,new t(d,h)},t.prototype.addToIndexes=function(e,n){var i=this;return new t(a.map(this.indexes_,(function(t,r){var o=a.safeGet(i.indexSet_,r);if(a.assert(o,"Missing index implementation for "+r),t===jt){if(o.isDefinedOn(e.node)){for(var s=[],c=n.getIterator(wt.Wrap),l=c.getNext();l;)l.name!==e.name&&s.push(l),l=c.getNext();return s.push(e),Mt(s,o.getCompare())}return jt}var u=n.get(e.name),h=t;return u&&(h=h.remove(new wt(e.name,u))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(a.map(this.indexes_,(function(t){if(t===jt)return t;var i=n.get(e.name);return i?t.remove(new wt(e.name,i)):t})),this.indexSet_)},t}();function Ft(t,e){return A(t.name,e.name)}function Vt(t,e){return A(t,e)}var Ut=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ot(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return H||(H=new t(new Pt(Vt),null,Lt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||H},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?H:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new wt(e,n),r=void 0,o=void 0;n.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));var s=r.isEmpty()?H:this.priorityNode_;return new t(r,s,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;a.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(kt,(function(s,a){n[s]=a.val(e),i++,o&&t.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):o=!1})),!e&&o&&r<2*i){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+St(this.getPriority().val())+":"),this.forEachChild(kt,(function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)})),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new wt(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new wt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new wt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var i=this.children_.getIteratorFrom(t.name,wt.Wrap),r=i.peek();null!=r&&e.compare(r,t)<0;)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var i=this.children_.getReverseIteratorFrom(t.name,wt.Wrap),r=i.peek();null!=r&&e.compare(r,t)>0;)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Bt?-1:0},t.prototype.withIndex=function(e){if(e===xt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===xt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(kt),i=e.getIterator(kt),r=n.getNext(),o=i.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===xt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Bt=new(function(t){function e(){return t.call(this,new Pt(Vt),Ut.EMPTY_NODE,Lt.Default)||this}return s.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Ut.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Ut));function zt(t,e){if(void 0===e&&(e=null),null===t)return Ut.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),a.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Tt(t,zt(e));if(t instanceof Array){var n=Ut.EMPTY_NODE;return M(t,(function(e,i){if(a.contains(t,e)&&"."!==e.substring(0,1)){var r=zt(i);!r.isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(e,r))}})),n.updatePriority(zt(e))}var i=[],r=!1;if(M(t,(function(t,e){if("."!==t.substring(0,1)){var n=zt(e);n.isEmpty()||(r=r||!n.getPriority().isEmpty(),i.push(new wt(t,n)))}})),0===i.length)return Ut.EMPTY_NODE;var o=Mt(i,Ft,(function(t){return t.name}),Vt);if(r){var s=Mt(i,kt.getCompare());return new Ut(o,zt(e),new Lt({".priority":s},{".priority":kt}))}return new Ut(o,zt(e),Lt.Default)}Object.defineProperties(wt,{MIN:{value:new wt(k,Ut.EMPTY_NODE)},MAX:{value:new wt(I,Bt)}}),Ct.__EMPTY_NODE=Ut.EMPTY_NODE,Tt.__childrenNodeConstructor=Ut,U=Bt,function(t){q=t}(Bt),function(t){z=t}(zt);var qt,Wt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return wt.MIN},e.prototype.maxPost=function(){return wt.MAX},e.prototype.makePost=function(t,e){var n=zt(t);return new wt(e,n)},e.prototype.toString=function(){return".value"},e}(Et)),Ht=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,a.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return s.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?A(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=zt(t),i=Ut.EMPTY_NODE.updateChild(this.indexPath_,n);return new wt(e,i)},e.prototype.maxPost=function(){var t=Ut.EMPTY_NODE.updateChild(this.indexPath_,Bt);return new wt(I,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Et),Gt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),ft("DataSnapshot.child",1,e,!1);var n=new X(e),i=this.ref_.child(n);return new t(this.node_.getChild(n),i,kt)},t.prototype.hasChild=function(t){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),ft("DataSnapshot.hasChild",1,t,!1);var e=new X(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,(function(i,r){return e(new t(r,n.ref_.child(i),kt))}))},t.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Qt=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},t}(),Kt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),$t=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Qt("value",this,new Gt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Kt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Yt=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return a.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Kt(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new Qt(t.type,this,new Gt(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var i=Object.keys(e.callbacks_),r=Object.keys(this.callbacks_),o=i.length;if(o===r.length){if(1===o){var s=i[0],a=r[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return r.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Xt=function(){function t(t,e,n,i){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(qt,"Reference.ts has not been loaded"),qt},set:function(t){qt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===xt){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==k)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==I)throw new Error(i);if("string"!=typeof n)throw new Error(r)}}else if(t.getIndex()===kt){if(null!=e&&!st(e)||null!=n&&!st(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(t.getIndex()instanceof Ht||t.getIndex()===Wt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,i,r){a.validateArgCount("Query.on",2,4,arguments.length),ht("Query.on",1,e,!1),a.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",i,r);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var i=new $t(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(t,e,n){var i=new Yt(t,e,n);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(t,e,n){a.validateArgCount("Query.off",0,3,arguments.length),ht("Query.off",1,t,!0),a.validateCallback("Query.off",2,e,!0),a.validateContextObject("Query.off",3,n,!0);var i=null,r=null;if("value"===t){var o=e||null;i=new $t(o,null,n||null)}else t&&(e&&((r={})[t]=e),i=new Yt(r,null,n||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.once=function(e,n,i,r){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),ht("Query.once",1,e,!1),a.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",i,r),c=!0,l=new a.Deferred;l.promise.catch((function(){}));var u=function(t){c&&(c=!1,o.off(e,u),n&&n.bind(s.context)(t),l.resolve(t))};return this.on(e,u,(function(t){o.off(e,u),s.cancel&&s.cancel.bind(s.context)(t),l.reject(t)})),l.promise},t.prototype.limitToFirst=function(e){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ft("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new X(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new Ht(n),r=this.queryParams_.orderBy(i);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(xt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Wt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.startAt",0,2,arguments.length),at("Query.startAt",1,e,this.path,!0),dt("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.endAt",0,2,arguments.length),at("Query.endAt",1,e,this.path,!0),dt("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),at("Query.equalTo",1,t,this.path,!1),dt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=R(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var i=this.repo===e.repo,r=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return i&&r&&o},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:null,context:null};if(e&&n)i.cancel=e,a.validateCallback(t,3,i.cancel,!0),i.context=n,a.validateContextObject(t,4,i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error(a.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Zt=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Jt=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),te=function(t,e,n){return t&&"object"==typeof t?(a.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ee(t[".sv"],e,n):"object"==typeof t[".sv"]?ne(t[".sv"],e):void a.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ee=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:a.assert(!1,"Unexpected server value: "+t)}},ne=function(t,e,n){t.hasOwnProperty("increment")||a.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var i=t.increment;"number"!=typeof i&&a.assert(!1,"Unexpected increment value: "+i);var r=e.node();if(a.assert(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;var o=r.getValue();return"number"!=typeof o?i:o+i},ie=function(t,e,n,i){return oe(e,new Jt(n,t),i)},re=function(t,e,n){return oe(t,new Zt(e),n)};function oe(t,e,n){var i,r=t.getPriority().val(),o=te(r,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=te(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Tt(a,zt(o)):t}var c=t;return i=c,o!==c.getPriority().val()&&(i=i.updatePriority(new Tt(o))),c.forEachChild(kt,(function(t,r){var o=oe(r,e.getImmediateChild(t),n);o!==r&&(i=i.updateImmediateChild(t,o))})),i}var se,ae,ce=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var i=e.getFront();this.children.has(i)||this.children.set(i,new t);var r=this.children.get(i);e=e.popFront(),r.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(kt,(function(t,e){n.remember(new X(t),e)})),this.forget(t)}if(this.children.size>0){var i=t.getFront();return t=t.popFront(),this.children.has(i)&&this.children.get(i).forget(t)&&this.children.delete(i),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,i){var r=new X(t.toString()+"/"+n);i.forEachTree(r,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),le=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),ue=function(){function t(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,a.assert(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),he=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=le.ACK_USER_WRITE,this.source=ue.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new X(e));return new t(X.Empty,n,this.revert)}return a.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),de=function(){function t(t,e){void 0===e&&(se||(se=new Pt(N)),e=se),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return M(e,(function(t,e){n=n.set(new X(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:X.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=r?{path:new X(n).child(r.path),value:r.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),i=this.children.get(n);return null!==i?i.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var i=e.getFront(),r=(this.children.get(i)||t.Empty).set(e.popFront(),n),o=this.children.insert(i,r);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),i=this.children.get(n);if(i){var r=i.remove(e.popFront()),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var i,r=e.getFront(),o=(this.children.get(r)||t.Empty).setTree(e.popFront(),n);return i=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,i)},t.prototype.fold=function(t){return this.fold_(X.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(i,r){n[i]=r.fold_(t.child(i),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,X.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(t.isEmpty())return null;var r=t.getFront(),o=this.children.get(r);return o?o.findOnPath_(t.popFront(),e.child(r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,X.Empty,e)},t.prototype.foreachOnPath_=function(e,n,i){if(e.isEmpty())return this;this.value&&i(n,this.value);var r=e.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(e.popFront(),n.child(r),i):t.Empty},t.prototype.foreach=function(t){this.foreach_(X.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,i){i.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),fe=function(){function t(t,e){this.source=t,this.path=e,this.type=le.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty):new t(this.source,this.path.popFront())},t}(),pe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=le.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,X.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),me=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=le.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new X(e));return n.isEmpty()?null:n.value?new pe(this.source,X.Empty,n.value):new t(this.source,X.Empty,n)}return a.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ge=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ye=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,i){return new t(new ge(e,n,i),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,i){return new t(this.eventCache_,new ge(e,n,i))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ge(Ut.EMPTY_NODE,!1,!1),new ge(Ut.EMPTY_NODE,!1,!1)),t}(),ve=function(){function t(t,e,n,i,r){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=i,this.prevName=r}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,i){return new t(t.CHILD_CHANGED,n,e,i)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),_e=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,o){a.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ve.childRemovedChange(e,s)):a.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(ve.childAddedChange(e,n)):o.trackChildChange(ve.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(kt,(function(t,i){e.hasChild(t)||n.trackChildChange(ve.childRemovedChange(t,i))})),e.isLeafNode()||e.forEachChild(kt,(function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(ve.childChangedChange(e,i,r))}else n.trackChildChange(ve.childAddedChange(e,i))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Ut.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),be=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;a.assert(e===ve.CHILD_ADDED||e===ve.CHILD_CHANGED||e===ve.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var i=this.changeMap.get(n);if(i){var r=i.type;if(e===ve.CHILD_ADDED&&r===ve.CHILD_REMOVED)this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,i.snapshotNode));else if(e===ve.CHILD_REMOVED&&r===ve.CHILD_ADDED)this.changeMap.delete(n);else if(e===ve.CHILD_REMOVED&&r===ve.CHILD_CHANGED)this.changeMap.set(n,ve.childRemovedChange(n,i.oldSnap));else if(e===ve.CHILD_CHANGED&&r===ve.CHILD_ADDED)this.changeMap.set(n,ve.childAddedChange(n,t.snapshotNode));else{if(e!==ve.CHILD_CHANGED||r!==ve.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),we=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ee=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ge(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,e,1,n,t);return 0===r.length?null:r[0]},t}(),Ce=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),xe=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){a.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,i,r){var o,s,c=new be;if(n.type===le.OVERWRITE){var l=n;l.source.fromUser?o=this.applyUserOverwrite_(e,l.path,l.snap,i,r,c):(a.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered()&&!l.path.isEmpty(),o=this.applyServerOverwrite_(e,l.path,l.snap,i,r,s,c))}else if(n.type===le.MERGE){var u=n;u.source.fromUser?o=this.applyUserMerge_(e,u.path,u.children,i,r,c):(a.assert(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,u.path,u.children,i,r,s,c))}else if(n.type===le.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,i,r,c):this.ackUserWrite_(e,h.path,h.affectedTree,i,r,c)}else{if(n.type!==le.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,i,c)}var d=c.getChanges();return t.maybeAddValueEvent_(e,o,d),new Ce(o,d)},t.maybeAddValueEvent_=function(t,e,n){var i=e.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(ve.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,i,r){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,c=void 0;if(e.isEmpty())if(a.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var l=t.getCompleteServerSnap(),u=n.calcCompleteEventChildren(l instanceof Ut?l:Ut.EMPTY_NODE);s=this.filter_.updateFullNode(t.getEventCache().getNode(),u,r)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,r)}else{var d=e.getFront();if(".priority"===d){a.assert(1===e.getLength(),"Can't have a priority with additional path components");var f=o.getNode();c=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,f,c);s=null!=p?this.filter_.updatePriority(f,p):o.getNode()}else{var m=e.popFront(),g=void 0;if(o.isCompleteForChild(d)){c=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),c);g=null!=y?o.getNode().getImmediateChild(d).updateChild(m,y):o.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,t.getServerCache());s=null!=g?this.filter_.updateChild(o.getNode(),d,g,m,i,r):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,i,r,o,s){var a,c=t.getServerCache(),l=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=l.updateFullNode(c.getNode(),n,null);else if(l.filtersNodes()&&!c.isFiltered()){var u=c.getNode().updateChild(e,n);a=l.updateFullNode(c.getNode(),u,null)}else{var h=e.getFront();if(!c.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),f=c.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"===h?l.updatePriority(c.getNode(),f):l.updateChild(c.getNode(),h,f,d,we,null)}var p=t.updateServerSnap(a,c.isFullyInitialized()||e.isEmpty(),l.filtersNodes()),m=new Ee(i,p,r);return this.generateEventCacheAfterServerEvent_(p,e,i,m,s)},t.prototype.applyUserOverwrite_=function(t,e,n,i,r,o){var s,a,c=t.getEventCache(),l=new Ee(i,t,r);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var u=e.getFront();if(".priority"===u)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,c.isFullyInitialized(),c.isFiltered());else{var h=e.popFront(),d=c.getNode().getImmediateChild(u),f=void 0;if(h.isEmpty())f=n;else{var p=l.getCompleteChild(u);f=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):Ut.EMPTY_NODE}if(d.equals(f))s=t;else{var m=this.filter_.updateChild(c.getNode(),u,f,h,l,o);s=t.updateEventSnap(m,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,i,r,o,s){var a=this,c=e;return i.foreach((function(i,l){var u=n.child(i);t.cacheHasChild_(e,u.getFront())&&(c=a.applyUserOverwrite_(c,u,l,r,o,s))})),i.foreach((function(i,l){var u=n.child(i);t.cacheHasChild_(e,u.getFront())||(c=a.applyUserOverwrite_(c,u,l,r,o,s))})),c},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,i,r,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var c,l=t;c=e.isEmpty()?n:de.Empty.setTree(e,n);var u=t.getServerCache().getNode();return c.children.inorderTraversal((function(e,n){if(u.hasChild(e)){var c=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(c,n);l=a.applyServerOverwrite_(l,new X(e),h,i,r,o,s)}})),c.children.inorderTraversal((function(e,n){var c=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!u.hasChild(e)&&!c){var h=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(h,n);l=a.applyServerOverwrite_(l,new X(e),d,i,r,o,s)}})),l},t.prototype.ackUserWrite_=function(t,e,n,i,r,o){if(null!=i.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),i,r,s,o);if(e.isEmpty()){var c=de.Empty;return a.getNode().forEachChild(xt,(function(t,e){c=c.set(new X(t),e)})),this.applyServerMerge_(t,e,c,i,r,s,o)}return t}var l=de.Empty;return n.foreach((function(t,n){var i=e.child(t);a.isCompleteForPath(i)&&(l=l.set(t,a.getNode().getChild(i)))})),this.applyServerMerge_(t,e,l,i,r,s,o)},t.prototype.listenComplete_=function(t,e,n,i){var r=t.getServerCache(),o=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||e.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,we,i)},t.prototype.revertUserWrite_=function(t,e,n,i,r){var o;if(null!=n.shadowingWrite(e))return t;var s=new Ee(n,t,i),c=t.getEventCache().getNode(),l=void 0;if(e.isEmpty()||".priority"===e.getFront()){var u=void 0;if(t.getServerCache().isFullyInitialized())u=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();a.assert(h instanceof Ut,"serverChildren would be complete if leaf node"),u=n.calcCompleteEventChildren(h)}l=this.filter_.updateFullNode(c,u=u,r)}else{var d=e.getFront(),f=n.calcCompleteChild(d,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(d)&&(f=c.getImmediateChild(d)),(l=null!=f?this.filter_.updateChild(c,d,f,e.popFront(),s,r):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(c,d,Ut.EMPTY_NODE,e.popFront(),s,r):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(l=this.filter_.updateFullNode(l,o,r))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(X.Empty),t.updateEventSnap(l,o,this.filter_.filtersNodes())},t}(),Se=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var i=this,r=[],o=[];return t.forEach((function(t){t.type===ve.CHILD_CHANGED&&i.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ve.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(r,ve.CHILD_REMOVED,t,n,e),this.generateEventsForType_(r,ve.CHILD_ADDED,t,n,e),this.generateEventsForType_(r,ve.CHILD_MOVED,o,n,e),this.generateEventsForType_(r,ve.CHILD_CHANGED,t,n,e),this.generateEventsForType_(r,ve.VALUE,t,n,e),r},t.prototype.generateEventsForType_=function(t,e,n,i,r){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,r);i.forEach((function(i){i.respondsTo(e.type)&&t.push(i.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw a.assertionError("Should only compare child_ events.");var n=new wt(t.childName,t.snapshotNode),i=new wt(e.childName,e.snapshotNode);return this.index_.compare(n,i)},t}(),Oe=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new _e(n.getIndex()),r=n.getNodeFilter();this.processor_=new xe(r);var o=e.getServerCache(),s=e.getEventCache(),a=i.updateFullNode(Ut.EMPTY_NODE,o.getNode(),null),c=r.updateFullNode(Ut.EMPTY_NODE,s.getNode(),null),l=new ge(a,o.isFullyInitialized(),i.filtersNodes()),u=new ge(c,s.isFullyInitialized(),r.filtersNodes());this.viewCache_=new ye(u,l),this.eventGenerator_=new Se(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){a.assert(null==t,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach((function(t){var r=t.createCancelEvent(e=e,i);r&&n.push(r)}))}if(t){for(var r=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(o+1));break}}else r.push(s)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===le.MERGE&&null!==t.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,t,e,n);return this.processor_.assertIndexed(r.viewCache),a.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(kt,(function(t,e){n.push(ve.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(ve.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Te=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(ae,"Reference.ts has not been loaded"),ae},set:function(t){a.assert(!ae,"__referenceConstructor has already been defined"),ae=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var i,r,o=t.source.queryId;if(null!==o){var c=this.views.get(o);return a.assert(null!=c,"SyncTree gave us an op for an invalid query."),c.applyOperation(t,e,n)}var l=[];try{for(var u=s.__values(this.views.values()),h=u.next();!h.done;h=u.next())l=l.concat((c=h.value).applyOperation(t,e,n))}catch(d){i={error:d}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(i)throw i.error}}return l},t.prototype.addEventRegistration=function(t,e,n,i,r){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(r?i:null),c=!1;a?c=!0:i instanceof Ut?(a=n.calcCompleteEventChildren(i),c=!1):(a=Ut.EMPTY_NODE,c=!1);var l=new ye(new ge(a,c,!1),new ge(i,r,!1));s=new Oe(t,l),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,i){var r,o,a=e.queryIdentifier(),c=[],l=[],u=this.hasCompleteView();if("default"===a)try{for(var h=s.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var f,p=s.__read(d.value,2),m=p[0];l=l.concat((f=p[1]).removeEventRegistration(n,i)),f.isEmpty()&&(this.views.delete(m),f.getQuery().getQueryParams().loadsAllData()||c.push(f.getQuery()))}}catch(g){r={error:g}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(r)throw r.error}}else(f=this.views.get(a))&&(l=l.concat(f.removeEventRegistration(n,i)),f.isEmpty()&&(this.views.delete(a),f.getQuery().getQueryParams().loadsAllData()||c.push(f.getQuery())));return u&&!this.hasCompleteView()&&c.push(new t.__referenceConstructor(e.repo,e.path)),{removed:c,events:l}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var i=s.__values(this.views.values()),r=i.next();!r.done;r=i.next()){var o=r.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,i=null;try{for(var r=s.__values(this.views.values()),o=r.next();!o.done;o=r.next())i=i||o.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=s.__values(this.views.values()),i=n.next();!i.done;i=n.next()){var r=i.value;if(r.getQuery().getQueryParams().loadsAllData())return r}}catch(o){t={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),ke=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new de(n));var i=this.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,o=i.value,s=X.relativePath(r,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(r,o))}var a=new de(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return M(e,(function(e,i){n=n.addWrite(t.child(e),i)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,de.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(X.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(kt,(function(e,n){t.push(new wt(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new wt(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new de(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,i){if(null!=n.value)return i.updateChild(e,n.value);var r=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):i=t(e.child(n),o,i)})),i.getChild(e).isEmpty()||null===r||(i=i.updateChild(e.child(".priority"),r)),i}(X.Empty,this.writeTree_,t)},t.Empty=new t(new de(null)),t}(),Ie=function(){function t(){this.visibleWrites_=ke.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Ae(t,this)},t.prototype.addOverwrite=function(t,e,n,i){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));a.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);for(var r=i.visible,o=!1,s=this.allWrites_.length-1;r&&s>=0;){var c=this.allWrites_[s];c.visible&&(s>=n&&this.recordContainsPath_(c,i.path)?r=!1:i.path.contains(c.path)&&(o=!0)),s--}return!!r&&(o?(this.resetTree_(),!0):(i.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(i.path):M(i.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,i,r){if(i||r){var o=this.visibleWrites_.childCompoundWrite(e);return!r&&o.isEmpty()?n:r||null!=n||o.hasCompleteWrite(X.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||Ut.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(X.Empty)?a.apply(n||Ut.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Ut.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(t);if(i)return i.isLeafNode()||i.forEachChild(kt,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var r=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(kt,(function(t,e){var i=r.childCompoundWrite(new X(t)).apply(e);n=n.updateImmediateChild(t,i)})),r.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,i){a.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=t.child(e);if(this.visibleWrites_.hasCompleteWrite(r))return null;var o=this.visibleWrites_.childCompoundWrite(r);return o.isEmpty()?i.getChild(e):o.apply(i.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var i=t.child(e),r=this.visibleWrites_.getCompleteNode(i);return null!=r?r:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(i).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,i,r,o){var s,a=this.visibleWrites_.childCompoundWrite(t),c=a.getCompleteNode(X.Empty);if(null!=c)s=c;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],u=o.getCompare(),h=r?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&l.length<i;)0!==u(d,n)&&l.push(d),d=h.getNext();return l},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,X.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var i=ke.Empty,r=0;r<t.length;++r){var o=t[r];if(e(o)){var s=o.path,c=void 0;if(o.snap)n.contains(s)?(c=X.relativePath(n,s),i=i.addWrite(c,o.snap)):s.contains(n)&&(c=X.relativePath(s,n),i=i.addWrite(X.Empty,o.snap.getChild(c)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))c=X.relativePath(n,s),i=i.addWrites(c,o.children);else if(s.contains(n))if((c=X.relativePath(s,n)).isEmpty())i=i.addWrites(X.Empty,o.children);else{var l=a.safeGet(o.children,c.getFront());if(l){var u=l.getChild(c.popFront());i=i.addWrite(X.Empty,u)}}}}}return i},t}(),Ae=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,i,r)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ne=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=de.Empty,this.pendingWriteTree_=new Ie,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,i){return this.pendingWriteTree_.addOverwrite(t,e,n,i),i?this.applyOperationToSyncPoints_(new pe(ue.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var i=de.fromObject(e);return this.applyOperationToSyncPoints_(new me(ue.User,t,i))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var i=de.Empty;return null!=n.snap?i=i.set(X.Empty,!0):M(n.children,(function(t,e){i=i.set(new X(t),e)})),this.applyOperationToSyncPoints_(new he(n.path,i,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new pe(ue.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=de.fromObject(e);return this.applyOperationToSyncPoints_(new me(ue.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new fe(ue.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var o=t.parseQueryKey_(r),s=o.path,a=o.queryId,c=X.relativePath(s,e),l=new pe(ue.forServerTaggedQuery(a),c,n);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,i){var r=this.queryKeyForTag_(i);if(r){var o=t.parseQueryKey_(r),s=o.path,a=o.queryId,c=X.relativePath(s,e),l=de.fromObject(n),u=new me(ue.forServerTaggedQuery(a),c,l);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var i=this.queryKeyForTag_(n);if(i){var r=t.parseQueryKey_(i),o=r.path,s=r.queryId,a=X.relativePath(o,e),c=new fe(ue.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,c)}return[]},t.prototype.addEventRegistration=function(e,n){var i=e.path,r=null,o=!1;this.syncPointTree_.foreachOnPath(i,(function(t,e){var n=X.relativePath(t,i);r=r||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,c=this.syncPointTree_.get(i);c?(o=o||c.hasCompleteView(),r=r||c.getCompleteServerCache(X.Empty)):(c=new Te,this.syncPointTree_=this.syncPointTree_.set(i,c)),null!=r?s=!0:(s=!1,r=Ut.EMPTY_NODE,this.syncPointTree_.subtree(i).foreachChild((function(t,e){var n=e.getCompleteServerCache(X.Empty);n&&(r=r.updateImmediateChild(t,n))})));var l=c.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var u=t.makeQueryKey_(e);a.assert(!this.queryToTagMap.has(u),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(u,h),this.tagToQueryMap.set(h,u)}var d=this.pendingWriteTree_.childWrites(i),f=c.addEventRegistration(e,n,d,r,s);if(!l&&!o){var p=c.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,i){var r=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var c=s.removeEventRegistration(e,n,i);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var l=c.removed;a=c.events;var u=-1!==l.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(u&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(d),p=0;p<f.length;++p){var m=f[p],g=m.getQuery(),y=this.createListenerForView_(m);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&l.length>0&&!i&&(u?this.listenProvider_.stopListening(t.queryForListening_(e),null):l.forEach((function(e){var n=r.queryToTagMap.get(t.makeQueryKey_(e));r.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(l)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,i=this.syncPointTree_.findOnPath(t,(function(e,n){var i=X.relativePath(e,t),r=n.getCompleteServerCache(i);if(r)return r}));return n.calcCompleteEventCache(t,i,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var i=[];return e&&(i=e.getQueryViews()),M(n,(function(t,e){i=i.concat(e)})),i}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var i=e[n];if(!i.getQueryParams().loadsAllData()){var r=t.makeQueryKey_(i),o=this.queryToTagMap.get(r);this.queryToTagMap.delete(r),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,r=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),r,o.hashFn,o.onComplete),c=this.syncPointTree_.subtree(i);if(r)a.assert(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var l=c.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var i=[];return e&&(i=i.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),M(n,(function(t,e){i=i.concat(e)})),i})),u=0;u<l.length;++u){var h=l[u];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Ut.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return i?e.applyTaggedListenComplete(n.path,i):e.applyListenComplete(n.path);var r=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var i=new Error(t+" at "+e.path.toString()+": "+n);return i.code=t.toUpperCase(),i}(t,n);return e.removeEventRegistration(n,null,r)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return a.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new X(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);a.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(X.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,i);var r=e.get(X.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(X.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){var l=n?n.getImmediateChild(s):null,u=i.child(s);o=o.concat(this.applyOperationHelper_(a,c,l,u))}return r&&(o=o.concat(r.applyOperation(t,i,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,i){var r=this,o=e.get(X.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(X.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,c=i.child(e),l=t.operationForChild(e);l&&(s=s.concat(r.applyOperationDescendantsHelper_(l,o,a,c)))})),o&&(s=s.concat(o.applyOperation(t,i,n))),s},t.nextQueryTag_=1,t}(),Pe=function(){function t(){this.rootNode_=Ut.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Re=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';O(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),De=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),a.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return a.deepCopy(this.counters_)},t}(),Me=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new De),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),je=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=s.__assign({},t);return this.last_&&M(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Le=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new je(t);var n=1e4+2e4*Math.random();Y(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;M(e,(function(e,r){r>0&&a.contains(t.statsToReport_,e)&&(n[e]=r,i=!0)})),i&&this.server_.reportStats(n),Y(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Fe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var i=t[n],r=i.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Ve(r)),e.add(i)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];i&&(t(i.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Ve=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();_&&E("event: "+e.toString()),$(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Ue=function(){function t(t){this.allowedEvents_=t,this.listeners_={},a.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=s.__spread(this.listeners_[t]),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){a.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Be=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))}),!1),i}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Ue),ze=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Ue),qe=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&$((function(){n.onMessage_(t[e])}))},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==i(););},t}(),We=function(){function t(t,e,n,i){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=C(t),this.stats_=Me.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new qe(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(a.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new He((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=s.__read(t,5),r=i[0],o=i[1],a=i[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===r)n.id=o,n.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=s.__read(t,2),r=i[0],o=i[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(a.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=a.base64Encode(e),i=D(n,1840),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=a.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),He=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(c){E("frame writing exception"),c.stack&&E(c.stack),E(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||E("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",i=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var r=this.pendingSegs.shift();n=n+"&seg"+i+"="+r.seg+"&ts"+i+"="+r.ts+"&d"+i+"="+r.d,i++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var i=function(){n.outstandingRequests.delete(e),n.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(r),i()}))},t.prototype.addTag=function(t,e){var n=this;a.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){E("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}}),Math.floor(1))},t}(),Ge="",Qe=null;"undefined"!=typeof MozWebSocket?Qe=MozWebSocket:"undefined"!=typeof WebSocket&&(Qe=WebSocket);var Ke=function(){function t(e,n,i,r){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=C(this.connId),this.stats_=Me.getCollection(n),this.connURL=t.connectionURL_(n,i,r)}return t.connectionURL_=function(t,e,n){var i={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),t.connectionURL("websocket",i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var i={headers:{"User-Agent":"Firebase/5/"+Ge+"/"+process.platform+"/"+(a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},r=process.env,o=0===this.connURL.indexOf("wss://")?r.HTTPS_PROXY||r.https_proxy:r.HTTP_PROXY||r.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new Qe(this.connURL,[],i)}else this.mySock=new Qe(this.connURL)}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Qe&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=a.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(a.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=D(e,16384);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),$e=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[We,Ke]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,i,r=Ke&&Ke.isAvailable(),o=r&&!Ke.previouslyFailed();if(e.webSocketOnly&&(r||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ke];else{var a=this.transports_=[];try{for(var c=s.__values(t.ALL_TRANSPORTS),l=c.next();!l.done;l=c.next()){var u=l.value;u&&u.isAvailable()&&a.push(u)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Ye=function(){function t(t,e,n,i,r,o,s){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=r,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=C("c:"+this.id+":"),this.transportManager_=new $e(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,i)}),Math.floor(0));var r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Y((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?x("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):x("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Y((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Y((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Xe=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Ze=function(t){function e(n,i,r,o,s,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.onDataUpdate_=i,l.onConnectStatus_=r,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=C("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Be.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&ze.getInstance().on("online",l.onOnline_,l),l}return s.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(a.stringify(r)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.listen=function(t,e,n,i){var r=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");var s={onComplete:i,hashFn:e,query:t,tag:n};this.listens.get(o).set(r,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i.path.toString(),o=i.queryIdentifier();this.log_("Listen on "+r+" for "+o);var s={p:r};t.tag&&(s.q=i.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,i),(n.listens.get(r)&&n.listens.get(r).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(r,o),t.onComplete&&t.onComplete(c,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&a.contains(t,"w")){var n=a.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',r=e.path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||a.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=a.isValidFormat(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(n,i,(function(n){var i=n.s,r=n.d||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t};i&&(r.q=n,r.t=i),this.sendRequest("n",r)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,(function(t){i&&setTimeout((function(){i(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){var o={p:e,d:n};void 0!==r&&(o.h=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,(function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i.s,i.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+a.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):x("Unrecognized action received from server: "+a.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+e.nextConnectionId_++,o=this,s=this.lastSessionId,c=!1,l=null,u=function(){l?l.close():(c=!0,i())};this.realtime_={close:u,sendRequest:function(t){a.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){c?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,l=new Ye(r,o.repoInfo_,t,n,i,(function(t){O(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(t){o.log_("Failed to get token: "+t),c||(a.CONSTANTS.NODE_ADMIN&&O(t),u())}))}},e.prototype.interrupt=function(t){E("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){E("Resuming connection for reason: "+t),delete this.interruptReasons_[t],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return R(t)})).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new X(t).toString();if(this.listens.has(i)){var r=this.listens.get(i);n=r.get(e),r.delete(e),0===r.size&&this.listens.delete(i)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){E("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,i;this.tryAuth();try{for(var r=s.__values(this.listens.values()),o=r.next();!o.done;o=r.next()){var a=o.value;try{for(var c=(n=void 0,s.__values(a.values())),l=c.next();!l.done;l=c.next())this.sendListen_(l.value)}catch(d){n={error:d}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}for(var u=0;u<this.outstandingPuts_.length;u++)this.outstandingPuts_[u]&&this.sendPut_(u);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";a.CONSTANTS.NODE_ADMIN?e="admin_node":a.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+Ge.replace(/\./g,"-")]=1,a.isMobileCordova()?t["framework.cordova"]=1:a.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ze.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Xe),Je=function(t){function e(e,n,i){var r=t.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=C("p:rest:"),r.listens_={},r}return s.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(a.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,i,r){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var c=e.getListenId_(t,i),l={};this.listens_[c]=l;var u=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",u,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,i),a.safeGet(o.listens_,c)===l&&r(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(r){var o=r&&r.accessToken;o&&(e.auth=o);var s=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+a.querystring(e);i.log_("Sending REST request for "+s);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){i.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=a.jsonEval(c.responseText)}catch(e){O("Failed to parse JSON response for "+s+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&O("Got unsuccessful REST response for "+s+" Status: "+c.status),n(c.status);n=null}},c.open("GET",s,!0),c.send()}))},e}(Xe),tn=function(){function t(t,e,n,i){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Fe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ce,this.persistentConnection_=null;var o=new Re(n,i);if(this.stats_=Me.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Je(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options.databaseAuthVariableOverride;if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(s)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}this.persistentConnection_=new Ze(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,s),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){r.server_.refreshAuthToken(t)})),this.statsReporter_=Me.getOrCreateReporter(t,(function(){return new Le(r.stats_,r.server_)})),this.transactionsInit_(),this.infoData_=new Pe,this.infoSyncTree_=new Ne({startListening:function(t,e,n,i){var o=[],s=r.infoData_.getNode(t.path);return s.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ne({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,(function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new X(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,i){this.dataUpdateCount++;var r=new X(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(i)if(n){var s=a.map(e,(function(t){return zt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(r,s,i)}else{var c=zt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(r,c,i)}else if(n){var l=a.map(e,(function(t){return zt(t)}));o=this.serverSyncTree_.applyServerMerge(r,l)}else{var u=zt(e);o=this.serverSyncTree_.applyServerOverwrite(r,u)}var h=r;o.length>0&&(h=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;M(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new X("/.info/"+t),i=zt(e);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,i){var r=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=zt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),c=re(s,a,o),l=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserOverwrite(t,c,l,!0);this.eventQueue_.queueEvents(u),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||O("set at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(l,!o);r.eventQueue_.raiseEventsForChangedPath(t,s),r.callOnCompleteCallback(i,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var r=!0,o=this.generateServerValues(),s={};if(M(e,(function(e,n){r=!1,s[e]=ie(t.child(e),zt(n),i.serverSyncTree_,o)})),r)E("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,(function(e,r){var o="ok"===e;o||O("update at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(a,!o),c=s.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(c,s),i.callOnCompleteCallback(n,e,r)})),M(e,(function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new ce;this.onDisconnect_.forEachTree(X.Empty,(function(i,r){var o=ie(i,r,t.serverSyncTree_,e);n.remember(i,o)}));var i=[];n.forEachTree(X.Empty,(function(e,n){i=i.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var r=t.abortTransactions_(e);t.rerunTransactions_(r)})),this.onDisconnect_=new ce,this.eventQueue_.raiseEventsForChangedPath(X.Empty,i)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(i,r){"ok"===i&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,i,r)}))},t.prototype.onDisconnectSet=function(t,e,n){var i=this,r=zt(e);this.server_.onDisconnectPut(t.toString(),r.val(!0),(function(e,o){"ok"===e&&i.onDisconnect_.remember(t,r),i.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,i){var r=this,o=zt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(i,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var i=this;if(a.isEmpty(e))return E("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(r,o){"ok"===r&&M(e,(function(e,n){var r=zt(n);i.onDisconnect_.remember(t.child(e),r)})),i.callOnCompleteCallback(n,r,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new je(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);M(e,(function(t,e){for(var i=t,r=t.length;r<n+2;r++)i+=" ";console.log(i+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),E.apply(void 0,s.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&$((function(){if("ok"===e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n);var o=new Error(r);o.code=i,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new hn(this))},enumerable:!0,configurable:!0}),t}(),en=function(){function t(e){this.indexedFilter_=new _e(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,o){return this.matches(new wt(e,n))||(n=Ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Ut.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(Ut.EMPTY_NODE);var r=this;return e.forEachChild(kt,(function(t,e){r.matches(new wt(t,e))||(i=i.updateImmediateChild(t,Ut.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),nn=function(){function t(t){this.rangedFilter_=new en(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,o){return this.rangedFilter_.matches(new wt(e,n))||(n=Ut.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=Ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=Ut.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;r.hasNext()&&o<this.limit_;){var s=r.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;i=i.updateImmediateChild(s.name,s.node),o++}}else{i=(i=e.withIndex(this.index_)).updatePriority(Ut.EMPTY_NODE);var a=void 0,c=void 0,l=void 0;if(r=void 0,this.reverse_){r=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var u=this.index_.getCompare();l=function(t,e){return u(e,t)}}else r=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;for(var h=!1;r.hasNext();)s=r.getNext(),!h&&l(a,s)<=0&&(h=!0),h&&o<this.limit_&&l(s,c)<=0?o++:i=i.updateImmediateChild(s.name,Ut.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var c=t;a.assert(c.numChildren()===this.limit_,"");var l=new wt(e,n),u=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),f=i.getChildAfterChild(this.index_,u,this.reverse_);null!=f&&(f.name===e||c.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,l);if(h&&!n.isEmpty()&&p>=0)return null!=r&&r.trackChildChange(ve.childChangedChange(e,n,d)),c.updateImmediateChild(e,n);null!=r&&r.trackChildChange(ve.childRemovedChange(e,d));var m=c.updateImmediateChild(e,Ut.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=r&&r.trackChildChange(ve.childAddedChange(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}return n.isEmpty()?t:h&&o(u,l)>=0?(null!=r&&(r.trackChildChange(ve.childRemovedChange(u.name,u.node)),r.trackChildChange(ve.childAddedChange(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(u.name,Ut.EMPTY_NODE)):t},t}(),rn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=i}return this.index_!==kt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===kt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new _e(this.getIndex()):this.hasLimit()?new nn(this):new en(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,i={};return this.isDefault()?i:(this.index_===kt?e=n.PRIORITY_INDEX:this.index_===Wt?e=n.VALUE_INDEX:this.index_===xt?e=n.KEY_INDEX:(a.assert(this.index_ instanceof Ht,"Unrecognized index type!"),e=this.index_.toString()),i[n.ORDER_BY]=a.stringify(e),this.startSet_&&(i[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_),i)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),on=function(t){function e(e,n){if(!(e instanceof tn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,rn.DEFAULT,!1)||this}return s.__extends(e,t),e.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof X||(null===this.path.getFront()?pt("Reference.child",1,t,!1):ft("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){a.validateArgCount("Reference.set",1,2,arguments.length),mt("Reference.set",this.path),at("Reference.set",1,t,this.path,!1),a.validateCallback("Reference.set",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(a.validateArgCount("Reference.update",1,2,arguments.length),mt("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("Reference.update",1,t,this.path,!1),a.validateCallback("Reference.update",2,e,!0);var r=new a.Deferred;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),mt("Reference.setWithPriority",this.path),at("Reference.setWithPriority",1,t,this.path,!1),ut("Reference.setWithPriority",2,e,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new a.Deferred;return this.repo.setWithPriority(this.path,t,e,i.wrapCallback(n)),i.promise},e.prototype.remove=function(t){return a.validateArgCount("Reference.remove",0,1,arguments.length),mt("Reference.remove",this.path),a.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),mt("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,t,!1),a.validateCallback("Reference.transaction",2,e,!0),yt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new a.Deferred;"function"==typeof e&&i.promise.catch((function(){}));var r=function(t,n,r){t?i.reject(t):i.resolve(new _t(n,r)),"function"==typeof e&&e(t,n,r)};return this.repo.startTransaction(this.path,t,r,n),i.promise},e.prototype.setPriority=function(t,e){a.validateArgCount("Reference.setPriority",1,2,arguments.length),mt("Reference.setPriority",this.path),ut("Reference.setPriority",1,t,!1),a.validateCallback("Reference.setPriority",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){a.validateArgCount("Reference.push",0,2,arguments.length),mt("Reference.push",this.path),at("Reference.push",1,t,this.path,!0),a.validateCallback("Reference.push",2,e,!0);var n,i=this.repo.serverTime(),r=bt(i),o=this.child(r),s=this.child(r);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return mt("Reference.onDisconnect",this.path),new vt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(Xt);Xt.__referenceConstructor=on,Te.__referenceConstructor=on;var sn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),an=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new sn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof X?e:new X(e),i=this,r=n.getFront();null!==r;)i=new t(r,i,a.safeGet(i.node_.children,r)||new sn),r=(n=n.popFront()).getFront();return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){a.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;M(this.node_.children,(function(i,r){e(new t(i,n,r))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new X(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),i=a.contains(this.node_.children,t);n&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),cn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});tn.MAX_TRANSACTION_RETRIES_=25,tn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new an},tn.prototype.startTransaction=function(t,e,n,i){this.log_("transaction on "+t);var r=function(){},o=new on(this,t);o.on("value",r);var s={path:t,update:e,onComplete:n,status:null,order:g(),applyLocally:i,retryCount:0,unwatcher:function(){o.off("value",r)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);s.currentInputSnapshot=c;var l=s.update(c.val());if(void 0===l){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var u=new Gt(s.currentInputSnapshot,new on(this,s.path),kt);s.onComplete(null,!1,u)}}else{ct("transaction failed: Data returned ",l,s.path),s.status=cn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(s),h.setValue(d);var f=void 0;"object"==typeof l&&null!==l&&a.contains(l,".priority")?(f=a.safeGet(l,".priority"),a.assert(st(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(this.serverSyncTree_.calcCompleteEventCache(t)||Ut.EMPTY_NODE).getPriority().val(),f=f;var p=this.generateServerValues(),m=zt(l,f),y=re(m,c,p);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_()}},tn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Ut.EMPTY_NODE},tn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);a.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===cn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},tn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,i=e.map((function(t){return t.currentWriteId})),r=this.getLatestState_(t,i),o=r,s=r.hash(),c=0;c<e.length;c++){var l=e[c];a.assert(l.status===cn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=cn.SENT,l.retryCount++;var u=X.relativePath(t,l.path);o=o.updateChild(u,l.currentOutputSnapshotRaw)}var h=o.val(!0),d=t;this.server_.put(d.toString(),h,(function(i){n.log_("transaction put response",{path:d.toString(),status:i});var r=[];if("ok"===i){for(var o=[],s=0;s<e.length;s++){if(e[s].status=cn.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,c=new on(n,e[s].path),l=new Gt(a,c,kt);o.push(e[s].onComplete.bind(null,null,!0,l))}e[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,r),s=0;s<o.length;s++)$(o[s])}else{if("datastale"===i)for(s=0;s<e.length;s++)e[s].status=e[s].status===cn.SENT_NEEDS_ABORT?cn.NEEDS_ABORT:cn.RUN;else for(O("transaction at "+d.toString()+" failed: "+i),s=0;s<e.length;s++)e[s].status=cn.NEEDS_ABORT,e[s].abortReason=i;n.rerunTransactions_(t)}}),s)},tn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),i=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(i,n),n},tn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],i=[],r=t.filter((function(t){return t.status===cn.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var s=t[o],c=X.relativePath(e,s.path),l=!1,u=void 0;if(a.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===cn.NEEDS_ABORT)l=!0,u=s.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===cn.RUN)if(s.retryCount>=tn.MAX_TRANSACTION_RETRIES_)l=!0,u="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,r);s.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){ct("transaction failed: Data returned ",d,s.path);var f=zt(d);"object"==typeof d&&null!=d&&a.contains(d,".priority")||(f=f.updatePriority(h.getPriority()));var p=s.currentWriteId,m=this.generateServerValues(),g=re(f,h,m);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_(),r.splice(r.indexOf(p),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(s.path,g,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else l=!0,u="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],l&&(t[o].status=cn.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===u){var y=new on(this,t[o].path),v=new Gt(t[o].currentInputSnapshot,y,kt);n.push(t[o].onComplete.bind(null,null,!1,v))}else n.push(t[o].onComplete.bind(null,new Error(u),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)$(n[o]);this.sendReadyTransactions_()}},tn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},tn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},tn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,i=t.getValue();if(null!==i)for(var r=0;r<i.length;r++)e.push(i[r]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},tn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==cn.COMPLETED&&(n[i]=n[r],i++);n.length=i,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},tn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(i),i.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},tn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],i=[],r=-1,o=0;o<e.length;o++)e[o].status===cn.SENT_NEEDS_ABORT||(e[o].status===cn.SENT?(a.assert(r===o-1,"All SENT items should be at beginning of queue."),r=o,e[o].status=cn.SENT_NEEDS_ABORT,e[o].abortReason="set"):(a.assert(e[o].status===cn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===r?t.setValue(null):e.length=r+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i),o=0;o<n.length;o++)$(n[o])}};var ln,un=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return ln||(ln=new t),ln},t.prototype.interrupt=function(){var t,e,n,i;try{for(var r=s.__values(Object.keys(this.repos_)),o=r.next();!o.done;o=r.next()){var a=o.value;try{for(var c=(n=void 0,s.__values(Object.keys(this.repos_[a]))),l=c.next();!l.done;l=c.next())this.repos_[a][l.value].interrupt()}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,i;try{for(var r=s.__values(Object.keys(this.repos_)),o=r.next();!o.done;o=r.next()){var a=o.value;try{for(var c=(n=void 0,s.__values(Object.keys(this.repos_[a]))),l=c.next();!l.done;l=c.next())this.repos_[a][l.value].resume()}catch(u){n={error:u}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var i=n||t.options.databaseURL;void 0===i&&S("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=tt(i),o=r.repoInfo,s=void 0;return"undefined"!=typeof process&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s&&(o=(r=tt(i="http://"+s+"?ns="+o.namespace)).repoInfo),gt("Invalid Firebase Database URL",1,r),r.path.isEmpty()||S("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t,e).database},t.prototype.deleteRepo=function(t){var e=a.safeGet(this.repos_,t.app.name);e&&a.safeGet(e,t.repoInfo_.toURLString())===t||S("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var i=a.safeGet(this.repos_,e.name);i||(this.repos_[e.name]=i={});var r=a.safeGet(i,t.toURLString());return r&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new tn(t,this.useRestClient_,e,n),i[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),hn=function(){function t(t){this.repo_=t,t instanceof tn||S("Don't call new Database() directly - please use firebase.database()."),this.root_=new on(t,X.Empty),this.INTERNAL=new dn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),t instanceof on?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),a.validateArgCount(e,1,1,arguments.length);var n=tt(t);gt(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&S(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&S("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),dn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.database.checkDeleted_("delete"),un.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),fn=Object.freeze({__proto__:null,forceLongPolling:function(){Ke.forceDisallow(),We.forceAllow()},forceWebSockets:function(){We.forceDisallow()},isWebSocketsAvailable:function(){return Ke.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),pn=Ze;Ze.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ze.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var mn=Object.freeze({__proto__:null,DataConnection:pn,RealTimeConnection:Ye,hijackHash:function(t){var e=Ze.prototype.put;return Ze.prototype.put=function(n,i,r,o){void 0!==o&&(o=t()),e.call(this,n,i,r,o)},function(){Ze.prototype.put=e}},ConnectionTarget:J,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){un.getInstance().forceRestClient(t)}}),gn=hn.ServerValue;function yn(e){Ge=e.SDK_VERSION;var n=e.INTERNAL.registerComponent(new l.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal");return un.getInstance().databaseFromApp(n,i,e)}),"PUBLIC").setServiceProps({Reference:on,Query:Xt,Database:hn,DataSnapshot:Gt,enableLogging:w,INTERNAL:fn,ServerValue:gn,TEST_ACCESS:mn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.6.1"),a.isNodeSdk()&&(t.exports=n)}yn(o),e.DataSnapshot=Gt,e.Database=hn,e.OnDisconnect=vt,e.Query=Xt,e.Reference=on,e.ServerValue=gn,e.enableLogging=w,e.registerDatabase=yn},VXX1:function(t,e,n){t.exports=n.p+"release-butler.3136673fde1209d59efa.png"},WRB3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("pD9t"),r=n("82Ps"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new r.Deferred;this.instancesDeferred.set(e,n);try{var i=this.getOrInitializeService(e);i&&n.resolve(i)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=i.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,r=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(r);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(u){}try{for(var r=i.__values(this.instancesDeferred.entries()),o=r.next();!o.done;o=r.next()){var s=i.__read(o.value,2),a=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(u){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return i.__awaiter(this,void 0,void 0,(function(){var t;return i.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},X0qr:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return i}))},YtkY:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("5uGe");function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends i.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},ZTXN:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u}));var i=n("IdLP"),r=n("5uGe"),o=n("bwdy"),s=n("MiDb"),a=n("yTkW"),c=n("25CY");class l extends r.a{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends i.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new i.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},bwdy:function(t,e,n){"use strict";var i=n("FU6l"),r=n("X0qr"),o=n("IJgj");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();n.d(e,"a",(function(){return a}));let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(u){e=u instanceof s?c(u.errors):[u]}if(Object(i.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(r.a)(n))try{n.unsubscribe()}catch(u){e=e||[],u instanceof s?e=e.concat(c(u.errors)):e.push(u)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},cJ9h:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("mW0F"),r=n("pBDD"),o=n("r9RI"),s=n("YtkY"),a=n("GoAz");function c(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(c((n,i)=>Object(a.a)(t(n,i)).pipe(Object(s.a)((t,r)=>e(n,t,i,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new l(t,n)))}class l{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends r.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new o.a(this,e,n),s=this.destination;s.add(r);const a=Object(i.a)(this,t,void 0,void 0,r);a!==r&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},ckkg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("IdLP"),r=n("dUuy"),o=n("czMQ");function s(t,e){return e?Object(o.a)(t,e):new i.a(Object(r.a)(t))}},czMQ:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("IdLP"),r=n("bwdy");function o(t,e){return new i.a(n=>{const i=new r.a;let o=0;return i.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}},dUuy:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},"eY+9":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=t=>t&&"number"==typeof t.length&&"function"!=typeof t},g6G6:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("IdLP"),r=n("gBlb"),o=n("3lSR"),s=n("ckkg");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(r.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof i.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},gBlb:function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return i}))},huQ6:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,i){e(n,i,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(i){u(o[0][3],i)}var n}function c(t){a("next",t)}function l(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"i9P/":function(t,e,n){"use strict";function i(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return i}))},"iRe+":function(t,e,n){"use strict";function i(t){return t instanceof Date&&!isNaN(+t)}n.d(e,"a",(function(){return i}))},iT4G:function(t,e,n){"use strict";var i=n("Efrr");const r=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})();var o=n("iRe+"),s=n("pBDD"),a=n("mW0F");class c{constructor(t,e,n,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=i}call(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class l extends s.a{constructor(t,e,n,i,r){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=i,this.scheduler=r,this.action=null,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(a.a)(t,e))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(l.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var u=n("47ST");function h(t,e=i.a){return function(t,e,n=i.a){return i=>{let r=Object(o.a)(t),s=r?+t-n.now():Math.abs(t);return i.lift(new c(s,r,e,n))}}(t,Object(u.a)(new r),e)}n.d(e,"a",(function(){return h}))},kSHZ:function(t,e,n){"use strict";var i=n("EWqr");class r extends i.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("DG/E");class s extends o.a{}n.d(e,"a",(function(){return a}));const a=new s(r)},kTG4:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,i){e(n,i,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(i){u(o[0][3],i)}var n}function c(t){a("next",t)}function l(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},kgbq:function(t,e,n){"use strict";function i(){}n.d(e,"a",(function(){return i}))},kuMc:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("pBDD"),r=n("mW0F");function o(t){return e=>e.lift(new s(t))}class s{constructor(t){this.notifier=t}call(t,e){const n=new a(t),i=Object(r.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class a extends i.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}},mW0F:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("r9RI"),r=n("1MAX"),o=n("IdLP");function s(t,e,n,s,a=new i.a(t,n,s)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(r.a)(e)(a)}},mWib:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("5uGe"),r=n("Efrr");function o(t,e=r.a){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends i.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function c(t){t.debouncedNext()}},pBDD:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("5uGe");class r extends i.a{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},pD9t:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return r})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return l})),n.d(e,"__awaiter",(function(){return u})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return _})),n.d(e,"__asyncValues",(function(){return b})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return C})),n.d(e,"__classPrivateFieldGet",(function(){return x})),n.d(e,"__classPrivateFieldSet",(function(){return S}));var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function a(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,i){e(n,i,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{c(i.next(t))}catch(e){o(e)}}function a(t){try{c(i.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((i=i.apply(t,e||[])).next())}))}function h(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,r++)i[r]=o[s];return i}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(t){r[t]&&(i[t]=function(e){return new Promise((function(n,i){o.push([t,e,n,i])>1||a(t,e)}))})}function a(t,e){try{(n=r[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,l):u(o[0][2],n)}catch(i){u(o[0][3],i)}var n}function c(t){a("next",t)}function l(t){a("throw",t)}function u(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){e[i]=t[i]?function(e){return(n=!n)?{value:y(t[i](e)),done:"return"===i}:r?r(e):e}:r}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,r){!function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)}(i,r,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function C(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function S(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},plFh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r,o=n("kTG4"),s=n("82Ps"),a=n("WRB3"),c=n("Gjt8"),l=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",i["bad-app-name"]="Illegal App name: '{$appName}",i["duplicate-app"]="Firebase App named '{$appName}' already exists",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i),u=new s.ErrorFactory("app","Firebase",l),h=((r={})["@firebase/app"]="fire-core",r["@firebase/analytics"]="fire-analytics",r["@firebase/auth"]="fire-auth",r["@firebase/database"]="fire-rtdb",r["@firebase/functions"]="fire-fn",r["@firebase/installations"]="fire-iid",r["@firebase/messaging"]="fire-fcm",r["@firebase/performance"]="fire-perf",r["@firebase/remote-config"]="fire-rc",r["@firebase/storage"]="fire-gcs",r["@firebase/firestore"]="fire-fst",r["fire-js"]="fire-js",r["firebase-wrapper"]="fire-js-all",r),d=new c.Logger("@firebase/app"),f=function(){function t(t,e,n){var i,r,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return c}),"PUBLIC"));try{for(var l=o.__values(this.firebase_.INTERNAL.components.values()),u=l.next();!u.done;u=l.next())this._addComponent(u.value)}catch(h){i={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(i)throw i.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var o=r;void 0===o.name&&(o.name="[DEFAULT]");var a=o.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw u.create("duplicate-app",{appName:a});var c=new t(n,o,i);return e[a]=c,c},app:r,registerVersion:function(t,e,n){var i,r=null!==(i=h[t])&&void 0!==i?i:t;n&&(r+="-"+n);var o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var c=['Unable to register library "'+r+'" with version "'+e+'":'];return o&&c.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),o&&s&&c.push("and"),s&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}l(new a.Component(r+"-version",(function(){return{library:r,version:e}}),"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument",{appName:name});c.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.14.1",INTERNAL:{registerComponent:l,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function r(t){if(!s.contains(e,t=t||"[DEFAULT]"))throw u.create("no-app",{appName:t});return e[t]}function l(a){var c,l,h=a.name;if(n.has(h))return d.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?i[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=r()),"function"!=typeof t[h])throw u.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(f,a.serviceProps),i[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=o.__values(Object.keys(e)),m=p.next();!m.done;m=p.next())e[m.value]._addComponent(a)}catch(g){c={error:g}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?i[h]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),r.App=t,i}(f);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var g=self.firebase.SDK_VERSION;g&&g.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),y.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new m(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.2",void 0),t.registerVersion("fire-js","")}(v),e.default=v,e.firebase=v},qEfY:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},r9RI:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("5uGe");class r extends i.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},rWo0:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("HgnN"),r=n("i9P/");const o={closed:!0,next(t){},error(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete(){}}},ryP2:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("6Oco"),r=n("ROBh"),o=n("47ST");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(r.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},sN6X:function(t,e,n){"use strict";var i=n("EM62"),r=n("C05f"),o=n("IdLP"),s=n("ZTXN"),a=n("kSHZ"),c=n("A2S1"),l=n("w0kG"),u=n("SrNW"),h=n("YtkY"),d=n("Ohay");function f(t,e){if("function"==typeof e)return m(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return m(t,()=>({type:t}));case"props":return m(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function p(){return{_as:"props",_p:void 0}}function m(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return q})),n.d(e,"e",(function(){return z})),n.d(e,"f",(function(){return Q})),n.d(e,"g",(function(){return Y})),n.d(e,"h",(function(){return tt})),n.d(e,"i",(function(){return St})),n.d(e,"j",(function(){return Ot})),n.d(e,"k",(function(){return xt})),n.d(e,"l",(function(){return W})),n.d(e,"m",(function(){return U})),n.d(e,"n",(function(){return f})),n.d(e,"o",(function(){return ct})),n.d(e,"p",(function(){return Dt})),n.d(e,"q",(function(){return st})),n.d(e,"r",(function(){return Rt})),n.d(e,"s",(function(){return p})),n.d(e,"t",(function(){return nt}));const g="@ngrx/store/init";let y=(()=>{class t extends r.a{constructor(){super({type:g})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const v=[y],_=new i.r("@ngrx/store Internal Root Guard"),b=new i.r("@ngrx/store Internal Initial State"),w=new i.r("@ngrx/store Initial State"),E=new i.r("@ngrx/store Reducer Factory"),C=new i.r("@ngrx/store Internal Reducer Factory Provider"),x=new i.r("@ngrx/store Initial Reducers"),S=new i.r("@ngrx/store Internal Initial Reducers"),O=new i.r("@ngrx/store Store Features"),T=new i.r("@ngrx/store Internal Store Reducers"),k=new i.r("@ngrx/store Internal Feature Reducers"),I=new i.r("@ngrx/store Internal Feature Configs"),A=new i.r("@ngrx/store Internal Store Features"),N=new i.r("@ngrx/store Internal Feature Reducers Token"),P=new i.r("@ngrx/store Feature Reducers"),R=new i.r("@ngrx/store User Provided Meta Reducers"),D=new i.r("@ngrx/store Meta Reducers"),M=new i.r("@ngrx/store Internal Resolved Meta Reducers"),j=new i.r("@ngrx/store User Runtime Checks Config"),L=new i.r("@ngrx/store Internal User Runtime Checks Config"),F=new i.r("@ngrx/store Internal Runtime Checks");function V(t,e={}){const n=Object.keys(t),i={};for(let o=0;o<n.length;o++){const e=n[o];"function"==typeof t[e]&&(i[e]=t[e])}const r=Object.keys(i);return function(t,n){t=void 0===t?e:t;let o=!1;const s={};for(let e=0;e<r.length;e++){const a=r[e],c=t[a],l=(0,i[a])(c,n);s[a]=l,o=o||l!==c}return o?s:t}}function U(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function B(t,e){return Array.isArray(e)&&e.length>0&&(t=U.apply(null,[...e,t])),(e,n)=>{const i=t(e);return(t,e)=>i(t=void 0===t?n:t,e)}}class z extends o.a{}class q extends y{}const W="@ngrx/store/update-reducers";let H=(()=>{class t extends r.a{constructor(t,e,n,i){super(i(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=i}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:i,initialState:r,key:o})=>{const s="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?U(...t):t=>t;return(t,n)=>(t=e(t),(e,i)=>t(e=void 0===e?n:e,i))}(i)(e,r):B(n,i)(e,r);return t[o]=s,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,n;this.reducers=(e=this.reducers,n=t,Object.keys(e).filter(t=>t!==n).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:W,features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(q),i.ac(w),i.ac(x),i.ac(E))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const G=[H,{provide:z,useExisting:H},{provide:q,useExisting:y}];let Q=(()=>{class t extends s.a{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return K(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const K=i.Yb(Q),$=[Q];class Y extends o.a{}let X=(()=>{class t extends r.a{constructor(t,e,n,i){super(i);const r={state:i},o=t.pipe(Object(c.b)(a.a)).pipe(Object(l.a)(e)).pipe(Object(u.a)(Z,r));this.stateSubscription=o.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(y),i.ac(z),i.ac(Q),i.ac(w))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t.INIT=g,t})();function Z(t={state:void 0},[e,n]){const{state:i}=t;return{state:n(i,e),action:e}}const J=[X,{provide:Y,useExisting:X}];let tt=(()=>{class t extends o.a{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return nt.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Y),i.ac(y),i.ac(H))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const et=[tt];function nt(t,e,...n){return function(i){let r;if("string"==typeof t){const o=[e,...n].filter(Boolean);r=i.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(h.a)(function(t,e){return n=>{let i=n;for(let r=0;r<e;r++){const e=i[t[r]];if(void 0===e)return;i=e}return i}}(t,e))(n)}(t,...o))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator,`+" expected 'string' or 'function'");r=i.pipe(Object(h.a)(n=>t(n,e)))}return r.pipe(Object(d.a)())}}function it(t,e){return t===e}function rt(t,e,n){for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!0;return!1}function ot(t,e=it,n=it){let i,r=null,o=null;return{memoized:function(){if(void 0!==i)return i.result;if(!r)return o=t.apply(null,arguments),r=arguments,o;if(!rt(arguments,r,e))return o;const s=t.apply(null,arguments);return r=arguments,n(o,s)?o:(o=s,s)},reset:function(){r=null,o=null},setResult:function(t){i={result:t}},clearResult:function(){i=void 0}}}function st(...t){return function(t,e={stateFn:at}){return function(...n){let i=n;if(Array.isArray(i[0])){const[t,...e]=i;i=[...t,...e]}const r=i.slice(0,i.length-1),o=i[i.length-1],s=r.filter(t=>t.release&&"function"==typeof t.release),a=t((function(...t){return o.apply(null,t)})),c=ot((function(t,n){return e.stateFn.apply(null,[t,r,n,a])}));return Object.assign(c.memoized,{release:function(){c.reset(),a.reset(),s.forEach(t=>t.release())},projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}(ot)(...t)}function at(t,e,n,i){if(void 0===n){const n=e.map(e=>e(t));return i.memoized.apply(null,n)}const r=e.map(e=>e(t,n));return i.memoized.apply(null,[...r,n])}function ct(t){return st(e=>{const n=e[t];return!Object(i.X)()||t in e||console.warn(`@ngrx/store: The feature name "${t}" does `+"not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module "+`using StoreModule.forRoot('${t}', ...) or `+`StoreModule.forFeature('${t}', ...).  If the default `+"state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored."),n},t=>t)}const lt="https://ngrx.io/guide/store/configuration/runtime-checks";function ut(t){return void 0===t}function ht(t){return null===t}function dt(t){return Array.isArray(t)}function ft(t){return"object"==typeof t&&null!==t}function pt(t){return"function"==typeof t}function mt(t){Object.freeze(t);const e=pt(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];!ft(e)&&!pt(e)||Object.isFrozen(e)||mt(e)}}),t}function gt(t,e=[]){return(ut(t)||ht(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,i)=>{if(n)return n;const r=t[i];return!(ut(r)||ht(r)||function(t){return"number"==typeof t}(r)||function(t){return"boolean"==typeof t}(r)||function(t){return"string"==typeof t}(r)||dt(r))&&(function(t){if(!function(t){return ft(t)&&!dt(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(r)?gt(r,[...e,i]):{path:[...e,i],value:r})},!1)}function yt(t,e){if(!1===t)return;const n=t.path.join("."),i=new Error(`Detected unserializable ${e} at "${n}". ${lt}#strict${e}serializability`);throw i.value=t.value,i.unserializablePath=n,i}function vt(t){return Object(i.X)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1}}function _t({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,i){e.action(i)&&yt(gt(i),"action");const r=t(n,i);return e.state()&&yt(gt(r),"state"),r}}(n,{action:e=>t&&!wt(e),state:()=>e}):n}function bt({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,i){const r=e.action(i)?mt(i):i,o=t(n,r);return e.state()?mt(o):o}}(n,{action:e=>t&&!wt(e),state:()=>e}):n}function wt(t){return t.type.startsWith("@ngrx")}function Et({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(n,r){if(e.action(r)&&!i.A.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${lt}#strictactionwithinngzone`);return t(n,r)}}(e,{action:e=>t&&!wt(e)}):e}function Ct(t){return t}let xt=(()=>{class t{constructor(t,e,n,i,r){}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(y),i.ac(z),i.ac(Q),i.ac(tt),i.ac(_,8))}}),t})(),St=(()=>{class t{constructor(t,e,n,i){this.features=t,this.featureReducers=e,this.reducerManager=n;const r=t.map((t,n)=>{const i=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:i,initialState:At(t.initialState)})});n.addFeatures(r)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(A),i.ac(P),i.ac(H),i.ac(xt))}}),t})(),Ot=(()=>{class t{static forRoot(t,e={}){return{ngModule:xt,providers:[{provide:_,useFactory:Pt,deps:[[tt,new i.B,new i.K]]},{provide:b,useValue:e.initialState},{provide:w,useFactory:At,deps:[b]},{provide:S,useValue:t},{provide:T,useExisting:t instanceof i.r?t:S},{provide:x,deps:[i.s,S,[new i.q(T)]],useFactory:Tt},{provide:R,useValue:e.metaReducers?e.metaReducers:[]},{provide:M,deps:[D,R],useFactory:Nt},{provide:C,useValue:e.reducerFactory?e.reducerFactory:V},{provide:E,deps:[C,M],useFactory:B},v,G,$,J,et,(n=e.runtimeChecks,[{provide:L,useValue:n},{provide:j,useFactory:Ct,deps:[L]},{provide:F,deps:[j],useFactory:vt},{provide:D,multi:!0,deps:[F],useFactory:bt},{provide:D,multi:!0,deps:[F],useFactory:_t},{provide:D,multi:!0,deps:[F],useFactory:Et}])]};var n}static forFeature(t,e,n={}){return{ngModule:St,providers:[{provide:I,multi:!0,useValue:n},{provide:O,multi:!0,useValue:{key:t,reducerFactory:n instanceof i.r||!n.reducerFactory?V:n.reducerFactory,metaReducers:n instanceof i.r||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof i.r||!n.initialState?void 0:n.initialState}},{provide:A,deps:[i.s,I,O],useFactory:kt},{provide:k,multi:!0,useValue:e},{provide:N,multi:!0,useExisting:e instanceof i.r?e:k},{provide:P,multi:!0,deps:[i.s,k,[new i.q(N)]],useFactory:It}]}}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)}}),t})();function Tt(t,e){return e instanceof i.r?t.get(e):e}function kt(t,e,n){return n.map((n,r)=>{if(e[r]instanceof i.r){const i=t.get(e[r]);return{key:n.key,reducerFactory:i.reducerFactory?i.reducerFactory:V,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return n})}function It(t,e){return e.map(e=>e instanceof i.r?t.get(e):e)}function At(t){return"function"==typeof t?t():t}function Nt(t,e){return t.concat(e)}function Pt(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Rt(...t){return{reducer:t.pop(),types:t.reduce((t,e)=>[...t,e.type],[])}}function Dt(t,...e){const n=new Map;for(let i of e)for(let t of i.types)if(n.has(t)){const e=n.get(t);n.set(t,(t,n)=>i.reducer(e(t,n),n))}else n.set(t,i.reducer);return function(e=t,i){const r=n.get(i.type);return r?r(e,i):e}}},sWLk:function(t,e,n){"use strict";function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return r}));const r=i()},vEql:function(t,e,n){"use strict";var i,r=(i=n("plFh"))&&"object"==typeof i&&"default"in i?i.default:i;r.registerVersion("firebase","7.14.2","app"),t.exports=r},w0kG:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("pBDD"),r=n("mW0F");function o(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new s(t,n))}}class s{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new a(t,this.observables,this.project))}}class a extends i.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let r=0;r<i;r++)this.toRespond.push(r);for(let o=0;o<i;o++){let t=e[o];this.add(Object(r.a)(this,t,t,o))}}notifyNext(t,e,n,i,r){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},xVbo:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("5uGe");function r(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends i.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},yTkW:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("bwdy");class r extends i.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("EM62");const r=n("9RND"),o={appName:"Covid-19 Battle",envName:"PROD",production:!0,test:!1,i18nPrefix:"",firebaseConfig:{apiKey:"AIzaSyAeNAI3CvR-xF76LcCd3OECEceI_rDrKEI",authDomain:"covid-battle.firebaseapp.com",databaseURL:"https://covid-battle.firebaseio.com",projectId:"covid-battle",storageBucket:"covid-battle.appspot.com",messagingSenderId:"207191050343",appId:"1:207191050343:web:6a3c62f59fb3f51df4ecc2",measurementId:"G-TLHVTWDY3B"},versions:{app:r.version,angular:r.dependencies["@angular/core"],ngrx:r.dependencies["@ngrx/store"],material:r.dependencies["@angular/material"],bootstrap:r.dependencies.bootstrap,rxjs:r.dependencies.rxjs,ngxtranslate:r.dependencies["@ngx-translate/core"],fontAwesome:r.dependencies["@fortawesome/fontawesome-free-webfonts"],angularCli:r.devDependencies["@angular/cli"],typescript:r.devDependencies.typescript,cypress:r.devDependencies.cypress}};let s=null;function a(){return s}const c=new i.r("DocumentToken");let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(i.ac)(d)}const h=new i.r("Location Initialized");let d=(()=>{class t extends l{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=a().getLocation(),this._history=a().getHistory()}getBaseHrefFromDOM(){return a().getBaseHref(this._doc)}onPopState(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Mb)({factory:p,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function p(){return new d(Object(i.ac)(c))}function m(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:_,token:t,providedIn:"root"}),t})();function _(t){const e=Object(i.ac)(c).location;return new w(Object(i.ac)(l),e&&e.origin||"")}const b=new i.r("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return m(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+y(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+y(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(l),i.ac(b,8))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=m(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let r=this.prepareExternalUrl(n+y(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){let r=this.prepareExternalUrl(n+y(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(l),i.ac(b,8))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{constructor(t,e){this._subject=new i.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(v),i.ac(l))},t.normalizeQueryParams=y,t.joinWithSlash=m,t.stripTrailingSlash=g,t.\u0275prov=Object(i.Mb)({factory:x,token:t,providedIn:"root"}),t})();function x(){return new C(Object(i.ac)(v),Object(i.ac)(l))}function S(t){return t.replace(/\/index.html$/,"")}const O=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),T=i.pb;class k{}let I=(()=>{class t extends k{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(T(e||this.locale)(t)){case O.Zero:return"zero";case O.One:return"one";case O.Two:return"two";case O.Few:return"few";case O.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.v))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();function A(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}let N=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(i.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(i.yb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.t),i.Qb(i.u),i.Qb(i.l),i.Qb(i.F))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class P{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let R=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(i.X)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new P(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new D(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new D(t,r);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.Q),i.Qb(i.M),i.Qb(i.t))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class D{constructor(t,e){this.record=t,this.view=e}}let M=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new j,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){L("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){L("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.Q),i.Qb(i.M))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class j{constructor(){this.$implicit=null,this.ngIf=null}}function L(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(i.yb)(e)}'.`)}class F{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let V=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),U=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new F(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.Q),i.Qb(i.M),i.Qb(V,1))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),B=(()=>{class t{constructor(t,e,n){n._addDefault(new F(t,e))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.Q),i.Qb(i.M),i.Qb(V,1))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})();class z{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class q{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const W=new q,H=new z;let G=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Object(i.vb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,i.S.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(i.ub)(e))return W;if(Object(i.tb)(e))return H;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(i.yb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(i.cc())},t.\u0275pipe=i.Pb({name:"async",type:t,pure:!1}),t})(),Q=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[{provide:k,useClass:I}]}),t})();function K(t){return"browser"===t}function $(t){return"server"===t}let Y=(()=>{class t{}return t.\u0275prov=Object(i.Mb)({token:t,providedIn:"root",factory:()=>new X(Object(i.ac)(c),window,Object(i.ac)(i.n))}),t})();class X{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class Z extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Z,s||(s=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=tt||(tt=document.querySelector("base"),tt)?tt.getAttribute("href"):null;return null==e?null:(n=e,J||(J=document.createElement("a")),J.setAttribute("href",n),"/"===J.pathname.charAt(0)?J.pathname:"/"+J.pathname);var n}resetBaseElement(){tt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return A(document.cookie,t)}}let J,tt=null;const et=new i.r("TRANSITION_ID"),nt=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[et,c,i.s],multi:!0}];class it{static init(){Object(i.Z)(new it)}addToWindow(t){i.rb.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.rb.getAllAngularRootElements=()=>t.getAllRootElements(),i.rb.frameworkStabilizers||(i.rb.frameworkStabilizers=[]),i.rb.frameworkStabilizers.push(t=>{const e=i.rb.getAllAngularTestabilities();let n=e.length,r=!1;const o=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const rt=new i.r("EventManagerPlugins");let ot=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(rt),i.ac(i.A))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();class st{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=a().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let at=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),ct=(()=>{class t extends at{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>a().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ut=/%COMP%/g;function ht(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?ht(t,r,n):(r=r.replace(ut,t),n.push(r))}return n}function dt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ft=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new pt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.R.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new mt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case i.R.Native:case i.R.ShadowDom:return new gt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ht(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.ac(ot),i.ac(ct),i.ac(i.c))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();class pt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(lt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=lt[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=lt[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&i.H.DashCase?t.style.setProperty(e,n,r&i.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,dt(n)):this.eventManager.addEventListener(t,e,dt(n))}}class mt extends pt{constructor(t,e,n,i){super(t),this.component=n;const r=ht(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(ut,i+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(ut,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class gt extends pt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===i.R.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=ht(r.id,r.styles,[]);for(let i=0;i<o.length;i++){const t=document.createElement("style");t.textContent=o[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let yt=(()=>{class t extends st{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const vt=["alt","control","meta","shift"],_t={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Et=(()=>{class t extends st{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),o=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>a().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let o="";if(vt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&bt.hasOwnProperty(e)&&(e=bt[e]))}return _t[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),vt.forEach(i=>{i!=n&&(0,wt[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:function(){return Object(i.ac)(xt)},token:t,providedIn:"root"}),t})(),xt=(()=>{class t extends Ct{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.J.NONE:return e;case i.J.HTML:return Object(i.gb)(e,"HTML")?Object(i.zb)(e):Object(i.db)(this._doc,String(e));case i.J.STYLE:return Object(i.gb)(e,"Style")?Object(i.zb)(e):Object(i.eb)(e);case i.J.SCRIPT:if(Object(i.gb)(e,"Script"))return Object(i.zb)(e);throw new Error("unsafe value used in a script context");case i.J.URL:return Object(i.qb)(e),Object(i.gb)(e,"URL")?Object(i.zb)(e):Object(i.fb)(String(e));case i.J.RESOURCE_URL:if(Object(i.gb)(e,"ResourceURL"))return Object(i.zb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(i.hb)(t)}bypassSecurityTrustStyle(t){return Object(i.kb)(t)}bypassSecurityTrustScript(t){return Object(i.jb)(t)}bypassSecurityTrustUrl(t){return Object(i.lb)(t)}bypassSecurityTrustResourceUrl(t){return Object(i.ib)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Mb)({factory:function(){return t=Object(i.ac)(i.p),new xt(t.get(c));var t},token:t,providedIn:"root"}),t})();const St=[{provide:i.C,useValue:"browser"},{provide:i.D,useValue:function(){Z.makeCurrent(),it.init()},multi:!0},{provide:c,useFactory:function(){return Object(i.xb)(document),document},deps:[]}],Ot=Object(i.T)(i.Y,"browser",St),Tt=[[],{provide:i.bb,useValue:"root"},{provide:i.n,useFactory:function(){return new i.n},deps:[]},{provide:rt,useClass:yt,multi:!0,deps:[c,i.A,i.C]},{provide:rt,useClass:Et,multi:!0,deps:[c]},[],{provide:ft,useClass:ft,deps:[ot,ct,i.c]},{provide:i.G,useExisting:ft},{provide:at,useExisting:ct},{provide:ct,useClass:ct,deps:[c]},{provide:i.N,useClass:i.N,deps:[i.A]},{provide:ot,useClass:ot,deps:[rt,i.A]},[]];let kt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:et,useExisting:i.c},nt]}}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(t,12))},providers:Tt,imports:[Q,i.f]}),t})();function It(){return new At(Object(i.ac)(c))}let At=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Mb)({factory:It,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;class Nt{}function Pt(t,e){return{type:7,name:t,definitions:e,options:{}}}function Rt(t,e=null){return{type:4,styles:e,timings:t}}function Dt(t,e=null){return{type:3,steps:t,options:e}}function Mt(t,e=null){return{type:2,steps:t,options:e}}function jt(t){return{type:6,styles:t,offset:null}}function Lt(t,e,n){return{type:0,name:t,styles:e,options:n}}function Ft(t){return{type:5,steps:t}}function Vt(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Ut(t=null){return{type:9,options:t}}function Bt(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function zt(t){Promise.resolve(null).then(t)}class qt{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Wt{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?zt(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Ht(){return"undefined"!=typeof process}function Gt(t){switch(t.length){case 0:return new qt;case 1:return t[0];default:return new Wt(t)}}function Qt(t,e,n,i,r={},o={}){const s=[],a=[];let c=-1,l=null;if(i.forEach(t=>{const n=t.offset,i=n==c,u=i&&l||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),a){case"!":a=r[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,i,a,s)}u[i]=a}),i||a.push(u),l=u,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Kt(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&$t(n,"start",t)));break;case"done":t.onDone(()=>i(n&&$t(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&$t(n,"destroy",t)))}}function $t(t,e,n){const i=n.totalTime,r=Yt(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function Yt(t,e,n,i,r="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Xt(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function Zt(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Jt=(t,e)=>!1,te=(t,e)=>!1,ee=(t,e,n)=>[];const ne=Ht();(ne||"undefined"!=typeof Element)&&(Jt=(t,e)=>t.contains(e),te=(()=>{if(ne||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):te}})(),ee=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let ie=null,re=!1;function oe(t){ie||(ie=("undefined"!=typeof document?document.body:null)||{},re=!!ie.style&&"WebkitAppearance"in ie.style);let e=!0;return ie.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in ie.style,!e&&re)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in ie.style),e}const se=te,ae=Jt,ce=ee;function le(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let ue=(()=>{class t{validateStyleProperty(t){return oe(t)}matchesElement(t,e){return se(t,e)}containsElement(t,e){return ae(t,e)}query(t,e,n){return ce(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,o=[],s){return new qt(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),he=(()=>{class t{}return t.NOOP=new ue,t})();function de(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fe(parseFloat(e[1]),e[2])}function fe(t,e){switch(e){case"s":return 1e3*t;default:return t}}function pe(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=fe(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=fe(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else i=t;if(!n){let n=!1,o=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:o}}(t,e,n)}function me(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ge(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else me(t,n);return n}function ye(t,e,n){return n?e+":"+n+";":""}function ve(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=ye(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=ye(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function _e(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=Te(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Ht()&&ve(t))}function be(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Te(e);t.style[n]=""}),Ht()&&ve(t))}function we(t){return Array.isArray(t)?1==t.length?t[0]:Mt(t):t}const Ee=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ce(t){let e=[];if("string"==typeof t){let n;for(;n=Ee.exec(t);)e.push(n[1]);Ee.lastIndex=0}return e}function xe(t,e,n){const i=t.toString(),r=i.replace(Ee,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function Se(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Oe=/-+([a-z0-9])/g;function Te(t){return t.replace(Oe,(...t)=>t[1].toUpperCase())}function ke(t,e){return 0===t||0===e}function Ie(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let o=e[0],s=[];if(i.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var r=1;r<e.length;r++){let n=e[r];s.forEach((function(e){n[e]=Ne(t,e)}))}}return e}function Ae(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Ne(t,e){return window.getComputedStyle(t)[e]}function Pe(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],o=i[2],s=i[3];e.push(Me(r,s)),"<"!=o[0]||"*"==r&&"*"==s||e.push(Me(s,r))}(t,n,e)):n.push(t),n}const Re=new Set(["true","1"]),De=new Set(["false","0"]);function Me(t,e){const n=Re.has(t)||De.has(t),i=Re.has(e)||De.has(e);return(r,o)=>{let s="*"==t||t==r,a="*"==e||e==o;return!s&&n&&"boolean"==typeof r&&(s=r?Re.has(t):De.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?Re.has(e):De.has(e)),s&&a}}const je=new RegExp("s*:selfs*,?","g");function Le(t,e,n){return new Fe(t).build(e,n)}class Fe{constructor(t){this._driver=t}build(t,e){const n=new Ve(e);return this._resetContextStyleTimingState(n),Ae(this,we(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,o.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=i||{};if(n.styles.forEach(t=>{if(Ue(t)){const e=t;Object.keys(e).forEach(t=>{Ce(e[t]).forEach(t=>{o.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=Se(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ae(this,we(t.animation),e);return{type:1,matchers:Pe(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Be(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Ae(this,t,e)),options:Be(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=Ae(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:Be(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ze(pe(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ze(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||pe(i,e),ze(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:jt({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,o=!1;if(!r){o=!0;const t={};n.easing&&(t.easing=n.easing),r=jt(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,e);s.isEmptyStep=o,i=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(Ue(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=s.startTime),a&&(o[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=Ce(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Ue(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Ue(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(i++,l=n.offset=c),s=s||l<0||l>1,o=o||l<a,a=l,r.push(l),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(l-1));const h=l-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,i)=>{const o=u>0?i==h?1:u*i:r[i],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Ae(this,we(t.animation),e),options:Be(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Be(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Be(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(je,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Xt(e.collectedStyles,e.currentQuerySelector,{});const s=Ae(this,we(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:Be(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:pe(t.timings,e.errors,!0);return{type:12,animation:Ae(this,we(t.animation),e),timings:n,options:null}}}class Ve{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ue(t){return!Array.isArray(t)&&"object"==typeof t}function Be(t){var e;return t?(t=me(t)).params&&(t.params=(e=t.params)?me(e):null):t={},t}function ze(t,e,n){return{duration:t,delay:e,easing:n}}function qe(t,e,n,i,r,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class We{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const He=new RegExp(":enter","g"),Ge=new RegExp(":leave","g");function Qe(t,e,n,i,r,o={},s={},a,c,l=[]){return(new Ke).buildKeyframes(t,e,n,i,r,o,s,a,c,l)}class Ke{buildKeyframes(t,e,n,i,r,o,s,a,c,l=[]){c=c||new We;const u=new Ye(t,e,c,i,r,l,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),Ae(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[qe(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?de(n.duration):null,o=null!=n.delay?de(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),Ae(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=$e);const t=de(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Ae(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?de(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);r&&s.delayNextStep(r),Ae(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return pe(e.params?xe(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?de(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=$e);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{e.currentQueryIndex=i;const s=e.createSubContext(t.options,n);r&&s.delayNextStep(r),n===e.element&&(a=s.currentTimeline),Ae(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;Ae(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-l+(i.startTime-n.currentTimeline.startTime)}}const $e={};class Ye{constructor(t,e,n,i,r,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$e,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Xe(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=de(n.duration)),null!=n.delay&&(i.delay=de(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=xe(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new Ye(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=$e,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Ze(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,o){let s=[];if(i&&s.push(this.element),t.length>0){t=(t=t.replace(He,"."+this._enterClassName)).replace(Ge,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return r||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class Xe{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Xe(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},o=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):ge(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=xe(o[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const s=ge(r,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(s.offset=o/this.duration),i.push(s)});const r=t.size?Se(t.values()):[],o=e.size?Se(e.values()):[];if(n){const t=i[0],e=me(t);t.offset=0,e.offset=1,i=[t,e]}return qe(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class Ze extends Xe{constructor(t,e,n,i,r,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=n+e,s=e/o,a=ge(t[0],!1);a.offset=0,r.push(a);const c=ge(t[0],!1);c.offset=Je(s),r.push(c);const l=t.length-1;for(let i=1;i<=l;i++){let s=ge(t[i],!1);s.offset=Je((e+s.offset*n)/o),r.push(s)}n=o,e=0,i="",t=r}return qe(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function Je(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class tn{}class en extends tn{normalizePropertyName(t,e){return Te(t)}normalizeStyleValue(t,e,n,i){let r="";const o=n.toString().trim();if(nn[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+r}}const nn=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function rn(t,e,n,i,r,o,s,a,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const on={};class sn{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}build(t,e,n,i,r,o,s,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||on,d=this.buildStyles(n,s&&s.params||on,u),f=a&&a.params||on,p=this.buildStyles(i,f,u),m=new Set,g=new Map,y=new Map,v="void"===i,_={params:Object.assign(Object.assign({},h),f)},b=l?[]:Qe(t,e,this.ast.animation,r,o,d,p,_,c,u);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return rn(e,this._triggerName,n,i,v,d,p,[],[],g,y,w,u);b.forEach(t=>{const n=t.element,i=Xt(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=Xt(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const E=Se(m.values());return rn(e,this._triggerName,n,i,v,d,p,b,E,g,y,w)}}class an{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=me(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let o=r[t];o.length>1&&(o=xe(o,i,e)),n[t]=o})}}),n}}class cn{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new an(t.style,t.options&&t.options.params||{})}),ln(this.states,"true","1"),ln(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new sn(t,e,this.states))}),this.fallbackTransition=new sn(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function ln(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const un=new We;class hn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=Le(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=Qt(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let o;const s=new Map;if(r?(o=Qe(this._driver,e,r,"ng-enter","ng-leave",{},{},n,un,i),o.forEach(t=>{const e=Xt(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=Gt(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=Yt(e,"","","");return Kt(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const dn=[],fn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class mn{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=me(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const gn=new mn("void");class yn{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,xn(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const o=Xt(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);const a=Xt(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(xn(t,"ng-trigger"),xn(t,"ng-trigger-"+e),a[e]=gn),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),o=new _n(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(xn(t,"ng-trigger"),xn(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new mn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=gn),"void"!==c.value&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,c.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{be(t,n),_e(t,i)})}return}const l=Xt(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,c.value,t,c.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(xn(t,"ng-animate-queued"),o.onStart(()=>{Sn(t,"ng-animate-queued")})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),l.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const o=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Gt(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,o=this._engine.statesByElement.get(t)[i]||gn,s=new mn("void"),a=new _n(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==fn||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){xn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(e=>{if(e.name==n.triggerName){const i=Yt(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,Kt(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class vn{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new yn(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(bn(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!bn(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),xn(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Sn(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(bn(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return bn(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Gt(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=fn,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)xn(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Gt(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new We,i=[],r=new Map,o=[],s=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Cn(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n="ng-enter"+p++;f.set(e,n),t.forEach(t=>xn(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,_=Cn(h,Array.from(g));_.forEach((t,e)=>{const n="ng-leave"+p++;v.set(e,n),t.forEach(t=>xn(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>Sn(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Sn(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!u||!this.driver.containsElement(u,r),h=v.get(r),d=f.get(r),p=this._buildInstruction(t,n,d,h,l);if(!p.errors||!p.errors.length)return l?(e.onStart(()=>be(r,p.fromStyles)),e.onDestroy(()=>_e(r,p.toStyles)),void i.push(e)):t.isFallbackTransition?(e.onStart(()=>be(r,p.fromStyles)),e.onDestroy(()=>_e(r,p.toStyles)),void i.push(e)):(p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,p.timelines),o.push({instruction:p,player:e,element:r}),p.queriedElements.forEach(t=>Xt(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=c.get(e);i||c.set(e,i=new Set),n.forEach(t=>i.add(t))}));w.push(p)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,C=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(C.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Xt(E,e,[]).push(t),t.destroy()})});const x=m.filter(t=>Tn(t,a,c)),S=new Map;En(S,this.driver,y,c,"*").forEach(t=>{Tn(t,a,c)&&x.push(t)});const O=new Map;d.forEach((t,e)=>{En(O,this.driver,new Set(t),a,"!")}),x.forEach(t=>{const e=S.get(t),n=O.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const T=[],k=[],I={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(l.has(e))return o.onDestroy(()=>_e(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);let t=I;if(C.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=C.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>C.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,E,r,O,S);if(o.setRealPlayer(n),t===I)T.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Gt(e)),i.push(o)}}else be(e,s.fromStyles),o.onDestroy(()=>_e(e,s.toStyles)),k.push(o),l.has(e)&&i.push(o)}),k.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=Gt(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Sn(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=s.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?On(this,t,i):this.processLeaveNode(t)}return m.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&o.push(e)})}}return(n||i)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==i,c=Xt(n,t,[]);this._getPreviousPlayers(t,a,r,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}be(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,o){const s=e.triggerName,a=e.element,c=[],l=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new qt(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof Wt?t(r.players,n):n.push(r)}}(t,e),e}((n.get(h)||dn).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=o.get(h),y=Qt(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&i&&u.add(h),f){const e=new _n(t,s,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{Xt(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>xn(t,"ng-animating"));const d=Gt(h);return d.onDestroy(()=>{l.forEach(t=>Sn(t,"ng-animating")),_e(a,e.toStyles)}),u.forEach(t=>{Xt(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new qt(t.duration,t.delay)}}class _n{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new qt,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Kt(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Xt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function bn(t){return t&&1===t.nodeType}function wn(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function En(t,e,n,i,r){const o=[];n.forEach(t=>o.push(wn(t)));const s=[];i.forEach((n,i)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=pn,s.push(i))}),t.set(i,o)});let a=0;return n.forEach(t=>wn(t,o[a++])),s}function Cn(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=r.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:i.has(s)?1:t(s),r.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}function xn(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Sn(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function On(t,e,n){Gt(n).onDone(()=>t.processLeaveNode(e))}function Tn(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class kn{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new vn(t,e,n),this._timelineEngine=new hn(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const o=t+"-"+i;let s=this._triggerCache[o];if(!s){const t=[],e=Le(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new cn(t,e)}(i,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=Zt(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=Zt(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function In(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Nn(e[0]),e.length>1&&(i=Nn(e[e.length-1]))):e&&(n=Nn(e)),n||i?new An(t,n,i):null}let An=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&_e(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_e(this._element,this._initialStyles),this._endStyles&&(_e(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(be(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(be(this._element,this._endStyles),this._endStyles=null),_e(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Nn(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];Pn(r)&&(e=e||{},e[r]=t[r])}return e}function Pn(t){return"display"===t||"position"===t}class Rn{constructor(t,e,n,i,r,o,s){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Vn(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),Fn(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ln(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Dn(this._element,this._name,"paused")}resume(){Dn(this._element,this._name,"running")}setPosition(t){const e=Mn(this._element,this._name);this._position=t*this._duration,Fn(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ln(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Vn(t,"").split(","),i=jn(n,e);i>=0&&(n.splice(i,1),Fn(t,"",n.join(",")))}(this._element,this._name))}}function Dn(t,e,n){Fn(t,"PlayState",n,Mn(t,e))}function Mn(t,e){const n=Vn(t,"");return n.indexOf(",")>0?jn(n.split(","),e):jn([n],e)}function jn(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ln(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Fn(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function Vn(t,e){return t.style["animation"+e]}class Un{constructor(t,e,n,i,r,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Rn(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Ne(this.element,n))})}this.currentSnapshot=t}}class Bn extends qt{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=le(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class zn{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return oe(t)}matchesElement(t,e){return se(t,e)}containsElement(t,e){return ae(t,e)}query(t,e,n){return ce(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>le(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const o=document.createElement("style");return o.innerHTML=i,o}animate(t,e,n,i,r,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof Un),c={};ke(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Ie(t,e,c));if(0==n)return new Bn(t,l);const u=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=In(t,e),f=new Un(t,e,u,n,i,r,l,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class qn{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Ne(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Wn{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Hn().toString()),this._cssKeyframesDriver=new zn}validateStyleProperty(t){return oe(t)}matchesElement(t,e){return se(t,e)}containsElement(t,e){return ae(t,e)}query(t,e,n){return ce(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const c={},l=o.filter(t=>t instanceof qn);ke(n,i)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=In(t,e=Ie(t,e=e.map(t=>ge(t,!1)),c));return new qn(t,e,a,u)}}function Hn(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Gn=(()=>{class t extends Nt{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:i.R.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Mt(t):t;return $n(this._renderer,null,e,"register",[n]),new Qn(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.G),i.ac(c))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();class Qn extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Kn(this._id,t,e||{},this._renderer)}}class Kn{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return $n(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function $n(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}let Yn=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Xn("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(o),new Zn(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.G),i.ac(kn),i.ac(i.A))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();class Xn{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Zn extends Xn{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Jn=(()=>{class t extends kn{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c),i.ac(he),i.ac(tn))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const ti=new i.r("AnimationModuleType"),ei=[{provide:he,useFactory:function(){return"function"==typeof Hn()?new Wn:new zn}},{provide:ti,useValue:"BrowserAnimations"},{provide:Nt,useClass:Gn},{provide:tn,useFactory:function(){return new en}},{provide:kn,useClass:Jn},{provide:i.G,useFactory:function(t,e,n){return new Yn(t,e,n)},deps:[ft,kn,i.A]}];let ni=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:ei,imports:[kt]}),t})();var ii=n("ROBh"),ri=n("IdLP"),oi=n("5uDM"),si=n("xVbo"),ai=n("YtkY");class ci{}class li{}class ui{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),r=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ui?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ui;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ui?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const r=t.value;if(r){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===r.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class hi{encodeKey(t){return di(t)}encodeValue(t){return di(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function di(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class fi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new hi,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[r,o]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new fi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function pi(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function mi(t){return"undefined"!=typeof Blob&&t instanceof Blob}function gi(t){return"undefined"!=typeof FormData&&t instanceof FormData}class yi{constructor(t,e,n,i){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new ui),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new fi,this.urlWithParams=e}serializeBody(){return null===this.body?null:pi(this.body)||mi(this.body)||gi(this.body)||"string"==typeof this.body?this.body:this.body instanceof fi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:gi(this.body)?null:mi(this.body)?this.body.type||null:pi(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new yi(e,n,r,{params:c,headers:a,reportProgress:s,responseType:i,withCredentials:o})}}const vi=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class _i{constructor(t,e=200,n="OK"){this.headers=t.headers||new ui,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bi extends _i{constructor(t={}){super(t),this.type=vi.ResponseHeader}clone(t={}){return new bi({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class wi extends _i{constructor(t={}){super(t),this.type=vi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new wi({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ei extends _i{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ci(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let xi=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof yi)i=t;else{let r=void 0;r=n.headers instanceof ui?n.headers:new ui(n.headers);let o=void 0;n.params&&(o=n.params instanceof fi?n.params:new fi({fromObject:n.params})),i=new yi(t,e,void 0!==n.body?n.body:null,{headers:r,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Object(ii.a)(i).pipe(Object(oi.a)(t=>this.handler.handle(t)));if(t instanceof yi||"events"===n.observe)return r;const o=r.pipe(Object(si.a)(t=>t instanceof wi));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(Object(ai.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(ai.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(ai.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(ai.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new fi).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ci(n,e))}post(t,e,n={}){return this.request("POST",t,Ci(n,e))}put(t,e,n={}){return this.request("PUT",t,Ci(n,e))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(ci))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();class Si{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Oi=new i.r("HTTP_INTERCEPTORS");let Ti=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const ki=/^\)\]\}',?\n/;class Ii{}let Ai=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),Ni=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new ri.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const e=1223===n.status?204:n.status,i=n.statusText||"OK",o=new ui(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return r=new bi({headers:o,status:e,statusText:i,url:s}),r},s=()=>{let{headers:i,status:r,statusText:s,url:a}=o(),c=null;204!==r&&(c=void 0===n.response?n.responseText:n.response),0===r&&(r=c?200:0);let l=r>=200&&r<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(ki,"");try{c=""!==c?JSON.parse(c):null}catch(u){c=t,l&&(l=!1,c={error:u,text:c})}}l?(e.next(new wi({body:c,headers:i,status:r,statusText:s,url:a||void 0})),e.complete()):e.error(new Ei({error:c,headers:i,status:r,statusText:s,url:a||void 0}))},a=t=>{const{url:i}=o(),r=new Ei({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(r)};let c=!1;const l=i=>{c||(e.next(o()),c=!0);let r={type:vi.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===t.responseType&&n.responseText&&(r.partialText=n.responseText),e.next(r)},u=t=>{let n={type:vi.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",l),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),e.next({type:vi.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",l),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ii))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const Pi=new i.r("XSRF_COOKIE_NAME"),Ri=new i.r("XSRF_HEADER_NAME");class Di{}let Mi=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c),i.ac(i.C),i.ac(Pi))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),ji=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Di),i.ac(Ri))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),Li=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Oi,[]);this.chain=t.reduceRight((t,e)=>new Si(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(li),i.ac(i.s))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),Fi=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ji,useClass:Ti}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:Pi,useValue:e.cookieName}:[],e.headerName?{provide:Ri,useValue:e.headerName}:[]]}}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[ji,{provide:Oi,useExisting:ji,multi:!0},{provide:Di,useClass:Mi},{provide:Pi,useValue:"XSRF-TOKEN"},{provide:Ri,useValue:"X-XSRF-TOKEN"}]}),t})(),Vi=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[xi,{provide:ci,useClass:Li},Ni,{provide:li,useExisting:Ni},Ai,{provide:Ii,useExisting:Ai}],imports:[[Fi.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Ui=n("sN6X"),Bi=n("GoAz"),zi=n("C05f");const qi=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Wi=n("gBlb"),Hi=n("FU6l"),Gi=n("pBDD"),Qi=n("mW0F"),Ki=n("ckkg");const $i={};function Yi(...t){let e=null,n=null;return Object(Wi.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Hi.a)(t[0])&&(t=t[0]),Object(Ki.a)(t,n).lift(new Xi(e))}class Xi{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Zi(t,this.resultSelector))}}class Zi extends Gi.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push($i),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(Qi.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,r){const o=this.values,s=this.toRespond?o[n]===$i?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Ji=n("6Oco");function tr(t){return new ri.a(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?Object(Bi.a)(n):Object(Ji.b)()).subscribe(e)})}var er=n("ZTXN"),nr=n("3lSR");function ir(){return Object(nr.a)(1)}var rr=n("5uGe"),or=n("PNff");function sr(t){return function(e){return 0===t?Object(Ji.b)():e.lift(new ar(t))}}class ar{constructor(t){if(this.total=t,this.total<0)throw new or.a}call(t,e){return e.subscribe(new cr(t,this.total))}}class cr extends rr.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=e++%n;t.next(i[r])}}t.complete()}}function lr(t=dr){return e=>e.lift(new ur(t))}class ur{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new hr(t,this.errorFactory))}}class hr extends rr.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function dr(){return new qi}function fr(t=null){return e=>e.lift(new pr(t))}class pr{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new mr(t,this.defaultValue))}}class mr extends rr.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var gr=n("5E2i");function yr(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Object(si.a)((e,n)=>t(e,n,i)):gr.a,sr(1),n?fr(e):lr(()=>new qi))}var vr=n("4e/d"),_r=n("J+dc");function br(t,e){const n=arguments.length>=2;return i=>i.pipe(t?Object(si.a)((e,n)=>t(e,n,i)):gr.a,Object(_r.a)(1),n?fr(e):lr(()=>new qi))}var wr=n("cJ9h");class Er{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Cr(t,this.predicate,this.thisArg,this.source))}}class Cr extends rr.a{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var xr=n("TLy2");function Sr(...t){return ir()(Object(ii.a)(...t))}function Or(...t){const e=t[t.length-1];return Object(Wi.a)(e)?(t.pop(),n=>Sr(t,n,e)):e=>Sr(t,e)}var Tr=n("SrNW"),kr=n("Ti3e"),Ir=n("kgbq"),Ar=n("IJgj");function Nr(t,e,n){return function(i){return i.lift(new Pr(t,e,n))}}class Pr{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Rr(t,this.nextOrObserver,this.error,this.complete))}}class Rr extends rr.a{constructor(t,e,n,i){super(t),this._tapNext=Ir.a,this._tapError=Ir.a,this._tapComplete=Ir.a,this._tapError=n||Ir.a,this._tapComplete=i||Ir.a,Object(Ar.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Ir.a,this._tapError=e.error||Ir.a,this._tapComplete=e.complete||Ir.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}var Dr=n("bwdy");function Mr(t){return e=>e.lift(new jr(t))}class jr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Lr(t,this.callback))}}class Lr extends rr.a{constructor(t,e){super(t),this.add(new Dr.a(e))}}class Fr{constructor(t,e){this.id=t,this.url=e}}class Vr extends Fr{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ur extends Fr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Br extends Fr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zr extends Fr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class qr extends Fr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wr extends Fr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hr extends Fr{constructor(t,e,n,i,r){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gr extends Fr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qr extends Fr{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $r{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Yr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let eo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Rb(0,"router-outlet")},directives:function(){return[aa]},encapsulation:2}),t})();class no{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function io(t){return new no(t)}function ro(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function oo(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let o=0;o<i.length;o++){const e=i[o],n=t[o];if(e.startsWith(":"))r[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}class so{constructor(t,e){this.routes=t,this.module=e}}function ao(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];co(i,lo(e,i))}}function co(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&ao(t.children,e)}function lo(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function uo(t){const e=t.children&&t.children.map(uo),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=eo),n}function ho(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!fo(t[r],e[r]))return!1;return!0}function fo(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function po(t){return Array.prototype.concat.apply([],t)}function mo(t){return t.length>0?t[t.length-1]:null}function go(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function yo(t){return Object(i.tb)(t)?t:Object(i.ub)(t)?Object(Bi.a)(Promise.resolve(t)):Object(ii.a)(t)}function vo(t,e,n){return n?function(t,e){return ho(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Eo(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fo(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,r){if(n.segments.length>r.length)return!!Eo(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!Eo(n.segments,r))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=r.slice(0,n.segments.length),o=r.slice(n.segments.length);return!!Eo(n.segments,t)&&!!n.children.primary&&e(n.children.primary,i,o)}}(e,n,n.segments)}(t.root,e.root)}class _o{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=io(this.queryParams)),this._queryParamMap}toString(){return Oo.serialize(this)}}class bo{constructor(t,e){this.segments=t,this.children=e,this.parent=null,go(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return To(this)}}class wo{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=io(this.parameters)),this._parameterMap}toString(){return Ro(this)}}function Eo(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Co(t,e){let n=[];return go(t.children,(t,i)=>{"primary"===i&&(n=n.concat(e(t,i)))}),go(t.children,(t,i)=>{"primary"!==i&&(n=n.concat(e(t,i)))}),n}class xo{}class So{parse(t){const e=new Fo(t);return new _o(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return To(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",i=[];return go(e.children,(e,n)=>{"primary"!==n&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Co(e,(n,i)=>"primary"===i?[t(e.children.primary,!1)]:[`${i}:${t(n,!1)}`]);return`${To(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Io(e)}=${Io(t)}`).join("&"):`${Io(e)}=${Io(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Oo=new So;function To(t){return t.segments.map(t=>Ro(t)).join("/")}function ko(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Io(t){return ko(t).replace(/%3B/gi,";")}function Ao(t){return ko(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function No(t){return decodeURIComponent(t)}function Po(t){return No(t.replace(/\+/g,"%20"))}function Ro(t){return`${Ao(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Ao(t)}=${Ao(e[t])}`).join("")}`;var e}const Do=/^[^\/()?;=#]+/;function Mo(t){const e=t.match(Do);return e?e[0]:""}const jo=/^[^=?&#]+/,Lo=/^[^?&#]+/;class Fo{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new bo([],{}):new bo([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new bo(t,e)),n}parseSegment(){const t=Mo(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wo(No(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Mo(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Mo(this.remaining);t&&(n=t,this.capture(n))}t[No(e)]=No(n)}parseQueryParam(t){const e=function(t){const e=t.match(jo);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Lo);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const i=Po(e),r=Po(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(e=[e],t[i]=e),e.push(r)}else t[i]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Mo(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r="primary");const o=this.parseChildren();e[r]=1===Object.keys(o).length?o.primary:new bo([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Vo{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Uo(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Uo(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Bo(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Bo(t,this._root).map(t=>t.value)}}function Uo(t,e){if(t===e.value)return e;for(const n of e.children){const e=Uo(t,n);if(e)return e}return null}function Bo(t,e){if(t===e.value)return[e];for(const n of e.children){const i=Bo(t,n);if(i.length)return i.unshift(e),i}return[]}class zo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qo(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Wo extends Vo{constructor(t,e){super(t),this.snapshot=e,Yo(this,t)}toString(){return this.snapshot.toString()}}function Ho(t,e){const n=function(t,e){const n=new Ko([],{},{},"",{},"primary",e,null,t.root,-1,{});return new $o("",new zo(n,[]))}(t,e),i=new zi.a([new wo("",{})]),r=new zi.a({}),o=new zi.a({}),s=new zi.a({}),a=new zi.a(""),c=new Go(i,r,s,a,o,"primary",e,n.root);return c.snapshot=n.root,new Wo(new zo(c,[]),n)}class Go{constructor(t,e,n,i,r,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ai.a)(t=>io(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ai.a)(t=>io(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qo(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Ko{constructor(t,e,n,i,r,o,s,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=io(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=io(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class $o extends Vo{constructor(t,e){super(e),this.url=t,Yo(this,e)}toString(){return Xo(this._root)}}function Yo(t,e){e.value._routerState=t,e.children.forEach(e=>Yo(t,e))}function Xo(t){const e=t.children.length>0?` { ${t.children.map(Xo).join(", ")} } `:"";return`${t.value}${e}`}function Zo(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ho(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ho(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ho(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ho(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Jo(t,e){var n,i;return ho(t.params,e.params)&&Eo(n=t.url,i=e.url)&&n.every((t,e)=>ho(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Jo(t.parent,e.parent))}function ts(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function es(t,e,n,i,r){let o={};return i&&go(i,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new _o(n.root===t?e:function t(e,n,i){const r={};return go(e.children,(e,o)=>{r[o]=e===n?i:t(e,n,i)}),new bo(e.segments,r)}(n.root,t,e),o,r)}class ns{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&ts(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==mo(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class is{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function rs(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function os(t,e,n){if(t||(t=new bo([],{})),0===t.segments.length&&t.hasChildren())return ss(t,e,n);const i=function(t,e,n){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;const e=t.segments[r],s=rs(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!us(s,a,e))return o;i+=2}else{if(!us(s,{},e))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new bo(t.segments.slice(0,i.pathIndex),{});return e.children.primary=new bo(t.segments.slice(i.pathIndex),t.children),ss(e,0,r)}return i.match&&0===r.length?new bo(t.segments,{}):i.match&&!t.hasChildren()?as(t,e,n):i.match?ss(t,0,r):as(t,e,n)}function ss(t,e,n){if(0===n.length)return new bo(t.segments,{});{const i=function(t){return"object"!=typeof t[0]?{primary:t}:void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),r={};return go(i,(n,i)=>{null!==n&&(r[i]=os(t.children[i],e,n))}),go(t.children,(t,e)=>{void 0===i[e]&&(r[e]=t)}),new bo(t.segments,r)}}function as(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const t=cs(n[r].outlets);return new bo(i,t)}if(0===r&&ts(n[0])){i.push(new wo(t.segments[e].path,n[0])),r++;continue}const o=rs(n[r]),s=r<n.length-1?n[r+1]:null;o&&s&&ts(s)?(i.push(new wo(o,ls(s))),r+=2):(i.push(new wo(o,{})),r++)}return new bo(i,{})}function cs(t){const e={};return go(t,(t,n)=>{null!==t&&(e[n]=as(new bo([],{}),0,t))}),e}function ls(t){const e={};return go(t,(t,n)=>e[n]=`${t}`),e}function us(t,e,n){return t==n.path&&ho(e,n.parameters)}class hs{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Zo(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=qo(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),go(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(t,e,r.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=qo(t),r=t.value.component?n.children:e;go(i,(t,e)=>this.deactivateRouteAndItsChildren(t,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=qo(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new Jr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Xr(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,r=e?e.value:null;if(Zo(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,r.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),ds(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=r,e.outlet&&e.outlet.activateWith(i,r),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function ds(t){Zo(t.value),t.children.forEach(ds)}function fs(t){return"function"==typeof t}function ps(t){return t instanceof _o}class ms{constructor(t){this.segmentGroup=t||null}}class gs{constructor(t){this.urlTree=t}}function ys(t){return new ri.a(e=>e.error(new ms(t)))}function vs(t){return new ri.a(e=>e.error(new gs(t)))}function _s(t){return new ri.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class bs{constructor(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(i.y)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(ai.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(vr.a)(t=>{if(t instanceof gs)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ms)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(ai.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(vr.a)(t=>{if(t instanceof ms)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new bo([],{primary:t}):t;return new _o(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ai.a)(t=>new bo([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(ii.a)({});const n=[],i=[],r={};return go(t,(t,o)=>{const s=e(o,t).pipe(Object(ai.a)(t=>r[o]=t));"primary"===o?n.push(s):i.push(s)}),ii.a.apply(null,n.concat(i)).pipe(ir(),yr(),Object(ai.a)(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,r,o){return Object(ii.a)(...n).pipe(Object(ai.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,i,r,o).pipe(Object(vr.a)(t=>{if(t instanceof ms)return Object(ii.a)(null);throw t}))),ir(),br(t=>!!t),Object(vr.a)((t,n)=>{if(t instanceof qi||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,r))return Object(ii.a)(new bo([],{}));throw new ms(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,r,o,s){return xs(i)!==o?ys(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o):ys(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?vs(r):this.lineralizeSegments(n,r).pipe(Object(wr.a)(n=>{const r=new bo(n,{});return this.expandSegment(t,r,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=ws(e,i,r);if(!s)return ys(e);const u=this.applyRedirectCommands(a,i.redirectTo,l);return i.redirectTo.startsWith("/")?vs(u):this.lineralizeSegments(i,u).pipe(Object(wr.a)(i=>this.expandSegment(t,e,n,i.concat(r.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(ai.a)(t=>(n._loadedConfig=t,new bo(i,{})))):Object(ii.a)(new bo(i,{}));const{matched:r,consumedSegments:o,lastChild:s}=ws(e,n,i);if(!r)return ys(e);const a=i.slice(s);return this.getChildConfig(t,n,i).pipe(Object(wr.a)(t=>{const n=t.module,i=t.routes,{segmentGroup:r,slicedSegments:s}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>Cs(t,e,n)&&"primary"!==xs(n))}(t,n,i)?{segmentGroup:Es(new bo(e,function(t,e){const n={};n.primary=e;for(const i of t)""===i.path&&"primary"!==xs(i)&&(n[xs(i)]=new bo([],{}));return n}(i,new bo(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Cs(t,e,n))}(t,n,i)?{segmentGroup:Es(new bo(t.segments,function(t,e,n,i){const r={};for(const o of n)Cs(t,e,o)&&!i[xs(o)]&&(r[xs(o)]=new bo([],{}));return Object.assign(Object.assign({},i),r)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,i);return 0===s.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(Object(ai.a)(t=>new bo(o,t))):0===i.length&&0===s.length?Object(ii.a)(new bo(o,{})):this.expandSegment(n,r,i,s,"primary",!0).pipe(Object(ai.a)(t=>new bo(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(ii.a)(new so(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(ii.a)(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?Object(Bi.a)(i).pipe(Object(ai.a)(i=>{const r=t.get(i);let o;if(function(t){return t&&fs(t.canLoad)}(r))o=r.canLoad(e,n);else{if(!fs(r))throw new Error("Invalid CanLoad guard");o=r(e,n)}return yo(o)})).pipe(ir(),(r=t=>!0===t,t=>t.lift(new Er(r,void 0,t)))):Object(ii.a)(!0);var r}(t.injector,e,n).pipe(Object(wr.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ai.a)(t=>(e._loadedConfig=t,t))):function(t){return new ri.a(e=>e.error(ro(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(ii.a)(new so([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Object(ii.a)(n);if(i.numberOfChildren>1||!i.children.primary)return _s(t.redirectTo);i=i.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const r=this.createSegmentGroup(t,e.root,n,i);return new _o(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return go(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const r=this.createSegments(t,e.segments,n,i);let o={};return go(e.children,(e,r)=>{o[r]=this.createSegmentGroup(t,e,n,i)}),new bo(r,o)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function ws(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||oo)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Es(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new bo(t.segments.concat(e.segments),e.children)}return t}function Cs(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function xs(t){return t.outlet||"primary"}class Ss{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Os{constructor(t,e){this.component=t,this.route=e}}function Ts(t,e,n){const i=t._root;return function t(e,n,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=qo(n);return e.children.forEach(e=>{!function(e,n,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=i?i.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Eo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Eo(t.url,e.url)||!ho(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jo(t,e)||!ho(t.queryParams,e.queryParams);case"paramsChange":default:return!Jo(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);l?o.canActivateChecks.push(new Ss(r)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?c?c.children:null:i,r,o),l&&o.canDeactivateChecks.push(new Os(c&&c.outlet&&c.outlet.component||null,a))}else a&&Is(n,c,o),o.canActivateChecks.push(new Ss(r)),t(e,null,s.component?c?c.children:null:i,r,o)}(e,s[e.value.outlet],i,r.concat([e.value]),o),delete s[e.value.outlet]}),go(s,(t,e)=>Is(t,i.getContext(e),o)),o}(i,e?e._root:null,n,[i.value])}function ks(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Is(t,e,n){const i=qo(t),r=t.value;go(i,(t,i)=>{Is(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Os(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}const As=Symbol("INITIAL_VALUE");function Ns(){return Object(xr.a)(t=>Yi(...t.map(t=>t.pipe(Object(_r.a)(1),Or(As)))).pipe(Object(Tr.a)((t,e)=>{let n=!1;return e.reduce((t,i,r)=>{if(t!==As)return t;if(i===As&&(n=!0),!n){if(!1===i)return i;if(r===e.length-1||ps(i))return i}return t},t)},As),Object(si.a)(t=>t!==As),Object(ai.a)(t=>ps(t)?t:!0===t),Object(_r.a)(1)))}function Ps(t,e){return null!==t&&e&&e(new Zr(t)),Object(ii.a)(!0)}function Rs(t,e){return null!==t&&e&&e(new Yr(t)),Object(ii.a)(!0)}function Ds(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Object(ii.a)(!0);const r=i.map(i=>tr(()=>{const r=ks(i,e,n);let o;if(function(t){return t&&fs(t.canActivate)}(r))o=yo(r.canActivate(e,t));else{if(!fs(r))throw new Error("Invalid CanActivate guard");o=yo(r(e,t))}return o.pipe(br())}));return Object(ii.a)(r).pipe(Ns())}function Ms(t,e,n){const i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>tr(()=>{const r=e.guards.map(r=>{const o=ks(r,e.node,n);let s;if(function(t){return t&&fs(t.canActivateChild)}(o))s=yo(o.canActivateChild(i,t));else{if(!fs(o))throw new Error("Invalid CanActivateChild guard");s=yo(o(i,t))}return s.pipe(br())});return Object(ii.a)(r).pipe(Ns())}));return Object(ii.a)(r).pipe(Ns())}class js{}class Ls{constructor(t,e,n,i,r,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){try{const t=Us(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Ko([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new zo(n,e),r=new $o(this.url,i);return this.inheritParamsAndData(r._root),Object(ii.a)(r)}catch(t){return new ri.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=Qo(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Co(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,i)}catch(r){if(!(r instanceof js))throw r}if(this.noLeftoversInUrl(e,n,i))return[];throw new js}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new js;if((t.outlet||"primary")!==i)throw new js;let r,o=[],s=[];if("**"===t.path){const o=n.length>0?mo(n).parameters:{};r=new Ko(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qs(t),i,t.component,t,Fs(e),Vs(e)+n.length,Ws(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new js;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||oo)(n,t,e);if(!i)throw new js;const r={};go(i.posParams,(t,e)=>{r[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),r=new Ko(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qs(t),i,t.component,t,Fs(e),Vs(e)+o.length,Ws(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=Us(e,o,s,a,this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new zo(r,t)]}if(0===a.length&&0===l.length)return[new zo(r,[])];const u=this.processSegment(a,c,l,"primary");return[new zo(r,u)]}}function Fs(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Vs(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Us(t,e,n,i,r){if(n.length>0&&function(t,e,n){return n.some(n=>Bs(t,e,n)&&"primary"!==zs(n))}(t,n,i)){const r=new bo(e,function(t,e,n,i){const r={};r.primary=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==zs(o)){const n=new bo([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,r[zs(o)]=n}return r}(t,e,i,new bo(n,t.children)));return r._sourceSegment=t,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Bs(t,e,n))}(t,n,i)){const o=new bo(t.segments,function(t,e,n,i,r,o){const s={};for(const a of i)if(Bs(t,n,a)&&!r[zs(a)]){const n=new bo([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[zs(a)]=n}return Object.assign(Object.assign({},r),s)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new bo(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Bs(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function zs(t){return t.outlet||"primary"}function qs(t){return t.data||{}}function Ws(t){return t.resolve||{}}function Hs(t,e,n,i){const r=ks(t,e,i);return yo(r.resolve?r.resolve(e,n):r(e,n))}function Gs(t){return function(e){return e.pipe(Object(xr.a)(e=>{const n=t(e);return n?Object(Bi.a)(n).pipe(Object(ai.a)(()=>e)):Object(Bi.a)([e])}))}}class Qs{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Ks=new i.r("ROUTES");class $s{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(ai.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new so(po(i.injector.get(Ks)).map(uo),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(Bi.a)(this.loader.load(t)):yo(t()).pipe(Object(wr.a)(t=>t instanceof i.w?Object(ii.a)(t):Object(Bi.a)(this.compiler.compileModuleAsync(t))))}}class Ys{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Xs(t){throw t}function Zs(t,e,n){return e.parse("/")}function Js(t,e){return Object(ii.a)(null)}let ta=(()=>{class t{constructor(t,e,n,r,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new er.a,this.errorHandler=Xs,this.malformedUriErrorHandler=Zs,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Js,afterPreactivation:Js},this.urlHandlingStrategy=new Ys,this.routeReuseStrategy=new Qs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(i.y),this.console=o.get(i.ab);const l=o.get(i.A);this.isNgZoneEnabled=l instanceof i.A,this.resetConfig(c),this.currentUrlTree=new _o(new bo([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $s(s,a,t=>this.triggerEvent(new Kr(t)),t=>this.triggerEvent(new $r(t))),this.routerState=Ho(this.currentUrlTree,this.rootComponentType),this.transitions=new zi.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(si.a)(t=>0!==t.id),Object(ai.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(xr.a)(t=>{let n=!1,i=!1;return Object(ii.a)(t).pipe(Nr(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(xr.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(ii.a)(t).pipe(Object(xr.a)(t=>{const n=this.transitions.getValue();return e.next(new Vr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ji.a:[t]}),Object(xr.a)(t=>Promise.resolve(t)),(i=this.ngModule.injector,r=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Object(xr.a)(t=>function(t,e,n,i,r){return new bs(t,e,n,i,r).apply()}(i,r,o,t.extractedUrl,s).pipe(Object(ai.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Nr(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,r){return function(o){return o.pipe(Object(wr.a)(o=>function(t,e,n,i,r="emptyOnly",o="legacy"){return new Ls(t,e,n,i,r,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(Object(ai.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Nr(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Nr(t=>{const n=new qr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var i,r,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:s}=t,a=new Vr(n,this.serializeUrl(i),r,o);e.next(a);const c=Ho(i,this.rootComponentType).snapshot;return Object(ii.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ji.a}),Gs(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Nr(t=>{const e=new Wr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ai.a)(t=>Object.assign(Object.assign({},t),{guards:Ts(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(wr.a)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(ii.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return Object(Bi.a)(t).pipe(Object(wr.a)(t=>function(t,e,n,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(ii.a)(!0);const s=o.map(o=>{const s=ks(o,e,r);let a;if(function(t){return t&&fs(t.canDeactivate)}(s))a=yo(s.canDeactivate(t,e,n,i));else{if(!fs(s))throw new Error("Invalid CanDeactivate guard");a=yo(s(t,e,n,i))}return a.pipe(br())});return Object(ii.a)(s).pipe(Ns())}(t.component,t.route,n,e,i)),br(t=>!0!==t,!0))}(s,i,r,t).pipe(Object(wr.a)(n=>n&&"boolean"==typeof n?function(t,e,n,i){return Object(Bi.a)(e).pipe(Object(oi.a)(e=>Object(Bi.a)([Rs(e.route.parent,i),Ps(e.route,i),Ms(t,e.path,n),Ds(t,e.route,n)]).pipe(ir(),br(t=>!0!==t,!0))),br(t=>!0!==t,!0))}(i,o,t,e):Object(ii.a)(n)),Object(ai.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Nr(t=>{if(ps(t.guardsResult)){const e=ro(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Nr(t=>{const e=new Hr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(si.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Br(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Gs(t=>{if(t.guards.canActivateChecks.length)return Object(ii.a)(t).pipe(Nr(t=>{const e=new Gr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(wr.a)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;return r.length?Object(Bi.a)(r).pipe(Object(oi.a)(t=>function(t,e,n,i){return function(t,e,n,i){const r=Object.keys(t);if(0===r.length)return Object(ii.a)({});if(1===r.length){const o=r[0];return Hs(t[o],e,n,i).pipe(Object(ai.a)(t=>({[o]:t})))}const o={};return Object(Bi.a)(r).pipe(Object(wr.a)(r=>Hs(t[r],e,n,i).pipe(Object(ai.a)(t=>(o[r]=t,t))))).pipe(yr(),Object(ai.a)(()=>o))}(t._resolve,t,e,i).pipe(Object(ai.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Qo(t,n).resolve),null)))}(t.route,i,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(kr.a)(Object(Tr.a)(t,e),sr(1),fr(e))(n)}:function(e){return Object(kr.a)(Object(Tr.a)((e,n,i)=>t(e,n,i+1)),sr(1))(e)}}((t,e)=>t),Object(ai.a)(e=>t)):Object(ii.a)(t)}))}),Nr(t=>{const e=new Qr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),Gs(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ai.a)(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const o=function(e,n,i){return n.children.map(n=>{for(const r of i.children)if(e.shouldReuseRoute(r.value.snapshot,n.value))return t(e,n,r);return t(e,n)})}(e,n,i);return new zo(r,o)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new Go(new zi.a((r=n.value).url),new zi.a(r.params),new zi.a(r.queryParams),new zi.a(r.fragment),new zi.a(r.data),r.outlet,r.component,r),o=n.children.map(n=>t(e,n));return new zo(i,o)}}var r}(t,e._root,n?n._root:void 0);return new Wo(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Nr(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(r=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(ai.a)(t=>(new hs(o,t.targetRouterState,t.currentRouterState,s).activate(r),t))),Nr({next(){n=!0},complete(){n=!0}}),Mr(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Br(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Object(vr.a)(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=ps(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const r=new Br(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(r),i?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new zr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var r;return Ji.a}));var r,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ao(t),this.config=t.map(uo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:c}=e;Object(i.X)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=c?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=s?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,i,r){if(0===n.length)return es(e.root,e.root,e,i,r);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ns(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return go(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new ns(n,e,i)}(n);if(o.toRoot())return es(e.root,new bo([],{}),e,i,r);const s=function(t,e,n){if(t.isAbsolute)return new is(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new is(n.snapshot._urlSegment,!0,0);const i=ts(t.commands[0])?0:1;return function(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new is(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?ss(s.segmentGroup,s.index,o.commands):os(s.segmentGroup,s.index,o.commands);return es(s.segmentGroup,a,e,i,r)}(l,this.currentUrlTree,t,h,u)}navigateByUrl(t,e={skipLocationChange:!1}){Object(i.X)()&&this.isNgZoneEnabled&&!i.A.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=ps(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(ps(t))return vo(this.currentUrlTree,t,e);const n=this.parseUrl(t);return vo(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Ur(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i,r){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,c;r?(s=r.resolve,a=r.reject,c=r.promise):c=new Promise((t,e)=>{s=t,a=e});const l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:s,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const r=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){i.dc()},t.\u0275dir=i.Lb({type:t}),t})(),ea=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.route=e,this.commands=[],null==n&&i.setAttribute(r.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:ia(this.skipLocationChange),replaceUrl:ia(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ia(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ia(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ta),i.Qb(Go),i.bc("tabindex"),i.Qb(i.F),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.ec("click",(function(t){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),na=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Ur&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:ia(this.skipLocationChange),replaceUrl:ia(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ia(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ia(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ta),i.Qb(Go),i.Qb(v))},t.\u0275dir=i.Lb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.ec("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(i.Zb("href",e.href,i.xc),i.Eb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.Bb()]}),t})();function ia(t){return""===t||!!t}let ra=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.element=e,this.renderer=n,this.link=i,this.linkWithHref=r,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof Ur&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ta),i.Qb(i.l),i.Qb(i.F),i.Qb(ea,8),i.Qb(na,8))},t.\u0275dir=i.Lb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(i.Jb(n,ea,!0),i.Jb(n,na,!0)),2&t&&(i.rc(r=i.fc())&&(e.links=r),i.rc(r=i.fc())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.Bb()]}),t})();class oa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sa,this.attachRef=null}}class sa{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new oa,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let aa=(()=>{class t{constructor(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.o,this.deactivateEvents=new i.o,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new ca(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(sa),i.Qb(i.Q),i.Qb(i.j),i.bc("name"),i.Qb(i.h))},t.\u0275dir=i.Lb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ca{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Go?this.route:t===sa?this.childContexts:this.parent.get(t,e)}}class la{}class ua{preload(t,e){return e().pipe(Object(vr.a)(()=>Object(ii.a)(null)))}}class ha{preload(t,e){return Object(ii.a)(null)}}let da=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=new $s(e,n,e=>t.triggerEvent(new Kr(e)),e=>t.triggerEvent(new $r(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(si.a)(t=>t instanceof Ur),Object(oi.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return Object(Bi.a)(n).pipe(Object(nr.a)(),Object(ai.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(wr.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(ta),i.ac(i.x),i.ac(i.i),i.ac(i.s),i.ac(la))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),fa=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ur&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof to&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new to(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){i.dc()},t.\u0275dir=i.Lb({type:t}),t})();const pa=new i.r("ROUTER_CONFIGURATION"),ma=new i.r("ROUTER_FORROOT_GUARD"),ya=[C,{provide:xo,useClass:So},{provide:ta,useFactory:function(t,e,n,i,r,o,s,c,l={},u,h){const d=new ta(null,e,n,i,r,o,s,po(c));if(u&&(d.urlHandlingStrategy=u),h&&(d.routeReuseStrategy=h),l.errorHandler&&(d.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(d.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=a();d.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(d.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(d.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(d.relativeLinkResolution=l.relativeLinkResolution),d},deps:[i.g,xo,sa,C,i.s,i.x,i.i,Ks,pa,[class{},new i.B],[class{},new i.B]]},sa,{provide:Go,useFactory:function(t){return t.routerState.root},deps:[ta]},{provide:i.x,useClass:i.L},da,ha,ua,{provide:pa,useValue:{enableTracing:!1}}];function va(){return new i.z("Router",ta)}let _a=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ya,Ca(e),{provide:ma,useFactory:Ea,deps:[[ta,new i.B,new i.K]]},{provide:pa,useValue:n||{}},{provide:v,useFactory:wa,deps:[l,[new i.q(b),new i.B],pa]},{provide:fa,useFactory:ba,deps:[ta,Y,pa]},{provide:la,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ha},{provide:i.z,multi:!0,useFactory:va},[xa,{provide:i.d,multi:!0,useFactory:Sa,deps:[xa]},{provide:Ta,useFactory:Oa,deps:[xa]},{provide:i.b,multi:!0,useExisting:Ta}]]}}static forChild(e){return{ngModule:t,providers:[Ca(e)]}}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(ma,8),i.ac(ta,8))}}),t})();function ba(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new fa(t,e,n)}function wa(t,e,n={}){return n.useHash?new E(t,e):new w(t,e)}function Ea(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ca(t){return[{provide:i.a,multi:!0,useValue:t},{provide:Ks,multi:!0,useValue:t}]}let xa=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new er.a}appInitializer(){return this.injector.get(h,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ta),i=this.injector.get(pa);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(ii.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(pa),n=this.injector.get(da),r=this.injector.get(fa),o=this.injector.get(ta),s=this.injector.get(i.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.s))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();function Sa(t){return t.appInitializer.bind(t)}function Oa(t){return t.bootstrapListener.bind(t)}const Ta=new i.r("Router Initializer");var ka=n("w0kG");class Ia{}class Aa{serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){const e=t.children.map(t=>this.serializeRoute(t));return{params:t.params,paramMap:t.paramMap,data:t.data,url:t.url,outlet:t.outlet,routeConfig:t.routeConfig?{component:t.routeConfig.component,path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet}:null,queryParams:t.queryParams,queryParamMap:t.queryParamMap,fragment:t.fragment,component:t.routeConfig?t.routeConfig.component:void 0,root:void 0,parent:void 0,firstChild:e[0],pathFromRoot:void 0,children:e}}}class Na{serialize(t){return{root:this.serializeRoute(t.root),url:t.url}}serializeRoute(t){const e=t.children.map(t=>this.serializeRoute(t));return{params:t.params,data:t.data,url:t.url,outlet:t.outlet,routeConfig:t.routeConfig?{path:t.routeConfig.path,pathMatch:t.routeConfig.pathMatch,redirectTo:t.routeConfig.redirectTo,outlet:t.routeConfig.outlet}:null,queryParams:t.queryParams,fragment:t.fragment,firstChild:e[0],children:e}}}const Pa=function(){var t={PreActivation:1,PostActivation:2};return t[t.PreActivation]="PreActivation",t[t.PostActivation]="PostActivation",t}(),Ra=new i.r("@ngrx/router-store Internal Configuration"),Da=new i.r("@ngrx/router-store Configuration");function Ma(t){return Object.assign({stateKey:"router",serializer:Na,navigationActionTiming:Pa.PreActivation},t)}const ja=function(){var t={NONE:1,ROUTER:2,STORE:3};return t[t.NONE]="NONE",t[t.ROUTER]="ROUTER",t[t.STORE]="STORE",t}();let La=(()=>{class t{constructor(t,e,n,i,r){this.store=t,this.router=e,this.serializer=n,this.errorHandler=i,this.config=r,this.lastEvent=null,this.routerState=null,this.trigger=ja.NONE,this.stateKey=this.config.stateKey,this.setUpStoreStateListener(),this.setUpRouterEventsListener()}static forRoot(e={}){return{ngModule:t,providers:[{provide:Ra,useValue:e},{provide:Da,useFactory:Ma,deps:[Ra]},{provide:Ia,useClass:e.serializer?e.serializer:0===e.routerState?Aa:Na}]}}setUpStoreStateListener(){this.store.pipe(Object(Ui.t)(this.stateKey),Object(ka.a)(this.store)).subscribe(([t,e])=>{this.navigateIfNeeded(t,e)})}navigateIfNeeded(t,e){if(!t||!t.state)return;if(this.trigger===ja.ROUTER)return;if(this.lastEvent instanceof Vr)return;const n=t.state.url;this.router.url!==n&&(this.storeState=e,this.trigger=ja.STORE,this.router.navigateByUrl(n).catch(t=>{this.errorHandler.handleError(t)}))}setUpRouterEventsListener(){const t=this.config.navigationActionTiming===Pa.PostActivation;let e;this.router.events.pipe(Object(ka.a)(this.store)).subscribe(([n,i])=>{this.lastEvent=n,n instanceof Vr?(this.routerState=this.serializer.serialize(this.router.routerState.snapshot),this.trigger!==ja.STORE&&(this.storeState=i,this.dispatchRouterRequest(n))):n instanceof qr?(e=n,t||this.trigger===ja.STORE||this.dispatchRouterNavigation(n)):n instanceof Br?(this.dispatchRouterCancel(n),this.reset()):n instanceof zr?(this.dispatchRouterError(n),this.reset()):n instanceof Ur&&(this.trigger!==ja.STORE&&(t&&this.dispatchRouterNavigation(e),this.dispatchRouterNavigated(n)),this.reset())})}dispatchRouterRequest(t){this.dispatchRouterAction("@ngrx/router-store/request",{event:t})}dispatchRouterNavigation(t){const e=this.serializer.serialize(t.state);this.dispatchRouterAction("@ngrx/router-store/navigation",{routerState:e,event:new qr(t.id,t.url,t.urlAfterRedirects,e)})}dispatchRouterCancel(t){this.dispatchRouterAction("@ngrx/router-store/cancel",{storeState:this.storeState,event:t})}dispatchRouterError(t){this.dispatchRouterAction("@ngrx/router-store/error",{storeState:this.storeState,event:new zr(t.id,t.url,`${t}`)})}dispatchRouterNavigated(t){const e=this.serializer.serialize(this.router.routerState.snapshot);this.dispatchRouterAction("@ngrx/router-store/navigated",{event:t,routerState:e})}dispatchRouterAction(t,e){this.trigger=ja.ROUTER;try{this.store.dispatch({type:t,payload:Object.assign(Object.assign({routerState:this.routerState},e),{event:0===this.config.routerState?e.event:{id:e.event.id,url:e.event.url}})})}finally{this.trigger=ja.NONE}}reset(){this.trigger=ja.NONE,this.storeState=null,this.routerState=null}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(Ui.h),i.ac(ta),i.ac(Ia),i.ac(i.n),i.ac(Da))}}),t})();var Fa=n("g6G6"),Va=n("ryP2");class Ua{call(t,e){return e.subscribe(new Ba(t))}}class Ba extends rr.a{_next(t){}}class za{call(t,e){return e.subscribe(new qa(t))}}class qa extends rr.a{constructor(t){super(t)}_next(t){this.destination.next(Va.a.createNext(t))}_error(t){const e=this.destination;e.next(Va.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(Va.a.createComplete()),t.complete()}}function Wa(t,e,n,i){return r=>r.lift(new Ha(t,e,n,i))}class Ha{constructor(t,e,n,i){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=i}call(t,e){return e.subscribe(new Ga(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Ga extends rr.a{constructor(t,e,n,i,r){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=i,this.subjectSelector=r,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let i,r=n.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(o){this.error(o)}else i=t;if(!r){r=this.subjectSelector?this.subjectSelector():new er.a,n.set(e,r);const t=new Ka(e,r,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new Ka(e,r))}catch(o){return void this.error(o)}this.add(t.subscribe(new Qa(e,r,this)))}}r.closed||r.next(i)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Qa extends rr.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class Ka extends ri.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Dr.a,{refCountSubscription:n,groupSubject:i}=this;return n&&!n.closed&&e.add(new $a(n)),e.add(i.subscribe(t)),e}}class $a extends Dr.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var Ya=n("r9RI");class Xa{constructor(t){this.project=t}call(t,e){return e.subscribe(new Za(t,this.project))}}class Za extends Gi.a{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.hasSubscription=!0,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new Ya.a(this,e,n),r=this.destination;r.add(i);const o=Object(Qi.a)(this,t,void 0,void 0,i);o!==i&&r.add(o)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t){this.destination.error(t)}notifyComplete(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class Ja{call(t,e){return e.subscribe(new tc(t))}}class tc extends rr.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}const ec={dispatch:!0,useEffectsErrorHandler:!0};function nc(t,e){const n=t(),i=Object.assign(Object.assign({},ec),e);return Object.defineProperty(n,"__@ngrx/effects_create__",{value:i}),n}function ic(t){return Object.getOwnPropertyNames(t).filter(e=>t[e]&&t[e].hasOwnProperty("__@ngrx/effects_create__")).map(e=>Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"]))}function rc(t){return Object.getPrototypeOf(t)}function oc(t={}){return function(e,n){var i,r;i=e,r=Object.assign(Object.assign(Object.assign({},ec),t),{propertyName:n}),ac(i)?i.constructor["__@ngrx/effects__"].push(r):Object.defineProperty(i.constructor,"__@ngrx/effects__",{value:[r]})}}function sc(t){return Object(Ui.m)(cc,rc)(t)}function ac(t){return t.constructor.hasOwnProperty("__@ngrx/effects__")}function cc(t){return ac(t)?t.constructor["__@ngrx/effects__"]:[]}function lc(t,e,n=10){return t.pipe(Object(vr.a)(i=>(e&&e.handleError(i),n<=1?t:lc(t,e,n-1))))}let uc=(()=>{class t extends ri.a{constructor(t){super(),t&&(this.source=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ui.f))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();function hc(...t){return Object(si.a)(e=>t.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function dc(t){return fc(t,"ngrxOnInitEffects")}function fc(t,e){return t&&e in t&&"function"==typeof t[e]}const pc=new i.r("@ngrx/effects Internal Root Guard"),mc=new i.r("ngrx/effects: Root Effects"),gc=new i.r("ngrx/effects: Feature Effects"),yc=new i.r("ngrx/effects: Effects Error Handler");let vc=(()=>{class t extends er.a{constructor(t,e){super(),this.errorHandler=t,this.effectsErrorHandler=e}addEffects(t){this.next(t)}toActions(){return this.pipe(Wa(rc),Object(wr.a)(t=>t.pipe(Wa(_c))),Object(wr.a)(t=>{const e=t.pipe(function t(e,n){return n?i=>i.pipe(t((t,i)=>Object(Bi.a)(e(t,i)).pipe(Object(ai.a)((e,r)=>n(t,e,i,r))))):t=>t.lift(new Xa(e))}(t=>{return(e=this.errorHandler,n=this.effectsErrorHandler,t=>{const i=function(t,e,n){const i=rc(t).constructor.name,r=(o=t,[sc,ic].reduce((t,e)=>t.concat(e(o)),[])).map(({propertyName:r,dispatch:o,useEffectsErrorHandler:s})=>{const a="function"==typeof t[r]?t[r]():t[r],c=s?n(a,e):a;return!1===o?c.pipe((function(t){return t.lift(new Ua)})):c.pipe((function(t){return t.lift(new za)})).pipe(Object(ai.a)(e=>({effect:t[r],notification:e,propertyName:r,sourceName:i,sourceInstance:t})))});var o;return Object(Fa.a)(...r)}(t,e,n),r=rc(t);return fc(r,"ngrxOnRunEffects")?r.ngrxOnRunEffects(i):i})(t);var e,n}),Object(ai.a)(t=>(function(t,e){if("N"===t.notification.kind){const n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:e,sourceName:n}){const i="function"==typeof e[t];return`"${n}.${String(t)}${i?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch(e){return t}}(n)}`))}}(t,this.errorHandler),t.notification)),Object(si.a)(t=>"N"===t.kind),(function(t){return t.lift(new Ja)})),n=t.pipe(Object(_r.a)(1),Object(si.a)(dc),Object(ai.a)(t=>t.ngrxOnInitEffects()));return Object(Fa.a)(e,n)}))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.n),i.ac(yc))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();function _c(t){return fc(t,"ngrxOnIdentifyEffects")?t.ngrxOnIdentifyEffects():""}let bc=(()=>{class t{constructor(t,e){this.effectSources=t,this.store=e,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(vc),i.ac(Ui.h))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),wc=(()=>{class t{constructor(t,e,n,i,r,o,s){this.sources=t,e.start(),i.forEach(e=>t.addEffects(e)),n.dispatch({type:"@ngrx/effects/init"})}addEffects(t){this.sources.addEffects(t)}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(vc),i.ac(bc),i.ac(Ui.h),i.ac(mc),i.ac(Ui.k,8),i.ac(Ui.i,8),i.ac(pc,8))}}),t})(),Ec=(()=>{class t{constructor(t,e,n,i){e.forEach(e=>e.forEach(e=>t.addEffects(e)))}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(wc),i.ac(gc),i.ac(Ui.k,8),i.ac(Ui.i,8))}}),t})(),Cc=(()=>{class t{static forFeature(t){return{ngModule:Ec,providers:[t,{provide:gc,multi:!0,deps:t,useFactory:xc}]}}static forRoot(t){return{ngModule:wc,providers:[{provide:pc,useFactory:Sc,deps:[[bc,new i.B,new i.K]]},{provide:yc,useValue:lc},bc,vc,uc,t,{provide:mc,deps:t,useFactory:xc}]}}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)}}),t})();function xc(...t){return t}function Sc(t){if(t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var Oc=n("9cQL");function Tc(t){return!!t&&(t instanceof ri.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var kc=n("X0qr");function Ic(...t){if(1===t.length){const e=t[0];if(Object(Hi.a)(e))return Ac(e,null);if(Object(kc.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ac(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ac(t=1===t.length&&Object(Hi.a)(t[0])?t[0]:t,null).pipe(Object(ai.a)(t=>e(...t)))}return Ac(t,null)}function Ac(t,e){return new ri.a(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const c=Object(Bi.a)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,s++),r[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==i&&l||(s===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}var Nc=n("QQZH");function Pc(t,e,n){let i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:i}){let r,o,s=0,a=!1,c=!1;return function(l){s++,r&&!a||(a=!1,r=new Nc.a(t,e,i),o=l.subscribe({next(t){r.next(t)},error(t){a=!0,r.error(t)},complete(){c=!0,o=void 0,r.complete()}}));const u=r.subscribe(this);this.add(()=>{s--,u.unsubscribe(),o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,r=void 0)})}}(i))}class Rc{}let Dc=(()=>{class t extends Rc{getTranslation(t){return Object(ii.a)({})}}return t.\u0275fac=function(e){return Mc(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const Mc=i.Yb(Dc);class jc{}let Lc=(()=>{class t{handle(t){return t.key}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();class Fc{}let Vc=(()=>{class t extends Fc{compile(t,e){return t}compileTranslations(t,e){return t}}return t.\u0275fac=function(e){return Uc(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const Uc=i.Yb(Vc);function Bc(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;let n,i,r,o=typeof t;if(o==typeof e&&"object"==o){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in r=Object.create(null),t){if(!Bc(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!Bc(t[i],e[i]))return!1;return!0}}return!1}function zc(t){return null!=t}function qc(t){return t&&"object"==typeof t&&!Array.isArray(t)}class Wc{}let Hc=(()=>{class t extends Wc{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,e){let n;return n="string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t,n}getValue(t,e){let n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!zc(t)||!zc(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}interpolateFunction(t,e){return t(e)}interpolateString(t,e){return e?t.replace(this.templateMatcher,(t,n)=>{let i=this.getValue(e,n);return zc(i)?i:t}):t}}return t.\u0275fac=function(e){return Gc(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const Gc=i.Yb(Hc);class Qc{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.o,this.onLangChange=new i.o,this.onDefaultLangChange=new i.o}}const Kc=new i.r("USE_STORE"),$c=new i.r("USE_DEFAULT_LANG"),Yc=new i.r("USE_EXTEND");let Xc=(()=>{class t{constructor(t,e,n,r,o,s=!0,a=!1,c=!1){this.store=t,this.currentLoader=e,this.compiler=n,this.parser=r,this.missingTranslationHandler=o,this.useDefaultLang=s,this.isolate=a,this.extend=c,this.pending=!1,this._onTranslationChange=new i.o,this._onLangChange=new i.o,this._onDefaultLangChange=new i.o,this._langs=[],this._translations={},this._translationRequests={}}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let e=this.retrieveTranslations(t);void 0!==e?(null==this.defaultLang&&(this.defaultLang=t),e.pipe(Object(_r.a)(1)).subscribe(e=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return Object(ii.a)(this.translations[t]);let e=this.retrieveTranslations(t);return void 0!==e?(this.currentLang||(this.currentLang=t),e.pipe(Object(_r.a)(1)).subscribe(e=>{this.changeLang(t)}),e):(this.changeLang(t),Object(ii.a)(this.translations[t]))}retrieveTranslations(t){let e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}getTranslation(t){this.pending=!0;const e=this.currentLoader.getTranslation(t).pipe(Pc(1),Object(_r.a)(1));return this.loadingTranslations=e.pipe(Object(ai.a)(e=>this.compiler.compileTranslations(e,t)),Pc(1),Object(_r.a)(1)),this.loadingTranslations.subscribe({next:e=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign({},e,this.translations[t]):e,this.updateLangs(),this.pending=!1},error:t=>{this.pending=!1}}),e}setTranslation(t,e,n=!1){e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?function t(e,n){let i=Object.assign({},e);return qc(e)&&qc(n)&&Object.keys(n).forEach(r=>{qc(n[r])&&r in e?i[r]=t(e[r],n[r]):Object.assign(i,{[r]:n[r]})}),i}(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(t=>{-1===this.langs.indexOf(t)&&this.langs.push(t)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,e,n){let i;if(e instanceof Array){let i={},r=!1;for(let o of e)i[o]=this.getParsedResult(t,o,n),Tc(i[o])&&(r=!0);return r?Ic(e.map(t=>Tc(i[t])?i[t]:Object(ii.a)(i[t]))).pipe(Object(ai.a)(t=>{let n={};return t.forEach((t,i)=>{n[e[i]]=t}),n})):i}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){let t={key:e,translateService:this};void 0!==n&&(t.interpolateParams=n),i=this.missingTranslationHandler.handle(t)}return void 0!==i?i:e}get(t,e){if(!zc(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Object(oi.a)(n=>Tc(n=this.getParsedResult(n,t,e))?n:Object(ii.a)(n)));{let n=this.getParsedResult(this.translations[this.currentLang],t,e);return Tc(n)?n:Object(ii.a)(n)}}getStreamOnTranslationChange(t,e){if(!zc(t)||!t.length)throw new Error('Parameter "key" required');return Sr(tr(()=>this.get(t,e)),this.onTranslationChange.pipe(Object(xr.a)(n=>{const i=this.getParsedResult(n.translations,t,e);return"function"==typeof i.subscribe?i:Object(ii.a)(i)})))}stream(t,e){if(!zc(t)||!t.length)throw new Error('Parameter "key" required');return Sr(tr(()=>this.get(t,e)),this.onLangChange.pipe(Object(xr.a)(n=>{const i=this.getParsedResult(n.translations,t,e);return Tc(i)?i:Object(ii.a)(i)})))}instant(t,e){if(!zc(t)||!t.length)throw new Error('Parameter "key" required');let n=this.getParsedResult(this.translations[this.currentLang],t,e);if(Tc(n)){if(t instanceof Array){let e={};return t.forEach((n,i)=>{e[t[i]]=t[i]}),e}return t}return n}set(t,e,n=this.currentLang){this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Qc),i.ac(Rc),i.ac(Fc),i.ac(Wc),i.ac(jc),i.ac($c),i.ac(Kc),i.ac(Yc))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),Zc=(()=>{class t{constructor(t,e){this.translate=t,this._ref=e,this.value=""}updateValue(t,e,n){let i=e=>{this.value=void 0!==e?e:t,this.lastKey=t,this._ref.markForCheck()};if(n){let r=this.translate.getParsedResult(n,t,e);Tc(r.subscribe)?r.subscribe(i):i(r)}this.translate.get(t,e).subscribe(i)}transform(t,...e){if(!t||!t.length)return t;if(Bc(t,this.lastKey)&&Bc(e,this.lastParams))return this.value;let n;if(zc(e[0])&&e.length)if("string"==typeof e[0]&&e[0].length){let t=e[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{n=JSON.parse(t)}catch(i){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${e[0]}`)}}else"object"!=typeof e[0]||Array.isArray(e[0])||(n=e[0]);return this.lastKey=t,this.lastParams=e,this.updateValue(t,n),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(e=>{this.lastKey&&e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(e=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n,e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,n))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Xc),i.cc())},t.\u0275pipe=i.Pb({name:"translate",type:t,pure:!1}),t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),Jc=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:Rc,useClass:Dc},e.compiler||{provide:Fc,useClass:Vc},e.parser||{provide:Wc,useClass:Hc},e.missingTranslationHandler||{provide:jc,useClass:Lc},Qc,{provide:Kc,useValue:e.isolate},{provide:$c,useValue:e.useDefaultLang},{provide:Yc,useValue:e.extend},Xc]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:Rc,useClass:Dc},e.compiler||{provide:Fc,useClass:Vc},e.parser||{provide:Wc,useClass:Hc},e.missingTranslationHandler||{provide:jc,useClass:Lc},{provide:Kc,useValue:e.isolate},{provide:$c,useValue:e.useDefaultLang},{provide:Yc,useValue:e.extend},Xc]}}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)}}),t})();class tl{constructor(t,e="/assets/i18n/",n=".json"){this.http=t,this.prefix=e,this.suffix=n}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}function el(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function nl(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function il(t){return(il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ol(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){rl(t,e,n[e])}))}return t}function sl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var al={},cl={};try{"undefined"!=typeof window&&(al=window),"undefined"!=typeof document&&(cl=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(vN){}var ll=(al.navigator||{}).userAgent,ul=void 0===ll?"":ll,hl=al,dl=cl,fl=!!dl.documentElement&&!!dl.head&&"function"==typeof dl.addEventListener&&"function"==typeof dl.createElement,pl=(~ul.indexOf("MSIE")||ul.indexOf("Trident/"),[1,2,3,4,5,6,7,8,9,10]),ml=pl.concat([11,12,13,14,15,16,17,18,19,20]),gl={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},yl=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",gl.GROUP,gl.SWAP_OPACITY,gl.PRIMARY,gl.SECONDARY].concat(pl.map((function(t){return"".concat(t,"x")}))).concat(ml.map((function(t){return"w-".concat(t)}))),hl.FontAwesomeConfig||{});dl&&"function"==typeof dl.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(t){var e=sl(t,2),n=e[1],i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=dl.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=i&&(yl[n]=i)}));var vl=ol({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},yl);vl.autoReplaceSvg||(vl.observeMutations=!1);var _l=ol({},vl);hl.FontAwesomeConfig=_l;var bl=hl||{};bl.___FONT_AWESOME___||(bl.___FONT_AWESOME___={}),bl.___FONT_AWESOME___.styles||(bl.___FONT_AWESOME___.styles={}),bl.___FONT_AWESOME___.hooks||(bl.___FONT_AWESOME___.hooks={}),bl.___FONT_AWESOME___.shims||(bl.___FONT_AWESOME___.shims=[]);var wl=bl.___FONT_AWESOME___,El=[];fl&&((dl.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(dl.readyState)||dl.addEventListener("DOMContentLoaded",(function t(){dl.removeEventListener("DOMContentLoaded",t),El.map((function(t){return t()}))})));var Cl,xl=function(){},Sl="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,Ol="undefined"==typeof setImmediate?setTimeout:setImmediate,Tl=[];function kl(){for(var t=0;t<Tl.length;t++)Tl[t][0](Tl[t][1]);Tl=[],Cl=!1}function Il(t,e){Tl.push([t,e]),Cl||(Cl=!0,Ol(kl,0))}function Al(t){var e=t.owner,n=e._state,i=e._data,r=t[n],o=t.then;if("function"==typeof r){n="fulfilled";try{i=r(i)}catch(vN){Dl(o,vN)}}Nl(o,i)||("fulfilled"===n&&Pl(o,i),"rejected"===n&&Dl(o,i))}function Nl(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===il(e))){var i=e.then;if("function"==typeof i)return i.call(e,(function(i){n||(n=!0,e===i?Rl(t,i):Pl(t,i))}),(function(e){n||(n=!0,Dl(t,e))})),!0}}catch(vN){return n||Dl(t,vN),!0}return!1}function Pl(t,e){t!==e&&Nl(t,e)||Rl(t,e)}function Rl(t,e){"pending"===t._state&&(t._state="settled",t._data=e,Il(jl,t))}function Dl(t,e){"pending"===t._state&&(t._state="settled",t._data=e,Il(Ll,t))}function Ml(t){t._then=t._then.forEach(Al)}function jl(t){t._state="fulfilled",Ml(t)}function Ll(t){t._state="rejected",Ml(t),!t._handled&&Sl&&global.process.emit("unhandledRejection",t._data,t)}function Fl(t){global.process.emit("rejectionHandled",t)}function Vl(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof Vl==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){Dl(e,t)}try{t((function(t){Pl(e,t)}),n)}catch(vN){n(vN)}}(t,this)}Vl.prototype={constructor:Vl,_state:"pending",_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(xl),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,"rejected"===this._state&&Sl&&Il(Fl,this)),"fulfilled"===this._state||"rejected"===this._state?Il(Al,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},Vl.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new Vl((function(e,n){var i=[],r=0;function o(t){return r++,function(n){i[t]=n,--r||e(i)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),n):i[a]=s;r||e(i)}))},Vl.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new Vl((function(e,n){for(var i,r=0;r<t.length;r++)(i=t[r])&&"function"==typeof i.then?i.then(e,n):e(i)}))},Vl.resolve=function(t){return t&&"object"===il(t)&&t.constructor===Vl?t:new Vl((function(e){e(t)}))},Vl.reject=function(t){return new Vl((function(e,n){n(t)}))};var Ul={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Bl(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function zl(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ql(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n],";")}),"")}function Wl(t){return t.size!==Ul.size||t.x!==Ul.x||t.y!==Ul.y||t.rotate!==Ul.rotate||t.flipX||t.flipY}function Hl(t){var e=t.transform,n=t.iconWidth,i={transform:"translate(".concat(t.containerWidth/2," 256)")},r="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(r," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var Gl={x:0,y:0,width:"100%",height:"100%"};function Ql(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Kl(t){var e=t.icons,n=e.main,i=e.mask,r=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,c=t.title,l=t.extra,u=t.watchable,h=void 0!==u&&u,d=i.found?i:n,f=d.width,p=d.height,m="fa-w-".concat(Math.ceil(f/p*16)),g=[_l.replacementClass,o?"".concat(_l.familyPrefix,"-").concat(o):"",m].filter((function(t){return-1===l.classes.indexOf(t)})).concat(l.classes).join(" "),y={children:[],attributes:ol({},l.attributes,{"data-prefix":r,"data-icon":o,class:g,role:l.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(p)})};h&&(y.attributes["data-fa-i2svg"]=""),c&&y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(Bl())},children:[c]});var v=ol({},y,{prefix:r,iconName:o,main:n,mask:i,transform:s,symbol:a,styles:l.styles}),_=i.found&&n.found?function(t){var e,n=t.children,i=t.attributes,r=t.main,o=t.mask,s=r.icon,a=o.icon,c=Hl({transform:t.transform,containerWidth:o.width,iconWidth:r.width}),l={tag:"rect",attributes:ol({},Gl,{fill:"white"})},u=s.children?{children:s.children.map(Ql)}:{},h={tag:"g",attributes:ol({},c.inner),children:[Ql(ol({tag:s.tag,attributes:ol({},s.attributes,c.path)},u))]},d={tag:"g",attributes:ol({},c.outer),children:[h]},f="mask-".concat(Bl()),p="clip-".concat(Bl()),m={tag:"mask",attributes:ol({},Gl,{id:f,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[l,d]},g={tag:"defs",children:[{tag:"clipPath",attributes:{id:p},children:(e=a,"g"===e.tag?e.children:[e])},m]};return n.push(g,{tag:"rect",attributes:ol({fill:"currentColor","clip-path":"url(#".concat(p,")"),mask:"url(#".concat(f,")")},Gl)}),{children:n,attributes:i}}(v):function(t){var e=t.children,n=t.attributes,i=t.main,r=t.transform,o=ql(t.styles);if(o.length>0&&(n.style=o),Wl(r)){var s=Hl({transform:r,containerWidth:i.width,iconWidth:i.width});e.push({tag:"g",attributes:ol({},s.outer),children:[{tag:"g",attributes:ol({},s.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:ol({},i.icon.attributes,s.path)}]}]})}else e.push(i.icon);return{children:e,attributes:n}}(v),b=_.attributes;return v.children=_.children,v.attributes=b,a?function(t){var e=t.iconName,n=t.children,i=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ol({},t.attributes,{id:!0===i?"".concat(t.prefix,"-").concat(_l.familyPrefix,"-").concat(e):i}),children:n}]}]}(v):function(t){var e=t.children,n=t.main,i=t.mask,r=t.attributes,o=t.styles,s=t.transform;if(Wl(s)&&n.found&&!i.found){var a={x:n.width/n.height/2,y:.5};r.style=ql(ol({},o,{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:r,children:e}]}(v)}var $l=function(t,e,n,i){var r,o,s,a=Object.keys(t),c=a.length,l=void 0!==i?function(t,e){return function(n,i,r,o){return t.call(e,n,i,r,o)}}(e,i):e;for(void 0===n?(r=1,s=t[a[0]]):(r=0,s=n);r<c;r++)s=l(s,t[o=a[r]],o,t);return s};function Yl(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.skipHooks,r=void 0!==i&&i,o=Object.keys(e).reduce((function(t,n){var i=e[n];return i.icon?t[i.iconName]=i.icon:t[n]=i,t}),{});"function"!=typeof wl.hooks.addPack||r?wl.styles[t]=ol({},wl.styles[t]||{},o):wl.hooks.addPack(t,o),"fas"===t&&Yl("fa",e)}var Xl=wl.styles,Zl=wl.shims,Jl=function(){var t=function(t){return $l(Xl,(function(e,n,i){return e[i]=$l(n,t,{}),e}),{})};t((function(t,e,n){return e[3]&&(t[e[3]]=n),t})),t((function(t,e,n){var i=e[2];return t[n]=n,i.forEach((function(e){t[e]=n})),t}));var e="far"in Xl;$l(Zl,(function(t,n){var i=n[1];return"far"!==i||e||(i="fas"),t[n[0]]={prefix:i,iconName:n[2]},t}),{})};function tu(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function eu(t){var e=t.tag,n=t.attributes,i=void 0===n?{}:n,r=t.children,o=void 0===r?[]:r;return"string"==typeof t?zl(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(zl(t[n]),'" ')}),"").trim()}(i),">").concat(o.map(eu).join(""),"</").concat(e,">")}function nu(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}Jl(),(nu.prototype=Object.create(Error.prototype)).constructor=nu;var iu={fill:"currentColor"},ru={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},ou=(ol({},iu,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),ol({},ru,{attributeName:"opacity"}));function su(t){var e=t[0],n=t[1],i=sl(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(i)?{tag:"g",attributes:{class:"".concat(_l.familyPrefix,"-").concat(gl.GROUP)},children:[{tag:"path",attributes:{class:"".concat(_l.familyPrefix,"-").concat(gl.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(_l.familyPrefix,"-").concat(gl.PRIMARY),fill:"currentColor",d:i[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:i}}}}function au(){_l.autoAddCss&&!du&&(function(t){if(t&&fl){var e=dl.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=dl.head.childNodes,i=null,r=n.length-1;r>-1;r--){var o=n[r],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(i=o)}dl.head.insertBefore(e,i)}}(function(){var t="svg-inline--fa",e=_l.familyPrefix,n=_l.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==e||n!==t){var r=new RegExp("\\.".concat("fa","\\-"),"g"),o=new RegExp("\\--".concat("fa","\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(r,".".concat(e,"-")).replace(o,"--".concat(e,"-")).replace(s,".".concat(n))}return i}()),du=!0)}function cu(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return eu(t)}))}}),Object.defineProperty(t,"node",{get:function(){if(fl){var e=dl.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function lu(t){var e=t.prefix,n=void 0===e?"fa":e,i=t.iconName;if(i)return tu(hu.definitions,n,i)||tu(wl.styles,n,i)}ol({},iu,{cx:"256",cy:"364",r:"28"}),ol({},ru,{attributeName:"r",values:"28;14;28;28;14;28;"}),ol({},ou,{values:"1;0;1;1;0;1;"}),ol({},iu,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),ol({},ou,{values:"1;0;0;0;0;1;"}),ol({},iu,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),ol({},ou,{values:"0;0;1;1;0;0;"});var uu,hu=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=n.reduce(this._pullDefinitions,{});Object.keys(r).forEach((function(e){t.definitions[e]=ol({},t.definitions[e]||{},r[e]),Yl(e,r[e]),Jl()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var i=n[e],r=i.prefix,o=i.iconName,s=i.icon;t[r]||(t[r]={}),t[r][o]=s})),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(t.prototype,e),t}()),du=!1,fu=(uu=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,i=void 0===n?Ul:n,r=e.symbol,o=void 0!==r&&r,s=e.mask,a=void 0===s?null:s,c=e.title,l=void 0===c?null:c,u=e.classes,h=void 0===u?[]:u,d=e.attributes,f=void 0===d?{}:d,p=e.styles,m=void 0===p?{}:p;if(t){var g=t.prefix,y=t.iconName,v=t.icon;return cu(ol({type:"icon"},t),(function(){return au(),_l.autoA11y&&(l?f["aria-labelledby"]="".concat(_l.replacementClass,"-title-").concat(Bl()):(f["aria-hidden"]="true",f.focusable="false")),Kl({icons:{main:su(v),mask:a?su(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:y,transform:ol({},Ul,i),symbol:o,title:l,extra:{attributes:f,styles:m,classes:h}})}))}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:lu(t||{}),i=e.mask;return i&&(i=(i||{}).icon?i:lu(i||{})),uu(n,ol({},e,{mask:i}))});let pu=(()=>{let t=class{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),mu=(()=>{let t=class{constructor(){this.definitions={}}addIcons(...t){for(const e of t)e.prefix in this.definitions||(this.definitions[e.prefix]={}),this.definitions[e.prefix][e.iconName]=e}addIconPacks(...t){for(const e of t){const t=Object.keys(e).map(t=>e[t]);this.addIcons(...t)}}getIconDefinition(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const gu=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let yu,vu=(()=>{let t=class{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[i.Bb()]}),t})(),_u=(()=>{let t=class{constructor(t,e,n,i){this.sanitizer=t,this.config=e,this.iconLibrary=n,this.stackItem=i,this.classes=[]}ngOnChanges(t){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let e=null;if(e=null==this.icon?this.config.fallbackIcon:this.icon,t){const t=this.findIconDefinition(e);if(null!=t){const e=this.buildParams();this.renderIcon(t,e)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const e=((t,e)=>{return void 0!==(n=t).prefix&&void 0!==n.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;var n})(t,this.config.defaultPrefix);if("icon"in e)return e;const n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;const i=lu(e);if(null!=i){const t="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+t);else if(!this.config.globalLibrary)throw new Error(t);return i}return(t=>{throw new Error(`Could not find icon with iconName=${t.iconName} and prefix=${t.prefix} in the icon library.`)})(e),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},e="string"==typeof this.transform?function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce((function(t,e){var n=e.toLowerCase().split("-"),i=n[0],r=n.slice(1).join("-");if(i&&"h"===r)return t.flipX=!0,t;if(i&&"v"===r)return t.flipY=!0,t;if(r=parseFloat(r),isNaN(r))return t;switch(i){case"grow":t.size=t.size+r;break;case"shrink":t.size=t.size-r;break;case"left":t.x=t.x-r;break;case"right":t.x=t.x+r;break;case"up":t.y=t.y-r;break;case"down":t.y=t.y+r;break;case"rotate":t.rotate=t.rotate+r}return t}),e):e}(this.transform):this.transform;return{title:this.title,transform:e,classes:[...gu(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,e){const n=fu(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}};return t.\u0275fac=function(e){return new(e||t)(i.Qb(Ct),i.Qb(pu),i.Qb(mu),i.Qb(vu,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,e){2&t&&(i.Zb("innerHTML",e.renderedIconHTML,i.wc),i.Eb("title",e.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[i.Bb()],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),bu=(()=>{let t=class{};return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)}}),t})();try{yu="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_N){yu=!1}let wu,Eu=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?K(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!yu)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.C,8))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(i.C,8))},token:t,providedIn:"root"}),t})(),Cu=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)}}),t})();const xu=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Su(){if(wu)return wu;if("object"!=typeof document||!document)return wu=new Set(xu),wu;let t=document.createElement("input");return wu=new Set(xu.filter(e=>(t.setAttribute("type",e),t.type===e))),wu}let Ou;function Tu(t){return function(){if(null==Ou&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ou=!0}))}finally{Ou=Ou||!1}return Ou}()?t:!!t.capture}const ku=function(){var t={NORMAL:0,NEGATED:1,INVERTED:2};return t[t.NORMAL]="NORMAL",t[t.NEGATED]="NEGATED",t[t.INVERTED]="INVERTED",t}();let Iu;function Au(){if("object"!=typeof document||!document)return ku.NORMAL;if(!Iu){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.height="1px",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",t.appendChild(n),document.body.appendChild(t),Iu=ku.NORMAL,0===t.scrollLeft&&(t.scrollLeft=1,Iu=0===t.scrollLeft?ku.NEGATED:ku.INVERTED),t.parentNode.removeChild(t)}return Iu}function Nu(t){return null!=t&&"false"!==`${t}`}function Pu(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Ru(t){return Array.isArray(t)?t:[t]}function Du(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Mu(t){return t instanceof i.l?t.nativeElement:t}function ju(t,e,n,i){return Object(Ar.a)(n)&&(i=n,n=void 0),i?ju(t,e,n).pipe(Object(ai.a)(t=>Object(Hi.a)(t)?i(...t):i(t))):new ri.a(i=>{!function t(e,n,i,r,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,o),s=()=>t.removeEventListener(n,i,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),s=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),s=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,i,r,o)}r.add(s)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}var Lu=n("EWqr"),Fu=n("DG/E");let Vu=1;const Uu=(()=>Promise.resolve())(),Bu={};function zu(t){return t in Bu&&(delete Bu[t],!0)}const qu={setImmediate(t){const e=Vu++;return Bu[e]=!0,Uu.then(()=>zu(e)&&t()),e},clearImmediate(t){zu(t)}};class Wu extends Lu.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=qu.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(qu.clearImmediate(e),t.scheduled=void 0)}}class Hu extends Fu.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,r=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<r&&(t=e.shift()));if(this.active=!1,n){for(;++i<r&&(t=e.shift());)t.unsubscribe();throw n}}}const Gu=new Hu(Wu);var Qu=n("Ohay"),Ku=n("Efrr");class $u{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Yu(t,this.durationSelector))}}class Yu extends Gi.a{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=Object(Qi.a)(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Xu(t){return!Object(Hi.a)(t)&&t-parseFloat(t)+1>=0}function Zu(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Ju(t,e=Ku.a){return n=()=>function(t=0,e,n){let i=-1;return Xu(e)?i=Number(e)<1?1:Number(e):Object(Wi.a)(e)&&(n=e),Object(Wi.a)(n)||(n=Ku.a),new ri.a(e=>{const r=Xu(t)?t:+t-n.now();return n.schedule(Zu,r,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new $u(n))};var n}var th=n("kuMc");const eh=new i.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(i.W)(c)}});let nh=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new i.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.ac(eh,8))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(eh,8))},token:t,providedIn:"root"}),t})(),ih=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)}}),t})();class rh{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new er.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}let oh=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new er.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ri.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Ju(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(ii.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(si.a)(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ju(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.A),i.ac(Eu))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(i.A),Object(i.ac)(Eu))},token:t,providedIn:"root"}),t})(),sh=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=i,this._destroyed=new er.a,this._elementScrolled=new ri.a(t=>this.ngZone.runOutsideAngular(()=>ju(this.elementRef.nativeElement,"scroll").pipe(Object(th.a)(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;t.left=null==t.left?n?t.end:t.start:t.left,t.right=null==t.right?n?t.start:t.end:t.right,null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&Au()!=ku.NORMAL?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),Au()==ku.INVERTED?t.left=t.right:Au()==ku.NEGATED&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e=this.elementRef.nativeElement;if("top"==t)return e.scrollTop;if("bottom"==t)return e.scrollHeight-e.clientHeight-e.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==t?t=n?"right":"left":"end"==t&&(t=n?"left":"right"),n&&Au()==ku.INVERTED?"left"==t?e.scrollWidth-e.clientWidth-e.scrollLeft:e.scrollLeft:n&&Au()==ku.NEGATED?"left"==t?e.scrollLeft+e.scrollWidth-e.clientWidth:-e.scrollLeft:"left"==t?e.scrollLeft:e.scrollWidth-e.clientWidth-e.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(oh),i.Qb(i.A),i.Qb(nh,8))},t.\u0275dir=i.Lb({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),ah=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Object(Fa.a)(ju(window,"resize"),ju(window,"orientationchange")):Object(ii.a)(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ju(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Eu),i.ac(i.A))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(Eu),Object(i.ac)(i.A))},token:t,providedIn:"root"}),t})(),ch=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[ih,Cu],ih]}),t})();function lh(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var uh=n("mWib");let hh=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),dh=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Mu(t);return new ri.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new er.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(hh))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(hh))},token:t,providedIn:"root"}),t})(),fh=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new i.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Nu(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Pu(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Object(uh.a)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(dh),i.Qb(i.l),i.Qb(i.A))},t.\u0275dir=i.Lb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),ph=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[hh]}),t})();function mh(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}let gh=0;const yh=new Map;let vh=null,_h=(()=>{class t{constructor(t){this._document=t}describe(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),yh.set(e,{messageElement:e,referenceCount:0})):yh.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}removeDescription(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){const t=yh.get(e);t&&0===t.referenceCount&&this._deleteMessageElement(e)}vh&&0===vh.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");vh&&this._deleteMessagesContainer(),yh.clear()}_createMessageElement(t){const e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),vh.appendChild(e),yh.set(t,{messageElement:e,referenceCount:0})}_setMessageId(t){t.id||(t.id=`cdk-describedby-message-${gh++}`)}_deleteMessageElement(t){const e=yh.get(t),n=e&&e.messageElement;vh&&n&&vh.removeChild(n),yh.delete(t)}_createMessagesContainer(){if(!vh){const t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),vh=this._document.createElement("div"),vh.id="cdk-describedby-message-container",vh.setAttribute("aria-hidden","true"),vh.style.display="none",this._document.body.appendChild(vh)}}_deleteMessagesContainer(){vh&&vh.parentNode&&(vh.parentNode.removeChild(vh),vh=null)}_removeCdkDescribedByReferenceIds(t){const e=mh(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=yh.get(e);!function(t,e,n){const i=mh(t,e);i.some(t=>t.trim()==n.trim())||(i.push(n.trim()),t.setAttribute(e,i.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(t,e){const n=yh.get(e);n.referenceCount--,function(t,e,n){const i=mh(t,e).filter(t=>t!=n.trim());i.length?t.setAttribute(e,i.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(t,e){const n=mh(t,"aria-describedby"),i=yh.get(e),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),i=t.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(c))},token:t,providedIn:"root"}),t})();class bh{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new er.a,this._typeaheadSubscription=Dr.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new er.a,this.change=new er.a,t instanceof i.E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Nr(t=>this._pressedLetters.push(t)),Object(uh.a)(t),Object(si.a)(()=>this._pressedLetters.length>0),Object(ai.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||lh(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof i.E?this._items.toArray():this._items}}class wh extends bh{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Eh extends bh{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Ch=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(_N){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===Sh(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let i=t.nodeName.toLowerCase(),r=Sh(t);if(t.hasAttribute("contenteditable"))return-1!==r;if("iframe"===i)return!1;if("audio"===i){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===i){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==i||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||xh(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Eu))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(Eu))},token:t,providedIn:"root"}),t})();function xh(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Sh(t){if(!xh(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Oh{constructor(t,e,n,i,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Object(i.X)()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Object(_r.a)(1)).subscribe(t)}}let Th=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Oh(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ch),i.ac(i.A),i.ac(c))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(Ch),Object(i.ac)(i.A),Object(i.ac)(c))},token:t,providedIn:"root"}),t})();const kh=new i.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Ih=new i.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ah=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(i.ac(kh,8),i.ac(i.A),i.ac(c),i.ac(Ih,8))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(kh,8),Object(i.ac)(i.A),Object(i.ac)(c),Object(i.ac)(Ih,8))},token:t,providedIn:"root"}),t})();const Nh=Tu({passive:!0,capture:!0});let Ph=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return Object(ii.a)(null);const n=Mu(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let i={unlisten:()=>{},checkChildren:e,subject:new er.a};this._elementInfo.set(n,i),this._incrementMonitoredElementCount();let r=t=>this._onFocus(t,n),o=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",r,!0),n.addEventListener("blur",o,!0)}),i.unlisten=()=>{n.removeEventListener("focus",r,!0),n.removeEventListener("blur",o,!0)},i.subject.asObservable()}stopMonitoring(t){const e=Mu(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const i=Mu(t);this._setOriginForCurrentEventQueue(e),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let i=this._origin;i||(i=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,Nh),document.addEventListener("mousedown",this._documentMousedownListener,Nh),document.addEventListener("touchstart",this._documentTouchstartListener,Nh),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Nh),document.removeEventListener("mousedown",this._documentMousedownListener,Nh),document.removeEventListener("touchstart",this._documentTouchstartListener,Nh),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.A),i.ac(Eu))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(i.A),Object(i.ac)(Eu))},token:t,providedIn:"root"}),t})();function Rh(t){return 0===t.buttons}let Dh=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=(this._document.defaultView.getComputedStyle(t).backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),e){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Eu),i.ac(c))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(Eu),Object(i.ac)(c))},token:t,providedIn:"root"}),t})(),Mh=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(Dh))},imports:[[Q,Cu,ph]]}),t})();const jh=new i.P("9.0.0"),Lh=["*",[["mat-option"],["ng-container"]]],Fh=["*","mat-option, ng-container"];function Vh(t,e){if(1&t&&i.Rb(0,"mat-pseudo-checkbox",3),2&t){const t=i.ic();i.nc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Uh=["*"];let Bh=(()=>{class t{}return t.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",t.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",t.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",t.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",t})(),zh=(()=>{class t{}return t.COMPLEX="375ms",t.ENTERING="225ms",t.EXITING="195ms",t})();const qh=new i.P("9.0.0"),Wh=new i.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Hh,Gh=(()=>{class t{constructor(t,e){this._hasDoneGlobalChecks=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checksAreEnabled(){return Object(i.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document&&this._document.body&&"function"==typeof getComputedStyle))return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&qh.full!==jh.full&&console.warn("The Angular Material version ("+qh.full+") does not match the Angular CDK version ("+jh.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(Dh),i.ac(Wh,8))},imports:[[ih],ih]}),t})();function Qh(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Nu(t)}}}function Kh(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function $h(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Nu(t)}}}function Yh(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function Xh(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new er.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{Hh="undefined"!=typeof Intl}catch(_N){Hh=!1}let Zh=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Jh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function td(t,e,n){const i=t.nativeElement.classList;n?i.add(e):i.remove(e)}let ed=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Gh],Gh]}),t})();const nd=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class id{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=nd.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const rd={enterDuration:450,exitDuration:400},od=Tu({passive:!0});class sd{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=Rh(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===nd.VISIBLE||t.config.terminateOnPointerUp&&t.state===nd.FADING_IN)&&t.fadeOut()}))},i.isBrowser&&(this._containerElement=Mu(n),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},rd),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const o=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),s=t-i.left,a=e-i.top,c=r.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=`${s-o}px`,l.style.top=`${a-o}px`,l.style.height=`${2*o}px`,l.style.width=`${2*o}px`,null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new id(this,l,n);return u.state=nd.FADING_IN,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=nd.VISIBLE,n.persistent||t&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},rd),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=nd.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=nd.HIDDEN,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=Mu(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((t,n)=>{e.addEventListener(n,t,od)})}),this._triggerElement=e)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,od)})}}const ad=new i.r("mat-ripple-global-options");let cd=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new sd(this,e,t,n),"NoopAnimations"===r&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign({},this._globalOptions.animation),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.A),i.Qb(Eu),i.Qb(ad,8),i.Qb(ti,8))},t.\u0275dir=i.Lb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&i.Hb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),ld=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Gh,Cu],Gh]}),t})(),ud=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ti,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&i.Hb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),hd=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)}}),t})();class dd{}const fd=Qh(dd);let pd=0,md=(()=>{class t extends fd{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${pd++}`}}return t.\u0275fac=function(e){return gd(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(i.Eb("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),i.Hb("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[i.Ab],ngContentSelectors:Fh,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(i.mc(Lh),i.Wb(0,"label",0),i.Dc(1),i.lc(2),i.Vb(),i.lc(3,1)),2&t&&(i.nc("id",e._labelId),i.Db(1),i.Fc("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();const gd=i.Yb(md);let yd=0;class vd{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const _d=new i.r("MAT_OPTION_PARENT_COMPONENT");let bd=(()=>{class t{constructor(t,e,n,r){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${yd++}`,this.onSelectionChange=new i.o,this._stateChanges=new er.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Nu(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||lh(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new vd(this,t))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.h),i.Qb(_d,8),i.Qb(md,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option"],hostVars:12,hostBindings:function(t,e){1&t&&i.ec("click",(function(t){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(i.Zb("id",e.id),i.Eb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),i.Hb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:Uh,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(i.mc(),i.Cc(0,Vh,1,2,"mat-pseudo-checkbox",0),i.Wb(1,"span",1),i.lc(2),i.Vb(),i.Rb(3,"div",2)),2&t&&(i.nc("ngIf",e.multiple),i.Db(3),i.nc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[M,cd,ud],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function wd(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),o=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[o]&&o++;return o}return 0}let Ed=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[ld,Q,hd]]}),t})();const Cd=new i.r("mat-label-global-options"),xd=["*"];function Sd(t,e){if(1&t){const t=i.Xb();i.Wb(0,"div",2),i.ec("click",(function(e){return i.vc(t),i.ic()._onBackdropClicked()})),i.Vb()}if(2&t){const t=i.ic();i.Hb("mat-drawer-shown",t._isShowingBackdrop())}}function Od(t,e){1&t&&(i.Wb(0,"mat-drawer-content"),i.lc(1,2),i.Vb())}const Td=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],kd=["mat-drawer","mat-drawer-content","*"];function Id(t,e){if(1&t){const t=i.Xb();i.Wb(0,"div",2),i.ec("click",(function(e){return i.vc(t),i.ic()._onBackdropClicked()})),i.Vb()}if(2&t){const t=i.ic();i.Hb("mat-drawer-shown",t._isShowingBackdrop())}}function Ad(t,e){1&t&&(i.Wb(0,"mat-sidenav-content",3),i.lc(1,2),i.Vb())}const Nd=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Pd=["mat-sidenav","mat-sidenav-content","*"],Rd={transformDrawer:Pt("transform",[Lt("open, open-instant",jt({transform:"none",visibility:"visible"})),Lt("void",jt({"box-shadow":"none",visibility:"hidden"})),Vt("void => open-instant",Rt("0ms")),Vt("void <=> open, open-instant => void",Rt("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function Dd(t){throw Error(`A drawer was already declared for 'position="${t}"'`)}const Md=new i.r("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),jd=new i.r("MAT_DRAWER_CONTAINER");let Ld=(()=>{class t extends sh{constructor(t,e,n,i,r){super(n,i,r),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.h),i.Qb(Object(i.V)(()=>Vd)),i.Qb(i.l),i.Qb(oh),i.Qb(i.A))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&i.Bc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[i.Ab],ngContentSelectors:xd,decls:1,vars:0,template:function(t,e){1&t&&(i.mc(),i.lc(0))},encapsulation:2,changeDetection:0}),t})(),Fd=(()=>{class t{constructor(t,e,n,r,o,s,a){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=r,this._ngZone=o,this._doc=s,this._container=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new er.a,this._animationEnd=new er.a,this._animationState="void",this.openedChange=new i.o(!0),this._destroyed=new er.a,this.onPositionChanged=new i.o,this._modeChanged=new er.a,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{ju(this._elementRef.nativeElement,"keydown").pipe(Object(si.a)(t=>27===t.keyCode&&!this.disableClose&&!lh(t)),Object(th.a)(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(Object(Qu.a)((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Nu(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=Nu(t)}get opened(){return this._opened}set opened(t){this.toggle(Nu(t))}get _openedStream(){return this.openedChange.pipe(Object(si.a)(t=>t),Object(ai.a)(()=>{}))}get openedStart(){return this._animationStarted.pipe(Object(si.a)(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),Object(ai.a)(()=>{}))}get _closedStream(){return this.openedChange.pipe(Object(si.a)(t=>!t),Object(ai.a)(()=>{}))}get closedStart(){return this._animationStarted.pipe(Object(si.a)(t=>t.fromState!==t.toState&&"void"===t.toState),Object(ai.a)(()=>{}))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){if(!this.autoFocus)return;const t=this._doc&&this._doc.activeElement;t&&this._elementRef.nativeElement.contains(t)&&(this._elementFocusedBeforeDrawerWasOpened instanceof HTMLElement?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur()),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}toggle(t=!this.opened,e="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=e):(this._animationState="void",this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(Object(_r.a)(1)).subscribe(e=>t(e?"open":"close"))})}get _width(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(Th),i.Qb(Ph),i.Qb(Eu),i.Qb(i.A),i.Qb(c,8),i.Qb(jd,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&i.Ib("@transform.start",(function(t){return e._animationStartListener(t)}))("@transform.done",(function(t){return e._animationDoneListener(t)})),2&t&&(i.Eb("align",null),i.Gc("@transform",e._animationState),i.Hb("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",onPositionChanged:"positionChanged",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart"},exportAs:["matDrawer"],ngContentSelectors:xd,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(i.mc(),i.Wb(0,"div",0),i.lc(1),i.Vb())},encapsulation:2,data:{animation:[Rd.transformDrawer]},changeDetection:0}),t})(),Vd=(()=>{class t{constructor(t,e,n,r,o,s=!1,a){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=r,this._animationMode=a,this._drawers=new i.E,this.backdropClick=new i.o,this._destroyed=new er.a,this._doCheckSubject=new er.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new er.a,t&&t.change.pipe(Object(th.a)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Object(th.a)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Nu(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:Nu(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Or(this._allDrawers),Object(th.a)(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Or(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._doCheckSubject.pipe(Object(uh.a)(10),Object(th.a)(this._destroyed)).subscribe(()=>this.updateContentMargins())}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._width;else if("push"==this._left.mode){const n=this._left._width;t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._width;else if("push"==this._right.mode){const n=this._right._width;e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Object(si.a)(t=>t.fromState!==t.toState),Object(th.a)(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Object(th.a)(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Object(th.a)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(_r.a)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Object(th.a)(Object(Fa.a)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?(null!=this._end&&Dd("end"),this._end=t):(null!=this._start&&Dd("start"),this._start=t)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawer()}_closeModalDrawer(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t.close())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(nh,8),i.Qb(i.l),i.Qb(i.A),i.Qb(i.h),i.Qb(ah),i.Qb(Md),i.Qb(ti,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){var r;1&t&&(i.Jb(n,Ld,!0),i.Jb(n,Fd,!0)),2&t&&(i.rc(r=i.fc())&&(e._content=r.first),i.rc(r=i.fc())&&(e._allDrawers=r))},viewQuery:function(t,e){var n;1&t&&i.Hc(Ld,!0),2&t&&i.rc(n=i.fc())&&(e._userContent=n.first)},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&i.Hb("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[i.Cb([{provide:jd,useExisting:t}])],ngContentSelectors:kd,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(i.mc(Td),i.Cc(0,Sd,1,2,"div",0),i.lc(1),i.lc(2,1),i.Cc(3,Od,2,0,"mat-drawer-content",1)),2&t&&(i.nc("ngIf",e.hasBackdrop),i.Db(3),i.nc("ngIf",!e._content))},directives:[M,Ld],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})(),Ud=(()=>{class t extends Ld{constructor(t,e,n,i,r){super(t,e,n,i,r)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.h),i.Qb(Object(i.V)(()=>qd)),i.Qb(i.l),i.Qb(oh),i.Qb(i.A))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,e){2&t&&i.Bc("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[i.Ab],ngContentSelectors:xd,decls:1,vars:0,template:function(t,e){1&t&&(i.mc(),i.lc(0))},encapsulation:2,changeDetection:0}),t})(),Bd=(()=>{class t extends Fd{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Nu(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Pu(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Pu(t)}}return t.\u0275fac=function(e){return zd(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,e){2&t&&(i.Eb("align",null),i.Bc("top",e.fixedInViewport?e.fixedTopGap:null,"px")("bottom",e.fixedInViewport?e.fixedBottomGap:null,"px"),i.Hb("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened)("mat-sidenav-fixed",e.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[i.Ab],ngContentSelectors:xd,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(i.mc(),i.Wb(0,"div",0),i.lc(1),i.Vb())},encapsulation:2,data:{animation:[Rd.transformDrawer]},changeDetection:0}),t})();const zd=i.Yb(Bd);let qd=(()=>{class t extends Vd{}return t.\u0275fac=function(e){return Wd(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-sidenav-container"]],contentQueries:function(t,e,n){var r;1&t&&(i.Jb(n,Ud,!0),i.Jb(n,Bd,!0)),2&t&&(i.rc(r=i.fc())&&(e._content=r.first),i.rc(r=i.fc())&&(e._allDrawers=r))},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,e){2&t&&i.Hb("mat-drawer-container-explicit-backdrop",e._backdropOverride)},exportAs:["matSidenavContainer"],features:[i.Cb([{provide:jd,useExisting:t}]),i.Ab],ngContentSelectors:Pd,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(t,e){1&t&&(i.mc(Nd),i.Cc(0,Id,1,2,"div",0),i.lc(1),i.lc(2,1),i.Cc(3,Ad,2,0,"mat-sidenav-content",1)),2&t&&(i.nc("ngIf",e.hasBackdrop),i.Db(3),i.nc("ngIf",!e._content))},directives:[M,Ud,sh],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})();const Wd=i.Yb(qd);let Hd=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Q,Gh,ch,Cu],Gh]}),t})();const Gd=["*",[["mat-toolbar-row"]]],Qd=["*","mat-toolbar-row"];class Kd{constructor(t){this._elementRef=t}}const $d=Kh(Kd);let Yd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),Xd=(()=>{class t extends $d{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){Object(i.X)()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(t=>!(t.classList&&t.classList.contains("mat-toolbar-row"))).filter(t=>t.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(t=>!(!t.textContent||!t.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(Eu),i.Qb(c))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){var r;1&t&&i.Jb(n,Yd,!0),2&t&&i.rc(r=i.fc())&&(e._toolbarRows=r)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&i.Hb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[i.Ab],ngContentSelectors:Qd,decls:2,vars:0,template:function(t,e){1&t&&(i.mc(Gd),i.lc(0),i.lc(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}\n"],encapsulation:2,changeDetection:0}),t})(),Zd=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Gh],Gh]}),t})();const Jd=new i.r("NgValueAccessor"),tf={provide:Jd,useExisting:Object(i.V)(()=>ef),multi:!0};let ef=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.F),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.ec("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(t){return e.onTouched()}))},features:[i.Cb([tf])]}),t})();const nf={provide:Jd,useExisting:Object(i.V)(()=>of),multi:!0},rf=new i.r("CompositionEventMode");let of=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=a()?a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.F),i.Qb(i.l),i.Qb(rf,8))},t.\u0275dir=i.Lb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.ec("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(t){return e.onTouched()}))("compositionstart",(function(t){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[i.Cb([nf])]}),t})(),sf=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t}),t})(),af=(()=>{class t extends sf{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return cf(e||t)},t.\u0275dir=i.Lb({type:t,features:[i.Ab]}),t})();const cf=i.Yb(af);function lf(){throw new Error("unimplemented")}class uf extends sf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return lf()}get asyncValidator(){return lf()}}let hf=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(uf,2))},t.\u0275dir=i.Lb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.Hb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[i.Ab]}),t})();function df(t){return null==t||0===t.length}const ff=new i.r("NgValidators"),pf=new i.r("NgAsyncValidators"),mf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class gf{static min(t){return e=>{if(df(e.value)||df(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(df(e.value)||df(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return df(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return df(t.value)?null:mf.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(df(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return gf.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(df(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(yf);return 0==e.length?null:function(t){return _f(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(yf);return 0==e.length?null:function(t){return Ic(function(t,e){return e.map(e=>e(t))}(t,e).map(vf)).pipe(Object(ai.a)(_f))}}}function yf(t){return null!=t}function vf(t){const e=Object(i.ub)(t)?Object(Bi.a)(t):t;if(!Object(i.tb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function _f(t){const e=t.reduce((t,e)=>null!=e?Object.assign(Object.assign({},t),e):t,{});return 0===Object.keys(e).length?null:e}function bf(t){return t.validate?e=>t.validate(e):t}function wf(t){return t.validate?e=>t.validate(e):t}const Ef={provide:Jd,useExisting:Object(i.V)(()=>Cf),multi:!0};let Cf=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.F),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&i.ec("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[i.Cb([Ef])]}),t})();const xf={provide:Jd,useExisting:Object(i.V)(()=>Of),multi:!0};let Sf=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),Of=(()=>{class t{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(uf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.F),i.Qb(i.l),i.Qb(Sf),i.Qb(i.s))},t.\u0275dir=i.Lb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.ec("change",(function(t){return e.onChange()}))("blur",(function(t){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Cb([xf])]}),t})();const Tf={provide:Jd,useExisting:Object(i.V)(()=>kf),multi:!0};let kf=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.F),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&i.ec("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[i.Cb([Tf])]}),t})();const If='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Af='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Nf='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Pf={provide:Jd,useExisting:Object(i.V)(()=>Rf),multi:!0};let Rf=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=i.vb}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.F),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&i.ec("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Cb([Pf])]}),t})();const Df={provide:Jd,useExisting:Object(i.V)(()=>Mf),multi:!0};let Mf=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=i.vb}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),r=this._getOptionValue(i.value);n.push(r)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.F),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&i.ec("change",(function(t){return e.onChange(t.target)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[i.Cb([Df])]}),t})();function jf(t,e){return[...e.path,t]}function Lf(t,e){t||Bf(e,"Cannot find control with"),e.valueAccessor||Bf(e,"No value accessor for form control with"),t.validator=gf.compose([t.validator,e.validator]),t.asyncValidator=gf.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ff(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ff(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Ff(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Vf(t,e){null==t&&Bf(e,"Cannot find control with"),t.validator=gf.compose([t.validator,e.validator]),t.asyncValidator=gf.composeAsync([t.asyncValidator,e.asyncValidator])}function Uf(t){return Bf(t,"There is no FormControl instance attached to form control element with")}function Bf(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function zf(t){return null!=t?gf.compose(t.map(bf)):null}function qf(t){return null!=t?gf.composeAsync(t.map(wf)):null}const Wf=[ef,kf,Cf,Rf,Mf,Of];function Hf(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Gf(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qf(t){const e=$f(t)?t.validators:t;return Array.isArray(e)?zf(e):e||null}function Kf(t,e){const n=$f(e)?e.asyncValidators:t;return Array.isArray(n)?qf(n):n||null}function $f(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Yf{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Qf(t)}setAsyncValidators(t){this.asyncValidator=Kf(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=vf(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length?null:e.reduce((t,e)=>t instanceof Zf?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Jf&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new i.o,this.statusChanges=new i.o}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$f(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Xf extends Yf{constructor(t=null,e,n){super(Qf(e),Kf(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Zf extends Yf{constructor(t,e,n){super(Qf(e),Kf(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Xf?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Jf extends Yf{constructor(t,e,n){super(Qf(e),Kf(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Xf?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const tp={provide:af,useExisting:Object(i.V)(()=>np)},ep=(()=>Promise.resolve(null))();let np=(()=>{class t extends af{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new i.o,this.form=new Zf({},zf(t),qf(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ep.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Lf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ep.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Gf(this._directives,t)})}addFormGroup(t){ep.then(()=>{const e=this._findContainer(t.path),n=new Zf({});Vf(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ep.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ep.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Hf(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ff,10),i.Qb(pf,10))},t.\u0275dir=i.Lb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.ec("submit",(function(t){return e.onSubmit(t)}))("reset",(function(t){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Cb([tp]),i.Ab]}),t})(),ip=(()=>{class t extends af{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return jf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return zf(this._validators)}get asyncValidator(){return qf(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return rp(e||t)},t.\u0275dir=i.Lb({type:t,features:[i.Ab]}),t})();const rp=i.Yb(ip);class op{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${If}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Af}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Nf}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Af}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Nf}`)}}const sp={provide:af,useExisting:Object(i.V)(()=>ap)};let ap=(()=>{class t extends ip{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof np||op.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(af,5),i.Qb(ff,10),i.Qb(pf,10))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[i.Cb([sp]),i.Ab]}),t})();const cp={provide:uf,useExisting:Object(i.V)(()=>up)},lp=(()=>Promise.resolve(null))();let up=(()=>{class t extends uf{constructor(t,e,n,r){super(),this.control=new Xf,this._registered=!1,this.update=new i.o,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||Bf(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return e.forEach(e=>{var o;e.constructor===of?n=e:(o=e,Wf.some(t=>o.constructor===t)?(i&&Bf(t,"More than one built-in value accessor matches form control with"),i=e):(r&&Bf(t,"More than one custom value accessor matches form control with"),r=e))}),r||i||n||(Bf(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object(i.vb)(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?jf(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return zf(this._rawValidators)}get asyncValidator(){return qf(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof ap)&&this._parent instanceof ip?op.formGroupNameException():this._parent instanceof ap||this._parent instanceof np||op.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||op.missingNameException()}_updateValue(t){lp.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;lp.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(af,9),i.Qb(ff,10),i.Qb(pf,10),i.Qb(Jd,10))},t.\u0275dir=i.Lb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Cb([cp]),i.Ab,i.Bb()]}),t})();const hp={provide:af,useExisting:Object(i.V)(()=>dp)};let dp=(()=>{class t extends af{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new i.o}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Lf(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Gf(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Vf(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Vf(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Hf(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Uf(e)),e.valueAccessor.registerOnTouched(()=>Uf(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Lf(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=zf(this._validators);this.form.validator=gf.compose([this.form.validator,t]);const e=qf(this._asyncValidators);this.form.asyncValidator=gf.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||class{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${If}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Af}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Nf}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${If}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Af}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ff,10),i.Qb(pf,10))},t.\u0275dir=i.Lb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.ec("submit",(function(t){return e.onSubmit(t)}))("reset",(function(t){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Cb([hp]),i.Ab,i.Bb()]}),t})(),fp=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)}}),t})(),pp=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[Sf],imports:[fp]}),t})(),mp=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Gh,Q],Gh]}),t})();const gp=["*"],yp=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],vp=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"];class _p{}const bp=$h(_p);class wp{}const Ep=$h(wp);let Cp=(()=>{class t extends bp{constructor(){super(...arguments),this._stateChanges=new er.a}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return xp(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple"},exportAs:["matNavList"],features:[i.Ab,i.Bb()],ngContentSelectors:gp,decls:1,vars:0,template:function(t,e){1&t&&(i.mc(),i.lc(0))},styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n"],encapsulation:2,changeDetection:0}),t})();const xp=i.Yb(Cp);let Sp=(()=>{class t extends bp{constructor(t){super(),this._elementRef=t,this._stateChanges=new er.a,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple"},exportAs:["matList"],features:[i.Ab,i.Bb()],ngContentSelectors:gp,decls:1,vars:0,template:function(t,e){1&t&&(i.mc(),i.lc(0))},styles:[".mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}@media(hover: none){.mat-list-option:not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n"],encapsulation:2,changeDetection:0}),t})(),Op=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),Tp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),kp=(()=>{class t extends Ep{constructor(t,e,n,i){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new er.a,this._isInteractiveList=!!(n||i&&"action-list"===i._getListType()),this._list=n||i;const r=this._getHostElement();"button"!==r.nodeName.toLowerCase()||r.hasAttribute("type")||r.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Object(th.a)(this._destroyed)).subscribe(()=>{e.markForCheck()})}ngAfterContentInit(){var t,e;e=this._element,(t=this._lines).changes.pipe(Or(t)).subscribe(({length:t})=>{td(e,"mat-2-line",!1),td(e,"mat-3-line",!1),td(e,"mat-multi-line",!1),2===t||3===t?td(e,`mat-${t}-line`,!0):t>3&&td(e,"mat-multi-line",!0)})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.h),i.Qb(Cp,8),i.Qb(Sp,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){var r;1&t&&(i.Jb(n,Op,!0),i.Jb(n,Tp,!0),i.Jb(n,Jh,!0)),2&t&&(i.rc(r=i.fc())&&(e._avatar=r.first),i.rc(r=i.fc())&&(e._icon=r.first),i.rc(r=i.fc())&&(e._lines=r))},hostAttrs:[1,"mat-list-item"],hostVars:4,hostBindings:function(t,e){2&t&&i.Hb("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple"},exportAs:["matListItem"],features:[i.Ab],ngContentSelectors:vp,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(i.mc(yp),i.Wb(0,"div",0),i.Rb(1,"div",1),i.lc(2),i.Wb(3,"div",2),i.lc(4,1),i.Vb(),i.lc(5,2),i.Vb()),2&t&&(i.Db(1),i.nc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[cd],encapsulation:2,changeDetection:0}),t})(),Ip=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[ed,ld,Gh,hd,Q],ed,Gh,hd,mp]}),t})();var Ap=n("iRe+");function Np(t,e=Ku.a){const n=Object(Ap.a)(t)?+t-e.now():Math.abs(t);return t=>t.lift(new Pp(n,e))}class Pp{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new Rp(t,this.delay,this.scheduler))}}class Rp extends rr.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,i=t.scheduler,r=t.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const e=Math.max(0,n[0].time-i.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(Rp.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new Dp(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Va.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Va.a.createComplete()),this.unsubscribe()}}class Dp{constructor(t,e){this.time=t,this.notification=e}}function Mp(){throw Error("Host already has a portal attached")}class jp{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Mp(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Lp extends jp{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class Fp extends jp{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Vp extends jp{constructor(t){super(),this.element=t instanceof i.l?t.nativeElement:t}}class Up{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Mp(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof Lp?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Fp?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Vp?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Bp extends Up{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let zp=(()=>{class t extends Up{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new i.o,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.j),i.Qb(i.Q),i.Qb(c))},t.\u0275dir=i.Lb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[i.Ab]}),t})(),qp=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)}}),t})();class Wp{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}class Hp{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Du(-this._previousScrollPosition.left),t.style.top=Du(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function Gp(){return Error("Scroll strategy has already been attached.")}class Qp{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw Gp();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Kp{enable(){}disable(){}attach(){}}function $p(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Yp(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Xp{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw Gp();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();$p(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Zp=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Kp,this.close=t=>new Qp(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Hp(this._viewportRuler,this._document),this.reposition=t=>new Xp(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(i.ac(oh),i.ac(ah),i.ac(i.A),i.ac(c))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(oh),Object(i.ac)(ah),Object(i.ac)(i.A),Object(i.ac)(c))},token:t,providedIn:"root"}),t})();class Jp{constructor(t){if(this.scrollStrategy=new Kp,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class tm{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class em{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function nm(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function im(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let rm=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(c))},token:t,providedIn:"root"}),t})();const om=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let sm=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||om){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),om?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(i.ac(c),i.ac(Eu))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(c),Object(i.ac)(Eu))},token:t,providedIn:"root"}),t})();class am{constructor(t,e,n,i,r,o,s,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._backdropElement=null,this._backdropClick=new er.a,this._attachments=new er.a,this._detachments=new er.a,this._locationChanges=Dr.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new ri.a(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new er.a,this._keydownEventSubscriptions=0,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Object(_r.a)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Du(this._config.width),t.height=Du(this._config.height),t.minWidth=Du(this._config.minWidth),t.minHeight=Du(this._config.minHeight),t.maxWidth=Du(this._config.maxWidth),t.maxHeight=Du(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;Ru(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(Object(th.a)(Object(Fa.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}class cm{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new er.a,this._resizeSubscription=Dr.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?i.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!r||r.overlayFit.visibleArea<c.visibleArea)&&(r={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:o}=t,s=this._getOffset(i,"x"),a=this._getOffset(i,"y");s&&(r+=s),a&&(o+=a);let c=0-o,l=o+e.height-n.height,u=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,c,l),d=u*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:u==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,o=this._overlayRef.getConfig().minHeight,s=this._overlayRef.getConfig().minWidth,a=t.fitsInViewportHorizontally||null!=s&&s<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.right,0),o=Math.max(t.y+e.height-i.bottom,0),s=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let c=0,l=0;return c=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=e.height<=i.height?s||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new em(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,o,s,a,c,l;if("top"===e.overlayY)o=t.y,r=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,r=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,o=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-i/2)}return{top:o,left:c,bottom:s,right:l,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=Du(n.height),i.top=Du(n.top),i.bottom=Du(n.bottom),i.width=Du(n.width),i.left=Du(n.left),i.right=Du(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=Du(t)),r&&(i.maxWidth=Du(r))}this._lastBoundingBoxSize=n,lm(this._boundingBox.style,i)}_resetBoundingBoxStyles(){lm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();lm(n,this._getExactOverlayY(e,t,i)),lm(n,this._getExactOverlayX(e,t,i))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=Du(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=Du(o.maxWidth):r&&(n.maxWidth="")),lm(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=`${this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)}px`:i.top=Du(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=`${this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)}px`:r.left=Du(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Yp(t,n),isOriginOutsideView:$p(t,n),isOverlayClipped:Yp(e,n),isOverlayOutsideView:$p(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{im("originX",t.originX),nm("originY",t.originY),im("overlayX",t.overlayX),nm("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&Ru(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof i.l)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function lm(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class um{constructor(t,e,n,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new cm(n,i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new tm(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class hm{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:o,maxHeight:s}=n,a=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==r&&"100vh"!==r||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let dm=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new hm}connectedTo(t,e,n){return new um(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new cm(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(ah),i.ac(c),i.ac(Eu),i.ac(sm))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(ah),Object(i.ac)(c),Object(i.ac)(Eu),Object(i.ac)(sm))},token:t,providedIn:"root"}),t})(),fm=0,pm=(()=>{class t{constructor(t,e,n,i,r,o,s,a,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Jp(t);return r.direction=r.direction||this._directionality.value,new am(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${fm++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(i.g)),new Bp(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Zp),i.ac(sm),i.ac(i.j),i.ac(dm),i.ac(rm),i.ac(i.s),i.ac(i.A),i.ac(c),i.ac(nh),i.ac(C,8))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const mm=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gm=new i.r("cdk-connected-overlay-scroll-strategy");let ym=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),vm=(()=>{class t{constructor(t,e,n,r,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Dr.a.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new i.o,this.positionChange=new i.o,this.attach=new i.o,this.detach=new i.o,this.overlayKeydown=new i.o,this._templatePortal=new Fp(e,n),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Nu(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Nu(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Nu(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Nu(t)}get push(){return this._push}set push(t){this._push=Nu(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=mm),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||lh(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new Jp({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(pm),i.Qb(i.M),i.Qb(i.Q),i.Qb(gm),i.Qb(nh,8))},t.\u0275dir=i.Lb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[i.Bb()]}),t})();const _m={provide:gm,deps:[pm],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let bm=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[pm,_m],imports:[[ih,qp,ch],ch]}),t})();const wm=["mat-menu-item",""],Em=["*"];function Cm(t,e){if(1&t){const t=i.Xb();i.Wb(0,"div",0),i.ec("keydown",(function(e){return i.vc(t),i.ic()._handleKeydown(e)}))("click",(function(e){return i.vc(t),i.ic().closed.emit("click")}))("@transformMenu.start",(function(e){return i.vc(t),i.ic()._onAnimationStart(e)}))("@transformMenu.done",(function(e){return i.vc(t),i.ic()._onAnimationDone(e)})),i.Wb(1,"div",1),i.lc(2),i.Vb(),i.Vb()}if(2&t){const t=i.ic();i.nc("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),i.Eb("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const xm={transformMenu:Pt("transformMenu",[Lt("void",jt({opacity:0,transform:"scale(0.8)"})),Vt("void => enter",Dt([Bt(".mat-menu-content, .mat-mdc-menu-content",Rt("100ms linear",jt({opacity:1}))),Rt("120ms cubic-bezier(0, 0, 0.2, 1)",jt({transform:"scale(1)"}))])),Vt("* => void",Rt("100ms 25ms linear",jt({opacity:0})))]),fadeInItems:Pt("fadeInItems",[Lt("showing",jt({opacity:1})),Vt("void => *",[jt({opacity:0}),Rt("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Sm=(()=>{class t{constructor(t,e,n,i,r,o,s){this._template=t,this._componentFactoryResolver=e,this._appRef=n,this._injector=i,this._viewContainerRef=r,this._document=o,this._changeDetectorRef=s,this._attached=new er.a}attach(t={}){this._portal||(this._portal=new Fp(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new Bp(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const e=this._template.elementRef.nativeElement;e.parentNode.insertBefore(this._outlet.outletElement,e),this._changeDetectorRef&&this._changeDetectorRef.markForCheck(),this._portal.attach(this._outlet,t),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.M),i.Qb(i.j),i.Qb(i.g),i.Qb(i.s),i.Qb(i.Q),i.Qb(c),i.Qb(i.h))},t.\u0275dir=i.Lb({type:t,selectors:[["ng-template","matMenuContent",""]]}),t})();const Om=new i.r("MAT_MENU_PANEL");class Tm{}const km=$h(Qh(Tm));let Im=(()=>{class t extends km{constructor(t,e,n,i){super(),this._elementRef=t,this._focusMonitor=n,this._parentMenu=i,this.role="menuitem",this._hovered=new er.a,this._focused=new er.a,this._highlighted=!1,this._triggersSubmenu=!1,n&&n.monitor(this._elementRef,!1),i&&i.addItem&&i.addItem(this),this._document=e}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e),this._focused.next(this)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement,e=this._document?this._document.TEXT_NODE:3;let n="";if(t.childNodes){const i=t.childNodes.length;for(let r=0;r<i;r++)t.childNodes[r].nodeType===e&&(n+=t.childNodes[r].textContent)}return n.trim()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(c),i.Qb(Ph),i.Qb(Om,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["","mat-menu-item",""]],hostVars:10,hostBindings:function(t,e){1&t&&i.ec("click",(function(t){return e._checkDisabled(t)}))("mouseenter",(function(t){return e._handleMouseEnter()})),2&t&&(i.Eb("role",e.role)("tabindex",e._getTabIndex())("aria-disabled",e.disabled.toString())("disabled",e.disabled||null),i.Hb("mat-menu-item",!0)("mat-menu-item-highlighted",e._highlighted)("mat-menu-item-submenu-trigger",e._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[i.Ab],attrs:wm,ngContentSelectors:Em,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(t,e){1&t&&(i.mc(),i.lc(0),i.Rb(1,"div",0)),2&t&&(i.Db(1),i.nc("matRippleDisabled",e.disableRipple||e.disabled)("matRippleTrigger",e._getHostElement()))},directives:[cd],encapsulation:2,changeDetection:0}),t})();const Am=new i.r("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Nm=0,Pm=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._ngZone=e,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new i.E,this._tabSubscription=Dr.a.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new er.a,this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new i.o,this.close=this.closed,this.panelId=`mat-menu-panel-${Nm++}`}get xPosition(){return this._xPosition}set xPosition(t){"before"!==t&&"after"!==t&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){"above"!==t&&"below"!==t&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Nu(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Nu(t)}set panelClass(t){const e=this._previousPanelClass;e&&e.length&&e.split(" ").forEach(t=>{this._classList[t]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(t=>{this._classList[t]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Eh(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Or(this._directDescendantItems),Object(xr.a)(t=>Object(Fa.a)(...t.map(t=>t._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Or(this._directDescendantItems),Object(xr.a)(t=>Object(Fa.a)(...t.map(t=>t._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const e=t.keyCode,n=this._keyManager;switch(e){case 27:lh(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:lh(t)||(36===e?n.setFirstItemActive():n.setLastItemActive(),t.preventDefault());break;default:38!==e&&40!==e||n.setFocusOrigin("keyboard"),n.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(Object(_r.a)(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const e=this._keyManager;if(e.setFocusOrigin(t).setFirstItemActive(),!e.activeItem&&this._directDescendantItems.length){let t=this._directDescendantItems.first._getHostElement().parentElement;for(;t;){if("menu"===t.getAttribute("role")){t.focus();break}t=t.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const e=`mat-elevation-z${Math.min(4+t,24)}`,n=Object.keys(this._classList).find(t=>t.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[e]=!0,this._previousElevation=e)}setPositionClasses(t=this.xPosition,e=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===t,n["mat-menu-after"]="after"===t,n["mat-menu-above"]="above"===e,n["mat-menu-below"]="below"===e}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Or(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(t=>t._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.A),i.Qb(Am))},t.\u0275dir=i.Lb({type:t,contentQueries:function(t,e,n){var r;1&t&&(i.Jb(n,Sm,!0),i.Jb(n,Im,!0),i.Jb(n,Im,!1)),2&t&&(i.rc(r=i.fc())&&(e.lazyContent=r.first),i.rc(r=i.fc())&&(e._allItems=r),i.rc(r=i.fc())&&(e.items=r))},viewQuery:function(t,e){var n;1&t&&i.Hc(i.M,!0),2&t&&i.rc(n=i.fc())&&(e.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),t})(),Rm=(()=>{class t extends Pm{}return t.\u0275fac=function(e){return Dm(e||t)},t.\u0275dir=i.Lb({type:t,features:[i.Ab]}),t})();const Dm=i.Yb(Rm);let Mm=(()=>{class t extends Rm{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.A),i.Qb(Am))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[i.Cb([{provide:Om,useExisting:Rm},{provide:Rm,useExisting:t}]),i.Ab],ngContentSelectors:Em,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,e){1&t&&(i.mc(),i.Cc(0,Cm,3,6,"ng-template"))},directives:[N],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[xm.transformMenu,xm.fadeInItems]},changeDetection:0}),t})();const jm=new i.r("mat-menu-scroll-strategy"),Lm={provide:jm,deps:[pm],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},Fm=Tu({passive:!0});let Vm=(()=>{class t{constructor(t,e,n,r,o,s,a,c){this._overlay=t,this._element=e,this._viewContainerRef=n,this._parentMenu=o,this._menuItemInstance=s,this._dir=a,this._focusMonitor=c,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Dr.a.EMPTY,this._hoverSubscription=Dr.a.EMPTY,this._menuCloseSubscription=Dr.a.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new i.o,this.onMenuOpen=this.menuOpened,this.menuClosed=new i.o,this.onMenuClose=this.menuClosed,e.nativeElement.addEventListener("touchstart",this._handleTouchStart,Fm),s&&(s._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=r}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.asObservable().subscribe(t=>{this._destroyMenu(),"click"!==t&&"tab"!==t||!this._parentMenu||this._parentMenu.closed.emit(t)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Fm),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),e=t.getConfig();this._setPosition(e.positionStrategy),e.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof Rm&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t="program",e){this._focusMonitor?this._focusMonitor.focusVia(this._element,t,e):this._element.nativeElement.focus(e)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const t=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),t instanceof Rm?(t._resetAnimation(),t.lazyContent?t._animationDone.pipe(Object(si.a)(t=>"void"===t.toState),Object(_r.a)(1),Object(th.a)(t.lazyContent._attached)).subscribe({next:()=>t.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),t.lazyContent&&t.lazyContent.detach()),this._restoreFocus()}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let t=0,e=this.menu.parentMenu;for(;e;)t++,e=e.parentMenu;this.menu.setElevation(t)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=t)}_checkMenu(){this.menu||function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Jp({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(t=>{this.menu.setPositionClasses("start"===t.connectionPair.overlayX?"after":"before","top"===t.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[e,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,r]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[o,s]=[i,r],[a,c]=[e,n],l=0;this.triggersSubmenu()?(c=e="before"===this.menu.xPosition?"start":"end",n=a="end"===e?"start":"end",l="bottom"===i?8:-8):this.menu.overlapTrigger||(o="top"===i?"bottom":"top",s="top"===r?"bottom":"top"),t.withPositions([{originX:e,originY:o,overlayX:a,overlayY:i,offsetY:l},{originX:n,originY:o,overlayX:c,overlayY:i,offsetY:l},{originX:e,originY:s,overlayX:a,overlayY:r,offsetY:-l},{originX:n,originY:s,overlayX:c,overlayY:r,offsetY:-l}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),e=this._overlayRef.detachments(),n=this._parentMenu?this._parentMenu.closed:Object(ii.a)(),i=this._parentMenu?this._parentMenu._hovered().pipe(Object(si.a)(t=>t!==this._menuItemInstance),Object(si.a)(()=>this._menuOpen)):Object(ii.a)();return Object(Fa.a)(t,n,i,e)}_handleMousedown(t){Rh(t)||(this._openedBy=0===t.button?"mouse":null,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const e=t.keyCode;this.triggersSubmenu()&&(39===e&&"ltr"===this.dir||37===e&&"rtl"===this.dir)&&this.openMenu()}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Object(si.a)(t=>t===this._menuItemInstance&&!t.disabled),Np(0,Gu)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Rm&&this.menu._isAnimating?this.menu._animationDone.pipe(Object(_r.a)(1),Np(0,Gu),Object(th.a)(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new Fp(this.menu.templateRef,this._viewContainerRef)),this._portal}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(pm),i.Qb(i.l),i.Qb(i.Q),i.Qb(jm),i.Qb(Rm,8),i.Qb(Im,10),i.Qb(nh,8),i.Qb(Ph))},t.\u0275dir=i.Lb({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(t,e){1&t&&i.ec("mousedown",(function(t){return e._handleMousedown(t)}))("keydown",(function(t){return e._handleKeydown(t)}))("click",(function(t){return e._handleClick(t)})),2&t&&i.Eb("aria-expanded",e.menuOpen||null)("aria-controls",e.menuOpen?e.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),t})(),Um=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[Lm],imports:[Gh]}),t})(),Bm=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[Lm],imports:[[Q,Gh,ld,bm,Um],Um]}),t})();var zm=n("7ntQ"),qm=n("47ST");const Wm=["*"];function Hm(t){return Error(`Unable to find icon with the name "${t}"`)}function Gm(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL "+`via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Qm(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by "+`Angular's DomSanitizer. Attempted literal was "${t}".`)}class Km{constructor(t,e){this.options=e,t.nodeName?this.svgElement=t:this.url=t}}let $m=(()=>{class t{constructor(t,e,n,i){this._httpClient=t,this._sanitizer=e,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,i){return this._addSvgIconConfig(t,e,new Km(n,i))}addSvgIconLiteralInNamespace(t,e,n,r){const o=this._sanitizer.sanitize(i.J.HTML,n);if(!o)throw Qm(n);const s=this._createSvgElementForSingleIcon(o,r);return this._addSvgIconConfig(t,e,new Km(s,r))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new Km(e,n))}addSvgIconSetLiteralInNamespace(t,e,n){const r=this._sanitizer.sanitize(i.J.HTML,e);if(!r)throw Qm(e);const o=this._svgElementFromString(r);return this._addSvgIconSetConfig(t,new Km(o,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(i.J.RESOURCE_URL,t);if(!e)throw Gm(t);const n=this._cachedIconsByUrl.get(e);return n?Object(ii.a)(Ym(n)):this._loadSvgIconFromConfig(new Km(t)).pipe(Nr(t=>this._cachedIconsByUrl.set(e,t)),Object(ai.a)(t=>Ym(t)))}getNamedSvgIcon(t,e=""){const n=Xm(e,t),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(e);return r?this._getSvgFromIconSetConfigs(t,r):Object(qm.a)(Hm(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgElement?Object(ii.a)(Ym(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Nr(e=>t.svgElement=e),Object(ai.a)(t=>Ym(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(ii.a)(n):Ic(e.filter(t=>!t.svgElement).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Object(vr.a)(e=>{const n=`Loading icon set URL: ${this._sanitizer.sanitize(i.J.RESOURCE_URL,t.url)} failed: ${e.message}`;return this._errorHandler?this._errorHandler.handleError(new Error(n)):console.error(n),Object(ii.a)(null)})))).pipe(Object(ai.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Hm(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.svgElement){const e=this._extractSvgIconFromSet(i.svgElement,t,i.options);if(e)return e}}return null}_loadSvgIconFromConfig(t){return this._fetchUrl(t.url).pipe(Object(ai.a)(e=>this._createSvgElementForSingleIcon(e,t.options)))}_loadSvgIconSetFromConfig(t){return t.svgElement?Object(ii.a)(t.svgElement):this._fetchUrl(t.url).pipe(Object(ai.a)(e=>(t.svgElement||(t.svgElement=this._svgElementFromString(e)),t.svgElement)))}_createSvgElementForSingleIcon(t,e){const n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}_extractSvgIconFromSet(t,e,n){const i=t.querySelector(`[id="${e}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(r),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let i=0;i<n.length;i++){const{name:t,value:r}=n[i];"id"!==t&&e.setAttribute(t,r)}for(let i=0;i<t.childNodes.length;i++)t.childNodes[i].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[i].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchUrl(t){if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error(`Cannot fetch icon from URL "${t}".`);const e=this._sanitizer.sanitize(i.J.RESOURCE_URL,t);if(!e)throw Gm(t);const n=this._inProgressUrlFetches.get(e);if(n)return n;const r=this._httpClient.get(e,{responseType:"text"}).pipe(Mr(()=>this._inProgressUrlFetches.delete(e)),Object(zm.a)());return this._inProgressUrlFetches.set(e,r),r}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(Xm(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}return t.\u0275fac=function(e){return new(e||t)(i.ac(xi,8),i.ac(Ct),i.ac(c,8),i.ac(i.n,8))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(xi,8),Object(i.ac)(Ct),Object(i.ac)(c,8),Object(i.ac)(i.n,8))},token:t,providedIn:"root"}),t})();function Ym(t){return t.cloneNode(!0)}function Xm(t,e){return t+":"+e}class Zm{constructor(t){this._elementRef=t}}const Jm=Kh(Zm),tg=new i.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(i.W)(c),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),eg=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ng=eg.map(t=>`[${t}]`).join(", "),ig=/^url\(['"]?#(.*?)['"]?\)$/;let rg=(()=>{class t extends Jm{constructor(t,e,n,i,r){super(t),this._iconRegistry=e,this._location=i,this._errorHandler=r,this._inline=!1,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Nu(t)}get fontSet(){return this._fontSet}set fontSet(t){this._fontSet=this._cleanupFontValue(t)}get fontIcon(){return this._fontIcon}set fontIcon(t){this._fontIcon=this._cleanupFontValue(t)}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnChanges(t){const e=t.svgIcon;if(e)if(this.svgIcon){const[t,e]=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e,t).pipe(Object(_r.a)(1)).subscribe(t=>this._setSvgElement(t),n=>{const i=`Error retrieving icon ${t}:${e}! ${n.message}`;this._errorHandler?this._errorHandler.handleError(new Error(i)):console.error(i)})}else e.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){const e=this._location.getPathname();this._previousPath=e,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(e)}this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(ng),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<e.length;i++)eg.forEach(t=>{const r=e[i],o=r.getAttribute(t),s=o?o.match(ig):null;if(s){let e=n.get(r);e||(e=[],n.set(r,e)),e.push({name:t,value:s[1]})}})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb($m),i.bc("aria-hidden"),i.Qb(tg,8),i.Qb(i.n,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&i.Hb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[i.Ab,i.Bb()],ngContentSelectors:Wm,decls:1,vars:0,template:function(t,e){1&t&&(i.mc(),i.lc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),og=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Gh],Gh]}),t})();const sg=["underline"],ag=["connectionContainer"],cg=["inputContainer"],lg=["label"];function ug(t,e){1&t&&(i.Ub(0),i.Wb(1,"div",14),i.Rb(2,"div",15),i.Rb(3,"div",16),i.Rb(4,"div",17),i.Vb(),i.Wb(5,"div",18),i.Rb(6,"div",15),i.Rb(7,"div",16),i.Rb(8,"div",17),i.Vb(),i.Tb())}function hg(t,e){1&t&&(i.Wb(0,"div",19),i.lc(1,1),i.Vb())}function dg(t,e){if(1&t&&(i.Ub(0),i.lc(1,2),i.Wb(2,"span"),i.Dc(3),i.Vb(),i.Tb()),2&t){const t=i.ic(2);i.Db(3),i.Ec(t._control.placeholder)}}function fg(t,e){1&t&&i.lc(0,3,["*ngSwitchCase","true"])}function pg(t,e){1&t&&(i.Wb(0,"span",23),i.Dc(1," *"),i.Vb())}function mg(t,e){if(1&t){const t=i.Xb();i.Wb(0,"label",20,21),i.ec("cdkObserveContent",(function(e){return i.vc(t),i.ic().updateOutlineGap()})),i.Cc(2,dg,4,1,"ng-container",12),i.Cc(3,fg,1,0,void 0,12),i.Cc(4,pg,2,0,"span",22),i.Vb()}if(2&t){const t=i.ic();i.Hb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),i.nc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),i.Eb("for",t._control.id)("aria-owns",t._control.id),i.Db(2),i.nc("ngSwitchCase",!1),i.Db(1),i.nc("ngSwitchCase",!0),i.Db(1),i.nc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function gg(t,e){1&t&&(i.Wb(0,"div",24),i.lc(1,4),i.Vb())}function yg(t,e){if(1&t&&(i.Wb(0,"div",25,26),i.Rb(2,"span",27),i.Vb()),2&t){const t=i.ic();i.Db(2),i.Hb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function vg(t,e){if(1&t&&(i.Wb(0,"div"),i.lc(1,5),i.Vb()),2&t){const t=i.ic();i.nc("@transitionMessages",t._subscriptAnimationState)}}function _g(t,e){if(1&t&&(i.Wb(0,"div",31),i.Dc(1),i.Vb()),2&t){const t=i.ic(2);i.nc("id",t._hintLabelId),i.Db(1),i.Ec(t.hintLabel)}}function bg(t,e){if(1&t&&(i.Wb(0,"div",28),i.Cc(1,_g,2,2,"div",29),i.lc(2,6),i.Rb(3,"div",30),i.lc(4,7),i.Vb()),2&t){const t=i.ic();i.nc("@transitionMessages",t._subscriptAnimationState),i.Db(1),i.nc("ngIf",t.hintLabel)}}const wg=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Eg=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Cg=0,xg=(()=>{class t{constructor(){this.id=`mat-error-${Cg++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&i.Eb("id",e.id)},inputs:{id:"id"}}),t})();const Sg={transitionMessages:Pt("transitionMessages",[Lt("enter",jt({opacity:1,transform:"translateY(0%)"})),Vt("void => enter",[jt({opacity:0,transform:"translateY(-100%)"}),Rt("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Og=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t}),t})();function Tg(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let kg=0,Ig=(()=>{class t{constructor(){this.align="start",this.id=`mat-hint-${kg++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(i.Eb("id",e.id)("align",null),i.Hb("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),Ag=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["mat-label"]]}),t})(),Ng=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["mat-placeholder"]]}),t})(),Pg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["","matPrefix",""]]}),t})(),Rg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["","matSuffix",""]]}),t})(),Dg=0;class Mg{constructor(t){this._elementRef=t}}const jg=Kh(Mg,"primary"),Lg=new i.r("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Fg=(()=>{class t extends jg{constructor(t,e,n,i,r,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new er.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${Dg++}`,this._labelId=`mat-form-field-label-${Dg++}`,this._labelOptions=n||{},this.floatLabel=this._labelOptions.float||"auto",this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Nu(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._labelOptions.float||"auto",this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Or(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Object(th.a)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Object(th.a)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(Fa.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Or(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Or(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Object(th.a)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&(this._showAlwaysAnimate=!0,ju(this._label.nativeElement,"transitionend").pipe(Object(_r.a)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw Tg("start");t=n}else if("end"===n.align){if(e)throw Tg("end");e=n}})}}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),o=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(r),s=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=s-o-5,n=a>0?.75*a+10:0}for(let s=0;s<r.length;s++)r[s].style.width=`${e}px`;for(let s=0;s<o.length;s++)o[s].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.h),i.Qb(Cd,8),i.Qb(nh,8),i.Qb(Lg,8),i.Qb(Eu),i.Qb(i.A),i.Qb(ti,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var r;1&t&&(i.Jb(n,Og,!0),i.zc(n,Og,!0),i.Jb(n,Ag,!0),i.zc(n,Ag,!0),i.Jb(n,Ng,!0),i.Jb(n,xg,!0),i.Jb(n,Ig,!0),i.Jb(n,Pg,!0),i.Jb(n,Rg,!0)),2&t&&(i.rc(r=i.fc())&&(e._controlNonStatic=r.first),i.rc(r=i.fc())&&(e._controlStatic=r.first),i.rc(r=i.fc())&&(e._labelChildNonStatic=r.first),i.rc(r=i.fc())&&(e._labelChildStatic=r.first),i.rc(r=i.fc())&&(e._placeholderChild=r.first),i.rc(r=i.fc())&&(e._errorChildren=r),i.rc(r=i.fc())&&(e._hintChildren=r),i.rc(r=i.fc())&&(e._prefixChildren=r),i.rc(r=i.fc())&&(e._suffixChildren=r))},viewQuery:function(t,e){var n;1&t&&(i.Hc(sg,!0),i.Ac(ag,!0),i.Hc(cg,!0),i.Hc(lg,!0)),2&t&&(i.rc(n=i.fc())&&(e.underlineRef=n.first),i.rc(n=i.fc())&&(e._connectionContainerRef=n.first),i.rc(n=i.fc())&&(e._inputContainerRef=n.first),i.rc(n=i.fc())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&i.Hb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[i.Ab],ngContentSelectors:Eg,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(i.mc(wg),i.Wb(0,"div",0),i.Wb(1,"div",1,2),i.ec("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),i.Cc(3,ug,9,0,"ng-container",3),i.Cc(4,hg,2,0,"div",4),i.Wb(5,"div",5,6),i.lc(7),i.Wb(8,"span",7),i.Cc(9,mg,5,16,"label",8),i.Vb(),i.Vb(),i.Cc(10,gg,2,0,"div",9),i.Vb(),i.Cc(11,yg,3,4,"div",10),i.Wb(12,"div",11),i.Cc(13,vg,2,1,"div",12),i.Cc(14,bg,5,2,"div",13),i.Vb(),i.Vb()),2&t&&(i.Db(3),i.nc("ngIf","outline"==e.appearance),i.Db(1),i.nc("ngIf",e._prefixChildren.length),i.Db(5),i.nc("ngIf",e._hasFloatingLabel()),i.Db(1),i.nc("ngIf",e._suffixChildren.length),i.Db(1),i.nc("ngIf","outline"!=e.appearance),i.Db(1),i.nc("ngSwitch",e._getDisplayedMessages()),i.Db(1),i.nc("ngSwitchCase","error"),i.Db(1),i.nc("ngSwitchCase","hint"))},directives:[M,V,U,fh],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Sg.transitionMessages]},changeDetection:0}),t})(),Vg=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Q,ph]]}),t})();const Ug=["trigger"],Bg=["panel"];function zg(t,e){if(1&t&&(i.Wb(0,"span",8),i.Dc(1),i.Vb()),2&t){const t=i.ic();i.Db(1),i.Ec(t.placeholder||"\xa0")}}function qg(t,e){if(1&t&&(i.Wb(0,"span"),i.Dc(1),i.Vb()),2&t){const t=i.ic(2);i.Db(1),i.Ec(t.triggerValue||"\xa0")}}function Wg(t,e){1&t&&i.lc(0,0,["*ngSwitchCase","true"])}function Hg(t,e){if(1&t&&(i.Wb(0,"span",9),i.Cc(1,qg,2,1,"span",10),i.Cc(2,Wg,1,0,void 0,11),i.Vb()),2&t){const t=i.ic();i.nc("ngSwitch",!!t.customTrigger),i.Db(2),i.nc("ngSwitchCase",!0)}}function Gg(t,e){if(1&t){const t=i.Xb();i.Wb(0,"div",12),i.Wb(1,"div",13,14),i.ec("@transformPanel.done",(function(e){return i.vc(t),i.ic()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return i.vc(t),i.ic()._handleKeydown(e)})),i.lc(3,1),i.Vb(),i.Vb()}if(2&t){const t=i.ic();i.nc("@transformPanelWrap",void 0),i.Db(1),i.Gb("mat-select-panel ",t._getPanelTheme(),""),i.Bc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),i.nc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing")}}const Qg=[[["mat-select-trigger"]],"*"],Kg=["mat-select-trigger","*"],$g={transformPanelWrap:Pt("transformPanelWrap",[Vt("* => void",Bt("@transformPanel",[Ut()],{optional:!0}))]),transformPanel:Pt("transformPanel",[Lt("void",jt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Lt("showing",jt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Lt("showing-multiple",jt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Vt("void => *",Rt("120ms cubic-bezier(0, 0, 0.2, 1)")),Vt("* => void",Rt("100ms 25ms linear",jt({opacity:0})))])};let Yg=0;const Xg=new i.r("mat-select-scroll-strategy"),Zg={provide:Xg,deps:[pm],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class Jg{constructor(t,e){this.source=t,this.value=e}}class ty{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const ey=$h(Yh(Qh(Xh(ty))));let ny=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["mat-select-trigger"]]}),t})(),iy=(()=>{class t extends ey{constructor(t,e,n,r,o,s,a,c,l,u,h,d,f){super(o,r,a,c,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=l,this.ngControl=u,this._liveAnnouncer=f,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid=`mat-select-${Yg++}`,this._destroy=new er.a,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new er.a,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=tr(()=>{const t=this.options;return t?t.changes.pipe(Or(t),Object(xr.a)(()=>Object(Fa.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(Object(_r.a)(1),Object(xr.a)(()=>this.optionSelectionChanges))}),this.openedChange=new i.o,this._openedStream=this.openedChange.pipe(Object(si.a)(t=>t),Object(ai.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(si.a)(t=>!t),Object(ai.a)(()=>{})),this.selectionChange=new i.o,this.valueChange=new i.o,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Nu(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=Nu(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Nu(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Pu(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new rh(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(Qu.a)(),Object(th.a)(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(Object(th.a)(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Object(th.a)(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Or(null),Object(th.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(Object(_r.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!lh(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;36===e||35===e?(36===e?r.setFirstItemActive():r.setLastItemActive(),t.preventDefault()):r.onKeydown(t);const i=this.selected;i&&n!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(36===n||35===n)t.preventDefault(),36===n?e.setFirstItemActive():e.setLastItemActive();else if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||lh(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(_r.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.setActiveItem(e):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return Object(i.X)()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new wh(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(th.a)(this._destroy)).subscribe(()=>{!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close()}),this._keyManager.change.pipe(Object(th.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(Fa.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(th.a)(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(Fa.a)(...this.options.map(t=>t._stateChanges)).pipe(Object(th.a)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new Jg(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=wd(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=function(t,e,n,i){const r=t*e;return r<n?r:r+e>n+256?Math.max(0,r-256+e):n}(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,i)=>void 0===e?t===n?i:void 0:e,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=wd(r,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(r,o,i),this._offsetY=this._calculateOverlayOffsetY(r,o,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const o=0-(t.left+r-(n?i:0)),s=t.right+r-e.width+(n?0:i);o>0?r+=o+8:s>0&&(r-=s+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,o=Math.floor(256/i);let s;return this._disableOptionCentering?0:(s=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-o))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*s-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,256)-o-this._triggerRect.height;s>r?this._adjustPanelUp(s,r):o>i?this._adjustPanelDown(o,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ah),i.Qb(i.h),i.Qb(i.A),i.Qb(Zh),i.Qb(i.l),i.Qb(nh,8),i.Qb(np,8),i.Qb(dp,8),i.Qb(Fg,8),i.Qb(uf,10),i.bc("tabindex"),i.Qb(Xg),i.Qb(Ah))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var r;1&t&&(i.Jb(n,ny,!0),i.Jb(n,bd,!0),i.Jb(n,md,!0)),2&t&&(i.rc(r=i.fc())&&(e.customTrigger=r.first),i.rc(r=i.fc())&&(e.options=r),i.rc(r=i.fc())&&(e.optionGroups=r))},viewQuery:function(t,e){var n;1&t&&(i.Hc(Ug,!0),i.Hc(Bg,!0),i.Hc(vm,!0)),2&t&&(i.rc(n=i.fc())&&(e.trigger=n.first),i.rc(n=i.fc())&&(e.panel=n.first),i.rc(n=i.fc())&&(e.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(t,e){1&t&&i.ec("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(t){return e._onFocus()}))("blur",(function(t){return e._onBlur()})),2&t&&(i.Eb("id",e.id)("tabindex",e.tabIndex)("aria-label",e._getAriaLabel())("aria-labelledby",e._getAriaLabelledby())("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-owns",e.panelOpen?e._optionIds:null)("aria-multiselectable",e.multiple)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),i.Hb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[i.Cb([{provide:Og,useExisting:t},{provide:_d,useExisting:t}]),i.Ab,i.Bb()],ngContentSelectors:Kg,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(i.mc(Qg),i.Wb(0,"div",0,1),i.ec("click",(function(t){return e.toggle()})),i.Wb(3,"div",2),i.Cc(4,zg,2,1,"span",3),i.Cc(5,Hg,3,2,"span",4),i.Vb(),i.Wb(6,"div",5),i.Rb(7,"div",6),i.Vb(),i.Vb(),i.Cc(8,Gg,4,10,"ng-template",7),i.ec("backdropClick",(function(t){return e.close()}))("attach",(function(t){return e._onAttached()}))("detach",(function(t){return e.close()}))),2&t){const t=i.sc(1);i.Db(3),i.nc("ngSwitch",e.empty),i.Db(1),i.nc("ngSwitchCase",!0),i.Db(1),i.nc("ngSwitchCase",!1),i.Db(3),i.nc("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[ym,V,U,vm,B,N],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[$g.transformPanelWrap,$g.transformPanel]},changeDetection:0}),t})(),ry=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[Zg],imports:[[Q,bm,Ed,Gh],Vg,Ed,Gh]}),t})();var oy=n("3mST");const sy=new Set;let ay,cy=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ly}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!sy.has(t))try{ay||(ay=document.createElement("style"),ay.setAttribute("type","text/css"),document.head.appendChild(ay)),ay.sheet&&(ay.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),sy.add(t))}catch(vN){console.error(vN)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Eu))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(Eu))},token:t,providedIn:"root"}),t})();function ly(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let uy=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new er.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return hy(Ru(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Yi(hy(Ru(t)).map(t=>this._registerQuery(t).observable));return e=Sr(e.pipe(Object(_r.a)(1)),e.pipe(Object(oy.a)(1),Object(uh.a)(0))),e.pipe(Object(ai.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new ri.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Or(e),Object(ai.a)(e=>({query:t,matches:e.matches})),Object(th.a)(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(i.ac(cy),i.ac(i.A))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(cy),Object(i.ac)(i.A))},token:t,providedIn:"root"}),t})();function hy(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const dy={tooltipState:Pt("state",[Lt("initial, void, hidden",jt({opacity:0,transform:"scale(0)"})),Lt("visible",jt({transform:"scale(1)"})),Vt("* => visible",Rt("200ms cubic-bezier(0, 0, 0.2, 1)",Ft([jt({opacity:0,transform:"scale(0)",offset:0}),jt({opacity:.5,transform:"scale(0.99)",offset:.5}),jt({opacity:1,transform:"scale(1)",offset:1})]))),Vt("* => hidden",Rt("100ms cubic-bezier(0, 0, 0.2, 1)",jt({opacity:0})))])},fy=Tu({passive:!0});function py(t){return Error(`Tooltip position "${t}" is invalid.`)}const my=new i.r("mat-tooltip-scroll-strategy"),gy={provide:my,deps:[pm],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},yy=new i.r("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let vy=(()=>{class t{constructor(t,e,n,i,r,o,s,a,c,l,u,h){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._platform=o,this._ariaDescriber=s,this._focusMonitor=a,this._dir=l,this._defaultOptions=u,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new er.a,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!lh(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,u&&(u.position&&(this.position=u.position),u.touchGestures&&(this.touchGestures=u.touchGestures)),a.monitor(e).pipe(Object(th.a)(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&r.run(()=>this.show()):r.run(()=>this.hide(0))}),r.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Nu(t),this._disabled&&this.hide(0)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?`${t}`.trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngOnInit(){this._setupPointerEvents()}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach((e,n)=>{t.removeEventListener(n,e,fy)}),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new Lp(_y,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Object(th.a)(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(Object(th.a)(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Object(th.a)(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e||"below"==e)n={originX:"center",originY:"above"==e?"top":"bottom"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={originX:"start",originY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw py(e);n={originX:"end",originY:"center"}}const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;if("above"==e)n={overlayX:"center",overlayY:"bottom"};else if("below"==e)n={overlayX:"center",overlayY:"top"};else if("before"==e||"left"==e&&t||"right"==e&&!t)n={overlayX:"end",overlayY:"center"};else{if(!("after"==e||"right"==e&&t||"left"==e&&!t))throw py(e);n={overlayX:"start",overlayY:"center"}}const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(_r.a)(1),Object(th.a)(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEvents(){if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",t).set("touchcancel",t).set("touchstart",()=>{clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)})}}else this._passiveListeners.set("mouseenter",()=>this.show()).set("mouseleave",()=>this.hide());this._passiveListeners.forEach((t,e)=>{this._elementRef.nativeElement.addEventListener(e,t,fy)})}_disableNativeGesturesIfNecessary(){const t=this._elementRef.nativeElement,e=t.style,n=this.touchGestures;"off"!==n&&(("on"===n||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(e.userSelect=e.msUserSelect=e.webkitUserSelect=e.MozUserSelect="none"),"on"!==n&&t.draggable||(e.webkitUserDrag="none"),e.touchAction="none",e.webkitTapHighlightColor="transparent")}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(pm),i.Qb(i.l),i.Qb(oh),i.Qb(i.Q),i.Qb(i.A),i.Qb(Eu),i.Qb(_h),i.Qb(Ph),i.Qb(my),i.Qb(nh,8),i.Qb(yy,8),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),_y=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new er.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.h),i.Qb(uy))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&i.ec("click",(function(t){return e._handleBodyInteraction()}),!1,i.tc),2&t&&i.Bc("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(i.Wb(0,"div",0),i.ec("@state.start",(function(t){return e._animationStart()}))("@state.done",(function(t){return e._animationDone(t)})),i.jc(1,"async"),i.Dc(2),i.Vb()),2&t){var n;const t=null==(n=i.kc(1,5,e._isHandset))?null:n.matches;i.Hb("mat-tooltip-handset",t),i.nc("ngClass",e.tooltipClass)("@state",e._visibility),i.Db(2),i.Ec(e.message)}},directives:[N],pipes:[G],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[dy.tooltipState]},changeDetection:0}),t})(),by=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[gy],imports:[[Mh,Q,bm,Gh],Gh]}),t})();const wy=["mat-button",""],Ey=["*"],Cy=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class xy{constructor(t){this._elementRef=t}}const Sy=Kh(Qh($h(xy)));let Oy=(()=>{class t extends Sy{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of Cy)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color="accent")}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(Ph),i.Qb(ti,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&i.Hc(cd,!0),2&t&&i.rc(n=i.fc())&&(e.ripple=n.first)},hostVars:3,hostBindings:function(t,e){2&t&&(i.Eb("disabled",e.disabled||null),i.Hb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[i.Ab],attrs:wy,ngContentSelectors:Ey,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(i.mc(),i.Wb(0,"span",0),i.lc(1),i.Vb(),i.Rb(2,"div",1),i.Rb(3,"div",2)),2&t&&(i.Db(2),i.Hb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),i.nc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[cd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),Ty=(()=>{class t extends Oy{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Ph),i.Qb(i.l),i.Qb(ti,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostVars:5,hostBindings:function(t,e){1&t&&i.ec("click",(function(t){return e._haltDisabledEvents(t)})),2&t&&(i.Eb("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),i.Hb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[i.Ab],attrs:wy,ngContentSelectors:Ey,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(i.mc(),i.Wb(0,"span",0),i.lc(1),i.Vb(),i.Rb(2,"div",1),i.Rb(3,"div",2)),2&t&&(i.Db(2),i.Hb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),i.nc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[cd],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),ky=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Q,ld,Gh],Gh]}),t})();function Iy(t,e){if(1&t){const t=i.Xb();i.Wb(0,"div",1),i.Wb(1,"button",2),i.ec("click",(function(e){return i.vc(t),i.ic().action()})),i.Dc(2),i.Vb(),i.Vb()}if(2&t){const t=i.ic();i.Db(2),i.Ec(t.data.action)}}function Ay(t,e){}const Ny=Math.pow(2,31)-1;class Py{constructor(t,e){this._overlayRef=e,this._afterDismissed=new er.a,this._afterOpened=new er.a,this._onAction=new er.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Ny))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const Ry=new i.r("MatSnackBarData");class Dy{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let My=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Py),i.Qb(Ry))},t.\u0275cmp=i.Kb({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(i.Wb(0,"span"),i.Dc(1),i.Vb(),i.Cc(2,Iy,3,1,"div",0)),2&t&&(i.Db(1),i.Ec(e.data.message),i.Db(1),i.nc("ngIf",e.hasAction))},directives:[M,Oy],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const jy={snackBarState:Pt("state",[Lt("void, hidden",jt({transform:"scale(0.8)",opacity:0})),Lt("visible",jt({transform:"scale(1)",opacity:1})),Vt("* => visible",Rt("150ms cubic-bezier(0, 0, 0.2, 1)")),Vt("* => void, * => hidden",Rt("75ms cubic-bezier(0.4, 0.0, 1, 1)",jt({opacity:0})))])};let Ly=(()=>{class t extends Up{constructor(t,e,n,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=i,this._destroyed=!1,this._onExit=new er.a,this._onEnter=new er.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._role="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(Object(_r.a)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.A),i.Qb(i.l),i.Qb(i.h),i.Qb(Dy))},t.\u0275cmp=i.Kb({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&i.Ac(zp,!0),2&t&&i.rc(n=i.fc())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(t,e){1&t&&i.Ib("@state.done",(function(t){return e.onAnimationEnd(t)})),2&t&&(i.Eb("role",e._role),i.Gc("@state",e._animationState))},features:[i.Ab],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&i.Cc(0,Ay,0,0,"ng-template",0)},directives:[zp],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[jy.snackBarState]}}),t})(),Fy=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[bm,qp,Q,ky,Gh],Gh]}),t})();const Vy=new i.r("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Dy}});let Uy=(()=>{class t{constructor(t,e,n,i,r,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=i,this._parentSnackBar=r,this._defaultConfig=o,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage||(i.announcementMessage=t),this.openFromComponent(My,i)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=new Wp(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[Dy,e]])),i=new Lp(Ly,e.viewContainerRef,n),r=t.attach(i);return r.instance.snackBarConfig=e,r.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new Dy),this._defaultConfig),e),r=this._createOverlay(n),o=this._attachSnackBarContainer(r,n),s=new Py(o,r);if(t instanceof i.M){const e=new Fp(t,null,{$implicit:n.data,snackBarRef:s});s.instance=o.attachTemplatePortal(e)}else{const e=this._createInjector(n,s),i=new Lp(t,void 0,e),r=o.attachComponentPortal(i);s.instance=r.instance}return this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait)").pipe(Object(th.a)(r.detachments())).subscribe(t=>{const e=r.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new Jp;e.direction=t.direction;let n=this._overlay.position().global();const i="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,o=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return new Wp(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[Py,e],[Ry,t.data]]))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(pm),i.ac(Ah),i.ac(i.s),i.ac(uy),i.ac(t,12),i.ac(Vy))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(pm),Object(i.ac)(Ah),Object(i.ac)(i.p),Object(i.ac)(uy),Object(i.ac)(t,12),Object(i.ac)(Vy))},token:t,providedIn:Fy}),t})(),By=(()=>{class t{constructor(){}static loadInitialState(){return Object.keys(localStorage).reduce((t,e)=>{if(e.includes("ANMS-")){const n=e.replace("ANMS-","").toLowerCase().split(".").map(t=>t.split("-").map((t,e)=>0===e?t:t.charAt(0).toUpperCase()+t.slice(1)).join(""));let i=t;n.forEach((t,r)=>{r!==n.length-1?(i[t]=i[t]||{},i=i[t]):i[t]=JSON.parse(localStorage.getItem(e))})}return t},{})}setItem(t,e){localStorage.setItem(`ANMS-${t}`,JSON.stringify(e))}getItem(t){return JSON.parse(localStorage.getItem(`ANMS-${t}`))}removeItem(t){localStorage.removeItem(`ANMS-${t}`)}testLocalStorage(){let t;if(this.setItem("testKey","testValue"),t=this.getItem("testKey"),this.removeItem("testKey"),"testValue"!==t)throw new Error("localStorage did not return expected value")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var zy=function(t){return t.LOGIN="[Auth] Login",t.LOGIN_TRY="[Auth] Login try",t.LOGOUT="[Auth] Logout",t}({});class qy{constructor(){this.type=zy.LOGIN}}class Wy{constructor(){this.type=zy.LOGOUT}}class Hy{constructor(){this.type=zy.LOGIN_TRY}}const Gy={isAuthenticated:!1},Qy=Object(Ui.n)("[Settings] Change Language",Object(Ui.s)()),Ky=Object(Ui.n)("[Settings] Change Theme",Object(Ui.s)()),$y=Object(Ui.n)("[Settings] Change Auto Night Mode",Object(Ui.s)()),Yy=Object(Ui.n)("[Settings] Change Sticky Header",Object(Ui.s)()),Xy=Object(Ui.n)("[Settings] Change Animations Page",Object(Ui.s)()),Zy=Object(Ui.n)("[Settings] Change Animations Page Disabled",Object(Ui.s)()),Jy=Object(Ui.n)("[Settings] Change Animations Elements",Object(Ui.s)()),tv=Object(Ui.n)("[Settings] Change Hours",Object(Ui.s)()),ev=Object(Ui.p)({language:"en",theme:"DEFAULT-THEME",autoNightMode:!1,nightTheme:"BLACK-THEME",stickyHeader:!0,pageAnimations:!0,pageAnimationsDisabled:!1,elementsAnimations:!0,hour:0},Object(Ui.r)(Qy,Ky,$y,Yy,Xy,Jy,tv,(t,e)=>Object.assign(Object.assign({},t),e)),Object(Ui.r)(Zy,(t,{pageAnimationsDisabled:e})=>Object.assign(Object.assign({},t),{pageAnimationsDisabled:e,pageAnimations:!1}))),nv={auth:function(t=Gy,e){switch(e.type){case zy.LOGIN:return Object.assign(Object.assign({},t),{isAuthenticated:!0});case zy.LOGOUT:return Object.assign(Object.assign({},t),{isAuthenticated:!1});default:return t}},settings:function(t,e){return ev(t,e)},router:function(t,e){const n=e;switch(n.type){case"@ngrx/router-store/navigation":case"@ngrx/router-store/error":case"@ngrx/router-store/cancel":return{state:n.payload.routerState,navigationId:n.payload.event.id};default:return t}}},iv=[function(t){return function(e,n){const i=t(e,n);return[Ui.b.toString(),Ui.l.toString()].includes(n.type)?Object.assign(Object.assign({},i),By.loadInitialState()):i}}];o.production||o.test||iv.unshift((function(t){return function(e,n){const i=t(e,n);return console.log(`[DEBUG] action: ${n.type}`,{payload:n.payload,oldState:e,newState:i}),i}}));const rv=Object(Ui.o)("auth"),ov=Object(Ui.o)("settings"),sv=Object(Ui.o)("router");var av=n("vEql");n("6AkR");class cv{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new lv(t,this.predicate))}}class lv extends rr.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var uv=n("kSHZ");class hv extends ri.a{constructor(t,e=0,n=Gu){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Xu(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=Gu)}static create(t,e=0,n=Gu){return new hv(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(hv.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class dv{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new hv(e,this.delay,this.scheduler).subscribe(t)}}var fv=n("A2S1");function pv(){}class mv{constructor(t,e=uv.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const i=this.zone;return this.delegate.schedule((function(e){i.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class gv{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pv,{},pv,pv)),e.pipe(Nr(n,n,n)).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class yv{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new mv(Zone.current)),this.insideAngular=t.run(()=>new mv(Zone.current,Ku.a))}}function vv(t,e){return function(e){return(e=e.lift(new gv(t.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new dv(t,e))}}(t.outsideAngular),Object(fv.b)(t.insideAngular))}}const _v=["ngOnDestroy"],bv=new i.r("angularfire2.app.options"),wv=new i.r("angularfire2.app.nameOrConfig"),Ev=new i.P("6.0.0");function Cv(t,e,n){const i="object"==typeof n&&n||{};return i.name=i.name||"string"==typeof n&&n||"[DEFAULT]",av.apps.filter(t=>t&&t.name===i.name)[0]||e.runOutsideAngular(()=>Object(av.initializeApp)(t,i))}const xv={provide:class{},useFactory:Cv,deps:[bv,i.A,[new i.B,wv]]};let Sv=(()=>{class t{constructor(t){Object(av.registerVersion)("angularfire",Ev.full,t.toString()),Object(av.registerVersion)("angular",i.O.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:bv,useValue:e},{provide:wv,useValue:n}]}}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(i.C))},providers:[xv]}),t})();function Ov(t){return null==t}function Tv(t){return"function"==typeof t.set}function kv(t,e){return Tv(e)?e:t.ref(e)}function Iv(t,e){if("string"==typeof t)return e.stringCase();if(Tv(t))return e.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function Av(t,e,n="on",i=Ku.a){return new ri.a(r=>{let o=null;return o=t[n](e,(t,e)=>{i.schedule(()=>{r.next({snapshot:t,prevKey:e})}),"once"==n&&i.schedule(()=>r.complete())},t=>{i.schedule(()=>r.error(t))}),"on"==n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(Object(ai.a)(t=>{const{snapshot:n,prevKey:i}=t;let r=null;return n.exists()&&(r=n.key),{type:e,payload:n,prevKey:i,key:r}}),Object(zm.a)())}function Nv(t,e){const n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function Pv(t,e){const{payload:n,prevKey:i,key:r}=e,o=Nv(t,r),s=function(t,e){if(Ov(e))return 0;{const n=Nv(t,e);return-1===n?t.length:n+1}}(t,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const i={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,i],!1})}return t;case"child_added":if(o>-1){const r=t[o-1];(r&&r.key||null)!=i&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==i)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===r?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function Rv(t){return(Ov(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function Dv(t,e,n){return function(t,e,n){return Av(t,"value","once",n).pipe(Object(xr.a)(i=>{const r=[Object(ii.a)(i)];return e.forEach(e=>r.push(Av(t,e,"on",n))),Object(Fa.a)(...r).pipe(Object(Tr.a)(Pv,[]))}),Object(Qu.a)())}(t,e=Rv(e),n)}function Mv(t,e,n){const i=(e=Rv(e)).map(e=>Av(t,e,"on",n));return Object(Fa.a)(...i)}function jv(t,e){return function(n,i){return Iv(n,{stringCase:()=>t.child(n)[e](i),firebaseCase:()=>n[e](i),snapshotCase:()=>n.ref[e](i)})}}function Lv(t,e){return function(){return Av(t,"value","on",e)}}n("Ua55");const Fv=new i.r("angularfire2.realtimeDatabaseURL");let Vv=(()=>{class t{constructor(t,e,n,i,r){this.schedulers=new yv(r),this.keepUnstableUntilFirst=vv(this.schedulers),this.database=r.runOutsideAngular(()=>Cv(t,r,e).database(n||void 0))}list(t,e){const n=kv(this.database,t);let i=n;return e&&(i=e(n)),function(t,e){const n=e.schedulers.outsideAngular;return{query:t,update:jv(t.ref,"update"),set:jv(t.ref,"set"),push:e=>t.ref.push(e),remove:(i=t.ref,function(t){return t?Iv(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:i=>Dv(t,i,n).pipe(e.keepUnstableUntilFirst),stateChanges:i=>Mv(t,i,n).pipe(e.keepUnstableUntilFirst),auditTrail:i=>function(t,e,n){return function(t,e,n){return function(t,e){return Av(t,"value","on",e).pipe(Object(ai.a)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(Object(ka.a)(e),Object(ai.a)(([t,e])=>{let n=t.lastKeyToLoad;const i=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:i}}),(i=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new cv(i))),Object(ai.a)(t=>t.actions));var i}(t,Mv(t,e).pipe(Object(Tr.a)((t,e)=>[...t,e],[])),n)}(t,i,n).pipe(e.keepUnstableUntilFirst),valueChanges:i=>Dv(t,i,n).pipe(Object(ai.a)(t=>t.map(t=>t.payload.val())),e.keepUnstableUntilFirst)};var i}(i,this)}object(t){const e=kv(this.database,t);return i=this,{query:n=e,snapshotChanges:()=>Lv(n,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>Lv(n,i.schedulers.outsideAngular)().pipe(i.keepUnstableUntilFirst,Object(ai.a)(t=>t.payload.exists()?t.payload.val():null))};var n,i}createPushId(){return this.database.ref().push().key}}return t.\u0275fac=function(e){return new(e||t)(i.ac(bv),i.ac(wv,8),i.ac(Fv,8),i.ac(i.C),i.ac(i.A))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(bv),Object(i.ac)(wv,8),Object(i.ac)(Fv,8),Object(i.ac)(i.C),Object(i.ac)(i.A))},token:t,providedIn:"any"}),t})(),Uv=(()=>{class t{constructor(t,e,i,r){const o=new yv(r),s=vv(o),a=Object(ii.a)(void 0).pipe(Object(fv.b)(o.outsideAngular),Object(xr.a)(()=>r.runOutsideAngular(()=>Promise.resolve().then(n.bind(null,"6AkR")))),Object(ai.a)(()=>Cv(t,r,e)),Object(ai.a)(t=>t.auth()),Pc({bufferSize:1,refCount:!1}));return this.authState=a.pipe(Object(fv.b)(o.outsideAngular),Object(xr.a)(t=>new ri.a(t.onAuthStateChanged.bind(t))),s),this.user=a.pipe(Object(fv.b)(o.outsideAngular),Object(xr.a)(t=>new ri.a(t.onIdTokenChanged.bind(t))),s),this.idToken=this.user.pipe(Object(xr.a)(t=>t?Object(Bi.a)(t.getIdToken()):Object(ii.a)(null))),this.idTokenResult=this.user.pipe(Object(xr.a)(t=>t?Object(Bi.a)(t.getIdTokenResult()):Object(ii.a)(null))),((t,e,n)=>new Proxy(t,{get:(i,r)=>n.runOutsideAngular(()=>{if(t[r])return t[r];if(_v.includes(r))return()=>{};let i=e.toPromise().then(t=>{const e=t&&t[r];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>i[e],apply:(t,e,n)=>i.then(t=>t&&t(...n))})})}))(this,a,r)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(bv),i.ac(wv,8),i.ac(i.C),i.ac(i.A))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(bv),Object(i.ac)(wv,8),Object(i.ac)(i.C),Object(i.ac)(i.A))},token:t,providedIn:"any"}),t})(),Bv=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[Uv]}),t})();var zv=n("plFh"),qv=n.n(zv),Wv=n("AmJI");function Hv(t,e){return function(t,e=Ku.a){return new ri.a(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot(n)}):i=t.onSnapshot(n),function(){null!=i&&i()}})}(t,e)}function Gv(t,e){return Hv(t,e).pipe(Object(ai.a)(t=>({payload:t,type:"query"})))}function Qv(t,e){return Gv(t,e).pipe(Object(ai.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Kv(t,e,n){return Gv(t,n).pipe(Object(ai.a)(t=>t.payload.docChanges()),Object(Tr.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),Object(ai.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function $v(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Yv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?Qv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ai.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(si.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Qv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Tr.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=$v(t);return Kv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Gv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ai.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Bi.a)(this.query.get(t)).pipe(Object(fv.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Xv(this.ref.doc(t),this.afs)}}class Xv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:i,query:r}=n_(n,e);return new Yv(i,r,this.afs)}snapshotChanges(){return Hv(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(ai.a)(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(Object(ai.a)(t=>t.payload.data()))}get(t){return Object(Bi.a)(this.ref.get(t)).pipe(Object(fv.b)(this.afs.schedulers.insideAngular))}}class Zv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Qv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ai.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(si.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):Qv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(Tr.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=$v(t);return Kv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return Gv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ai.a)(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Bi.a)(this.query.get(t)).pipe(Object(fv.b)(this.afs.schedulers.insideAngular))}}const Jv=new i.r("angularfire2.enableFirestorePersistence"),t_=new i.r("angularfire2.firestore.persistenceSettings"),e_=new i.r("angularfire2.firestore.settings");function n_(t,e=(t=>t)){return{query:e(t),ref:t}}let i_=(()=>{class t{constructor(t,e,n,i,r,o,s){this.schedulers=new yv(o),this.keepUnstableUntilFirst=vv(this.schedulers),this.firestore=o.runOutsideAngular(()=>{const n=Cv(t,o,e);Wv.registerFirestore&&Object(Wv.registerFirestore)(qv.a);const r=n.firestore();return i&&r.settings(i),r}),this.persistenceEnabled$=n&&!$(r)?o.runOutsideAngular(()=>{try{return Object(Bi.a)(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(vN){return Object(ii.a)(!1)}}):Object(ii.a)(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:i,query:r}=n_(n,e);return new Yv(i,r,this)}collectionGroup(t,e){const n=e||(t=>t),i=this.firestore.collectionGroup(t);return new Zv(n(i),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new Xv(e,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(i.ac(bv),i.ac(wv,8),i.ac(Jv,8),i.ac(e_,8),i.ac(i.C),i.ac(i.A),i.ac(t_,8))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(bv),Object(i.ac)(wv,8),Object(i.ac)(Jv,8),Object(i.ac)(e_,8),Object(i.ac)(i.C),Object(i.ac)(i.A),Object(i.ac)(t_,8))},token:t,providedIn:"any"}),t})(),r_=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Jv,useValue:!0},{provide:t_,useValue:e}]}}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[i_]}),t})(),o_=(()=>{class t{constructor(t,e,n,i,r,o){this.storageService=t,this.store=e,this.router=n,this.db=i,this.afAuth=r,this.afs=o,this.oAuthLogin=t=>function(t,e,n,i){return new(n||(n=Promise))((function(e,r){function o(t){try{a(i.next(t))}catch(vN){r(vN)}}function s(t){try{a(i.throw(t))}catch(vN){r(vN)}}function a(t){t.done?e(t.value):new n((function(e){e(t.value)})).then(o,s)}a((i=i.apply(t,[])).next())}))}(this,0,void 0,(function*(){const e=yield this.afAuth.signInWithPopup(t);e&&(console.log("displayName"),console.log(e.user.displayName),console.log("credential.user.displayName"),console.log(e.user.uid),console.log("credential"),console.log(e),this.updateUserData({uid:e.user.uid,email:e.additionalUserInfo.profile.email,displayName:e.user.displayName,photoURL:""}),this.setUserData(e.additionalUserInfo.profile.email,e.user.displayName,"online",e.user.uid),this.authState=e,this.storageService.setItem(s_,{isAuthenticated:!0}),this.store.dispatch(new qy))})),this.user$=r.authState,this.logedIn=!!this.user$}logout(){this.afAuth.currentUser.then(t=>{let e=t.uid;console.log(t),this.setStatus(e,"offline"),this.authState=null,this.afAuth.signOut().then(()=>this.router.navigate(["/"]))})}setStatus(t,e){const n={status:e};this.db.object("users/"+t).update(n)}googleSignIn(){const t=(new av.auth.GoogleAuthProvider).addScope("email");this.oAuthLogin(t)}updateUserData({uid:t,email:e,displayName:n,photoURL:i}){return this.afs.doc(`users/${t}`).set({uid:t,email:e,displayName:n,photoURL:i},{merge:!0})}setUserData(t,e,n,i){const r={status:n};this.db.object(`users/${i}`).update(r)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(By),i.ac(Ui.h),i.ac(ta),i.ac(Vv),i.ac(Uv),i.ac(i_))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const s_="AUTH";let a_=(()=>{class t{constructor(t,e,n,i){this.googleAuth=t,this.actions$=e,this.localStorageService=n,this.router=i,this.logout=nc(()=>this.actions$.pipe(hc(zy.LOGOUT),Nr(()=>{this.router.navigate([""]),this.googleAuth.logout(),this.localStorageService.setItem(s_,{isAuthenticated:!1})})),{dispatch:!1}),this.login=nc(()=>this.actions$.pipe(hc(zy.LOGIN_TRY),Nr(()=>{this.googleAuth.googleSignIn()})),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(o_),i.ac(uc),i.ac(By),i.ac(ta))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();Object(Ui.q)(rv,t=>t);const c_=Object(Ui.q)(rv,t=>t.isAuthenticated);let l_=(()=>{class t{constructor(t,e){this.translateService=t,this.title=e}setTitle(t,e){let n=t;for(;n.children.length;)n=n.children[0];const{title:i}=n.data;i?(e||this.translateService).get(i).pipe(Object(si.a)(t=>t!==i)).subscribe(t=>this.title.setTitle(`${t} - ${o.appName}`)):this.title.setTitle(o.appName)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Xc),i.ac(At))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),u_=(()=>{class t{constructor(){t.routeAnimationType="NONE"}static isRouteAnimationsType(e){return t.routeAnimationType===e}updateRouteAnimationType(e,n){t.routeAnimationType=e&&n?"ALL":e?"PAGE":n?"ELEMENTS":"NONE"}}return t.routeAnimationType="NONE",t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const h_=[Bt(":enter > *",jt({opacity:0,position:"fixed"}),{optional:!0}),Bt(":enter .route-animations-elements",jt({opacity:0}),{optional:!0}),Mt([Bt(":leave > *",[jt({transform:"translateY(0%)",opacity:1}),Rt("0.2s ease-in-out",jt({transform:"translateY(-3%)",opacity:0})),jt({position:"fixed"})],{optional:!0}),Bt(":enter > *",[jt({transform:"translateY(-3%)",opacity:0,position:"static"}),Rt("0.5s ease-in-out",jt({transform:"translateY(0%)",opacity:1}))],{optional:!0})]),Bt(":enter .route-animations-elements",(d_=[jt({transform:"translateY(10%)",opacity:0}),Rt("0.5s ease-in-out",jt({transform:"translateY(0%)",opacity:1}))],{type:12,timings:75,animation:d_}),{optional:!0})];var d_;const f_=[h_[0],h_[2]],p_=[h_[1],h_[3]],m_=Pt("routeAnimations",[Vt((function(){return u_.isRouteAnimationsType("ALL")}),h_),Vt((function(){return u_.isRouteAnimationsType("NONE")}),[]),Vt((function(){return u_.isRouteAnimationsType("PAGE")}),f_),Vt((function(){return u_.isRouteAnimationsType("ELEMENTS")}),p_)]);let g_=(()=>{class t{constructor(t,e){this.snackBar=t,this.zone=e}default(t){this.show(t,{duration:2e3,panelClass:"default-notification-overlay"})}info(t){this.show(t,{duration:2e3,panelClass:"info-notification-overlay"})}success(t){this.show(t,{duration:2e3,panelClass:"success-notification-overlay"})}warn(t){this.show(t,{duration:2500,panelClass:"warning-notification-overlay"})}error(t){this.show(t,{duration:3e3,panelClass:"error-notification-overlay"})}show(t,e){this.zone.run(()=>this.snackBar.open(t,null,e))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Uy),i.ac(i.A))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),y_=(()=>{class t extends i.n{constructor(t){super(),this.notificationsService=t}handleError(t){let e="An error occurred.";o.production||(e+=" See console for details."),this.notificationsService.error(e),super.handleError(t)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(g_))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),v_=(()=>{class t{serialize(t){let e=t.root;for(;e.firstChild;)e=e.firstChild;const{url:n,root:{queryParams:i}}=t,{params:r}=e;return{url:n,params:r,queryParams:i}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),__=(()=>{class t{constructor(t){this.injector=t}intercept(t,e){return e.handle(t).pipe(Nr({error:t=>{t instanceof Ei&&this.injector.get(i.n).handleError(t)}}))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.s))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),b_=(()=>{class t{constructor(t){this.router=t,this.pageView=nc(()=>()=>this.router.events.pipe(Object(si.a)(t=>t instanceof Ur),Nr(t=>{window.ga("set","page",t.urlAfterRedirects),window.ga("send","pageview")})),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(ta))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const w_=Object(Ui.q)(ov,t=>t),E_=Object(Ui.q)(w_,t=>t.stickyHeader),C_=Object(Ui.q)(w_,t=>t.language),x_=Object(Ui.q)(w_,t=>t.theme),S_=Object(Ui.q)(w_,t=>t.pageAnimations),O_=Object(Ui.q)(w_,t=>t.elementsAnimations),T_=Object(Ui.q)(w_,t=>t.autoNightMode),k_=Object(Ui.q)(w_,t=>t.nightTheme),I_=Object(Ui.q)(w_,t=>t.hour),A_=Object(Ui.q)(T_,I_,(t,e)=>t&&(e>=21||e<=7)),N_=Object(Ui.q)(x_,k_,A_,(t,e,n)=>(n?e:t).toLowerCase()),P_=Object(ii.a)("anms-init-effect-trigger");let R_=(()=>{class t{constructor(t,e,n,i,r,o,s,a,c){this.actions$=t,this.store=e,this.router=n,this.overlayContainer=i,this.localStorageService=r,this.titleService=o,this.animationsService=s,this.translateService=a,this.ngZone=c,this.hour=0,this.changeHour=this.ngZone.runOutsideAngular(()=>setInterval(()=>{const t=(new Date).getHours();t!==this.hour&&(this.hour=t,this.ngZone.run(()=>this.store.dispatch(tv({hour:t}))))},6e4)),this.persistSettings=nc(()=>this.actions$.pipe(hc(Jy,Xy,Zy,$y,Qy,Yy,Ky),Object(ka.a)(this.store.pipe(Object(Ui.t)(ov))),Nr(([t,e])=>this.localStorageService.setItem("SETTINGS",e))),{dispatch:!1}),this.updateRouteAnimationType=nc(()=>Object(Fa.a)(P_,this.actions$.pipe(hc(Jy,Xy))).pipe(Object(ka.a)(Yi([this.store.pipe(Object(Ui.t)(S_)),this.store.pipe(Object(Ui.t)(O_))])),Nr(([t,[e,n]])=>this.animationsService.updateRouteAnimationType(e,n))),{dispatch:!1}),this.updateTheme=nc(()=>Object(Fa.a)(P_,this.actions$.pipe(hc(Ky))).pipe(Object(ka.a)(this.store.pipe(Object(Ui.t)(N_))),Nr(([t,e])=>{const n=this.overlayContainer.getContainerElement().classList,i=Array.from(n).filter(t=>t.includes("-theme"));i.length&&n.remove(...i),n.add(e)})),{dispatch:!1}),this.setTranslateServiceLanguage=nc(()=>this.store.pipe(Object(Ui.t)(C_),Object(Qu.a)(),Nr(t=>this.translateService.use(t))),{dispatch:!1}),this.setTitle=nc(()=>Object(Fa.a)(this.actions$.pipe(hc(Qy)),this.router.events.pipe(Object(si.a)(t=>t instanceof Jr))).pipe(Nr(()=>{this.titleService.setTitle(this.router.routerState.snapshot.root,this.translateService)})),{dispatch:!1})}}return t.\u0275fac=function(e){return new(e||t)(i.ac(uc),i.ac(Ui.h),i.ac(ta),i.ac(sm),i.ac(By),i.ac(l_),i.ac(u_),i.ac(Xc),i.ac(i.A))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();var D_={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},M_={prefix:"fas",iconName:"cog",icon:[512,512,[],"f013","M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"]},j_={prefix:"fas",iconName:"play-circle",icon:[512,512,[],"f144","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"]},L_={prefix:"fas",iconName:"power-off",icon:[512,512,[],"f011","M400 54.1c63 45 104 118.6 104 201.9 0 136.8-110.8 247.7-247.5 248C120 504.3 8.2 393 8 256.4 7.9 173.1 48.9 99.3 111.8 54.2c11.7-8.3 28-4.8 35 7.7L162.6 90c5.9 10.5 3.1 23.8-6.6 31-41.5 30.8-68 79.6-68 134.9-.1 92.3 74.5 168.1 168 168.1 91.6 0 168.6-74.2 168-169.1-.3-51.8-24.7-101.8-68.1-134-9.7-7.2-12.4-20.5-6.5-30.9l15.8-28.1c7-12.4 23.2-16.1 34.8-7.8zM296 264V24c0-13.3-10.7-24-24-24h-32c-13.3 0-24 10.7-24 24v240c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24z"]},F_={prefix:"fas",iconName:"rocket",icon:[512,512,[],"f135","M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"]},V_={prefix:"fas",iconName:"user-circle",icon:[496,512,[],"f2bd","M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"]},U_={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},B_={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},z_={prefix:"fab",iconName:"medium-m",icon:[512,512,[],"f3c7","M71.5 142.3c.6-5.9-1.7-11.8-6.1-15.8L20.3 72.1V64h140.2l108.4 237.7L364.2 64h133.7v8.1l-38.6 37c-3.3 2.5-5 6.7-4.3 10.8v272c-.7 4.1 1 8.3 4.3 10.8l37.7 37v8.1H307.3v-8.1l39.1-37.9c3.8-3.8 3.8-5 3.8-10.8V171.2L241.5 447.1h-14.7L100.4 171.2v184.9c-1.1 7.8 1.5 15.6 7 21.2l50.8 61.6v8.1h-144v-8L65 377.3c5.4-5.6 7.9-13.5 6.5-21.2V142.3z"]},q_={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]},W_={prefix:"fab",iconName:"youtube",icon:[576,512,[],"f167","M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"]};function H_(t){return new tl(t,`${o.i18nPrefix}/assets/i18n/`,".json")}let G_=(()=>{class t{constructor(t,e){if(t)throw new Error("CoreModule is already loaded. Import only in AppModule");e.addIcons(M_,D_,F_,L_,V_,j_,U_,z_,q_,B_,W_)}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(t,12),i.ac(mu))},providers:[{provide:Oi,useClass:__,multi:!0},{provide:i.n,useClass:y_},{provide:Ia,useClass:v_}],imports:[[Q,Vi,pp,Hd,Zd,Ip,Bm,og,ry,by,Fy,ky,Ui.j.forRoot(nv,{metaReducers:iv}),La.forRoot(),Cc.forRoot([a_,R_,b_]),o.production?[]:Oc.a.instrument({name:"Angular NgRx Material Starter"}),bu,Jc.forRoot({loader:{provide:Rc,useFactory:H_,deps:[xi]}})],pp,Hd,Zd,Ip,Bm,og,ry,by,Fy,ky,bu,Jc]}),t})();const Q_=function(){var t={EntitiesOnly:0,Both:1,None:2};return t[t.EntitiesOnly]="EntitiesOnly",t[t.Both]="Both",t[t.None]="None",t}();function K_(t){return function(e,n){const i={ids:[...n.ids],entities:Object.assign({},n.entities)},r=t(e,i);return r===Q_.Both?Object.assign({},n,i):r===Q_.EntitiesOnly?Object.assign(Object.assign({},n),{entities:i.entities}):n}}function $_(t,e){const n=e(t);return Object(i.X)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",e.toString()),n}function Y_(t){function e(e,n){const i=$_(e,t);return i in n.entities?Q_.None:(n.ids.push(i),n.entities[i]=e,Q_.Both)}function n(t,n){let i=!1;for(const r of t)i=e(r,n)!==Q_.None||i;return i?Q_.Both:Q_.None}function i(t,e){return e.ids=[],e.entities={},n(t,e),Q_.Both}function r(t,e){const n=(t instanceof Array?t:e.ids.filter(n=>t(e.entities[n]))).filter(t=>t in e.entities).map(t=>delete e.entities[t]).length>0;return n&&(e.ids=e.ids.filter(t=>t in e.entities)),n?Q_.Both:Q_.None}function o(e,n){const i={};return(e=e.filter(t=>t.id in n.entities)).length>0?e.filter(e=>function(e,n,i){const r=Object.assign({},i.entities[n.id],n.changes),o=$_(r,t),s=o!==n.id;return s&&(e[n.id]=o,delete i.entities[n.id]),i.entities[o]=r,s}(i,e,n)).length>0?(n.ids=n.ids.map(t=>i[t]||t),Q_.Both):Q_.EntitiesOnly:Q_.None}function s(e,i){const r=[],s=[];for(const n of e){const e=$_(n,t);e in i.entities?s.push({id:e,changes:n}):r.push(n)}const a=o(s,i),c=n(r,i);switch(!0){case c===Q_.None&&a===Q_.None:return Q_.None;case c===Q_.Both||a===Q_.Both:return Q_.Both;default:return Q_.EntitiesOnly}}return{removeAll:function(t){return Object.assign({},t,{ids:[],entities:{}})},addOne:K_(e),addMany:K_(n),addAll:K_(i),setAll:K_(i),updateOne:K_((function(t,e){return o([t],e)})),updateMany:K_(o),upsertOne:K_((function(t,e){return s([t],e)})),upsertMany:K_(s),removeOne:K_((function(t,e){return r([t],e)})),removeMany:K_(r),map:K_((function(t,e){return o(e.ids.reduce((n,i)=>{const r=t(e.entities[i]);return r!==e.entities[i]&&n.push({id:i,changes:r}),n},[]).filter(({id:t})=>t in e.entities),e)}))}}new i.r("app.config");const X_={N:100,SPECTRUM:["rgb(176,212,243)","rgb(128,186,236)","rgb(77,158,228)","rgb(38,137,223)","rgb(0,116,217)","rgb(0,106,197)"],routes:{login:"login",signup:"signup",heroes:"heroes",enjeux:"enjeux",presence:"presence",profil:"profil",collier:"collier",about:"about",error404:"404"},votesLimit:1,topEnjeuxLimit:10,topHeroesLimit:5,snackBarDuration:3e3,repositoryURL:"https://github.com/PhilippeMalric/toudeparole.git",sentryDSN:"https://75a52f7d42f044efa1602e73c1f60a5a@sentry.io/1447956"};class Z_{constructor(t,e,n){this.linkCount=0,this.normal=()=>Math.sqrt(this.linkCount/X_.N),this.color2="black",this.id=t,this.img=e,this.label=n,this.box={}}get r(){return 50*this.normal()+10}get fontSize(){return 30*this.normal()+10+"px"}get color(){let t=Math.floor(X_.SPECTRUM.length*this.normal());return X_.SPECTRUM[t]}}var J_={nodes:[new Z_("0","images/baseline_4k_black_48dp.png","Un"),new Z_("1","images/baseline_4k_black_48dp.png","Un"),new Z_("2","images/baseline_4k_black_48dp.png","Un"),new Z_("3","images/baseline_4k_black_48dp.png","Un"),new Z_("4","images/baseline_hd_black_48dp.png","Deux"),new Z_("5","images/baseline_4k_black_48dp.png","Un"),new Z_("6","images/baseline_hd_black_48dp.png","Deux"),new Z_("7","images/baseline_4k_black_48dp.png","Un"),new Z_("8","images/baseline_4k_black_48dp.png","Un"),new Z_("9","images/baseline_4k_black_48dp.png","Un"),new Z_("10","images/baseline_hd_black_48dp.png","Deux"),new Z_("11","images/baseline_4k_black_48dp.png","Un"),new Z_("12","images/baseline_hd_black_48dp.png","Deux")],links:[]};J_.links.push({source:0,target:1,arrow:2}),J_.links.push({source:1,target:2,arrow:2}),J_.links.push({source:2,target:3,arrow:2}),J_.links.push({source:3,target:4,arrow:2}),J_.links.push({source:4,target:5,arrow:2}),J_.links.push({source:5,target:6,arrow:2}),J_.links.push({source:6,target:7,arrow:2}),J_.links.push({source:7,target:8,arrow:2}),J_.links.push({source:8,target:9,arrow:2}),J_.links.push({source:9,target:10,arrow:2}),J_.links.push({source:10,target:11,arrow:2}),J_.links.push({source:11,target:12,arrow:2});var tb=function(t){return t.UPSERT_ONE="[Game] Upsert One",t.UPSERT_ALL="[Game] Upsert All",t.DELETE_ONE="[Game] Delete One",t.UPSERT_ONE_P="[Game] Upsert One Player",t.UPSERT_ONE_POKE="[Game] Upsert One Poke",t.CLEAN="[Game] Clean",t.DELPOKE="[Game] Del Poke",t.UPSERT_ONE_GRAPH="[Game] Upsert One GRAPH",t.CLEAR="[Game] CLEAR",t.LOAD="[Game] load game",t.NEXT_TURN="[Game] NEXT_TURN",t.ADD_node="[Game] ADD_node",t.ActionAddNode="[Game] Add NODE",t.MY_TURN="[Game] MY TURN",t}({});class eb{constructor(t){this.payload=t,this.type=tb.UPSERT_ALL}}class nb{constructor(t){this.payload=t,this.type=tb.UPSERT_ONE}}class ib{constructor(t){this.payload=t,this.type=tb.CLEAR}}class rb{constructor(t){this.payload=t,this.type=tb.NEXT_TURN}}class ob{constructor(t){this.payload=t,this.type=tb.MY_TURN}}class sb{constructor(t){this.payload=t,this.type=tb.ADD_node}}const ab=function(t={}){const{selectId:e,sortComparer:n}=Object.assign({sortComparer:!1,selectId:t=>t.id},t),i={getInitialState:function(t={}){return Object.assign({ids:[],entities:{}},t)}},r={getSelectors:function(t){const e=t=>t.ids,n=t=>t.entities,i=Object(Ui.q)(e,n,(t,e)=>t.map(t=>e[t])),r=Object(Ui.q)(e,t=>t.length);return t?{selectIds:Object(Ui.q)(t,e),selectEntities:Object(Ui.q)(t,n),selectAll:Object(Ui.q)(t,i),selectTotal:Object(Ui.q)(t,r)}:{selectIds:e,selectEntities:n,selectAll:i,selectTotal:r}}},o=n?function(t,e){const{removeOne:n,removeMany:i,removeAll:r}=Y_(t);function o(e,n){const i=e.filter(e=>!($_(e,t)in n.entities));return 0===i.length?Q_.None:(l(i,n),Q_.Both)}function s(t,e){return e.entities={},e.ids=[],o(t,e),Q_.Both}function a(e,n){const i=[],r=e.filter(e=>function(e,n,i){if(!(n.id in i.entities))return!1;const r=Object.assign({},i.entities[n.id],n.changes),o=$_(r,t);return delete i.entities[n.id],e.push(r),o!==n.id}(i,e,n)).length>0;if(0===i.length)return Q_.None;{const t=n.ids,e=[];return n.ids=n.ids.filter((t,i)=>t in n.entities||(e.push(i),!1)),l(i,n),!r&&e.every(e=>n.ids[e]===t[e])?Q_.EntitiesOnly:Q_.Both}}function c(e,n){const i=[],r=[];for(const o of e){const e=$_(o,t);e in n.entities?r.push({id:e,changes:o}):i.push(o)}const s=a(r,n),c=o(i,n);switch(!0){case c===Q_.None&&s===Q_.None:return Q_.None;case c===Q_.Both||s===Q_.Both:return Q_.Both;default:return Q_.EntitiesOnly}}function l(n,i){n.sort(e);const r=[];let o=0,s=0;for(;o<n.length&&s<i.ids.length;){const a=n[o],c=$_(a,t),l=i.ids[s];e(a,i.entities[l])<=0?(r.push(c),o++):(r.push(l),s++)}i.ids=r.concat(o<n.length?n.slice(o).map(t):i.ids.slice(s)),n.forEach((e,n)=>{i.entities[t(e)]=e})}return{removeOne:n,removeMany:i,removeAll:r,addOne:K_((function(t,e){return o([t],e)})),updateOne:K_((function(t,e){return a([t],e)})),upsertOne:K_((function(t,e){return c([t],e)})),addAll:K_(s),setAll:K_(s),addMany:K_(o),updateMany:K_(a),upsertMany:K_(c),map:K_((function(t,e){return a(e.ids.reduce((n,i)=>{const r=t(e.entities[i]);return r!==e.entities[i]&&n.push({id:i,changes:r}),n},[]),e)}))}}(e,n):Y_(e);return Object.assign(Object.assign(Object.assign({selectId:e,sortComparer:n},i),r),o)}({sortComparer:function(t,e){return t.description.localeCompare(e.description)}}),cb=ab.getInitialState({ids:["222"],entities:{222:{id:"222",description:"",owner:"",players:[],poke:[],nodes:J_.nodes,links:J_.links,turn:"",players_doc:"players_111",actions_doc:"actions_111",graph_doc:"graph_111",turn_doc:"turn_111"}}});var lb=function(t){return t.UPSERT="[Name] Upsert",t}({}),ub=function(t){return t.UPSERT="[My_turn] Upsert",t}({});class hb{constructor(t){this.payload=t,this.type=ub.UPSERT}}var db=function(t){return t.UPSERT="[Game_key] Upsert",t}({});class fb{constructor(t){this.payload=t,this.type=db.UPSERT}}var pb=function(t){return t.UPSERT="[Graph] Upsert",t.RESET="[Graph] Reset",t}({});class mb{constructor(t){this.payload=t,this.type=pb.UPSERT}}class gb{constructor(t){this.payload=t,this.type=pb.RESET}}const yb={nodes:[],links:[]};var vb=function(t){return t.UPSERT="[Game_doc] Upsert",t}({});class _b{constructor(t){this.payload=t,this.type=vb.UPSERT}}var bb=function(t){return t.UPSERT="[Screen_option] Upsert",t}({});class wb{constructor(t){this.payload=t,this.type=bb.UPSERT}}const Eb={width:0,height:0};var Cb=function(t){return t.UPSERT="[bottom_sheet] Upsert",t}({});class xb{constructor(t){this.payload=t,this.type=Cb.UPSERT}}var Sb=function(t){return t.UPSERT="[Immunity_left] Upsert",t.REMOVE_ONE="[Immunity_left] Remove_one",t}({});class Ob{constructor(t){this.payload=t,this.type=Sb.UPSERT}}class Tb{constructor(t){this.payload=t,this.type=Sb.REMOVE_ONE}}var kb=function(t){return t.UPSERT="[end_game] Upsert",t}({});class Ib{constructor(t){this.payload=t,this.type=kb.UPSERT}}const Ab=Object(Ui.o)("GameMeta"),Nb={games:function(t=cb,e){let n;switch(e.type){case tb.UPSERT_ONE:let i=JSON.parse(JSON.stringify(t)),r=e.payload.game;return console.log("new_game.id---------*"),console.log(r.id),i.entities[r.id]=r,console.log("newstate!!!********"),console.log(i),i;case tb.CLEAR:return console.log("reducer CLEAR"),console.log(e.payload.games),ab.upsertMany(e.payload.games,t);case tb.UPSERT_ONE_GRAPH:return t;case tb.UPSERT_ONE_P:console.log(t);let o=e.payload.game_key;return n=JSON.parse(JSON.stringify(t)),n.entities[o].players.map(t=>t.name).includes(e.payload.player.name)||n.entities[o].players.push(e.payload.player),n;case tb.UPSERT_ONE_POKE:return console.log(t),n=JSON.parse(JSON.stringify(t)),n.entities[222].pokes.push(e.payload.player),n;case tb.CLEAN:return(t=>{let e=JSON.parse(JSON.stringify(ab.getSelectors().selectEntities(t))),n={},i=[];for(let r of e[222].players)r.name in n==0&&(n[r.name]=1,i.push({name:r.name}));return console.log(i),console.log("newPlayers"),e[222].players=i,{ids:Object.keys(e),entities:e}})(t);case tb.DELPOKE:return((t,e)=>{let n=JSON.parse(JSON.stringify(ab.getSelectors().selectEntities(t))),i=e.payload.my_name,r=[];for(let o of n[222].pokes)o.name!=i&&r.push({name:o.name});return console.log(r),console.log("newPoke"),n[222].pokes=r,{ids:Object.keys(n),entities:n}})(t,e);case tb.UPSERT_ALL:return e.payload.games;case tb.DELETE_ONE:return ab.removeOne(e.payload.id,t);case tb.LOAD:return t;case tb.ADD_node:return n;case tb.MY_TURN:return n=JSON.parse(JSON.stringify(t)),n.entities[e.payload.game_key].turn="Me",n;case tb.NEXT_TURN:return n=((t,e)=>{let n=e.payload.game_key,i=JSON.parse(JSON.stringify(t)),r=i.entities[n].players.map(t=>t.name),o=i.entities[n].turn;console.log("turn"),console.log(o);let s=0;if(""==o)o=r[0],i.entities[n].turn=o;else{let t=0;for(let e of r){if(console.log(t),e==o)break;t+=1}s=(t+1)%r.length,console.log(r[s]),i.entities[n].turn=r[s]}return i})(t,e),n;default:return t}},name:function(t="Test",e){switch(e.type){case lb.UPSERT:return e.payload.name;default:return t}},my_turn:function(t=!1,e){switch(e.type){case ub.UPSERT:return e.payload.my_turn;default:return t}},game_key:function(t="222",e){switch(e.type){case db.UPSERT:return e.payload.game_key;default:return t}},game_doc:function(t="111",e){switch(e.type){case vb.UPSERT:return e.payload.game_doc;default:return t}},graph:function(t=yb,e){switch(e.type){case pb.UPSERT:return e.payload.graph;default:return t}},option:function(t=Eb,e){switch(e.type){case bb.UPSERT:return e.payload.options;default:return t}},bottom_sheet_state:function(t=!0,e){switch(e.type){case Cb.UPSERT:return e.payload.value;default:return t}},immunity_left:function(t=2,e){switch(e.type){case Sb.UPSERT:return e.payload.value;case Sb.REMOVE_ONE:let n=Number(0);return Number(t.valueOf()>0)&&(n=Number(t.valueOf()-1)),n;default:return t}},endGame_state:function(t=!0,e){switch(e.type){case kb.UPSERT:return e.payload.value;default:return t}}},Pb=(ab.getSelectors(),Object(Ui.q)(Ab,t=>t.games)),Rb=(Object(Ui.q)(Ab,t=>(console.log("Inside the selector"),console.log(t),console.log(t.games.entities),t.games.entities[""+t.game_key])),Object(Ui.q)(Ab,t=>t.name),Object(Ui.q)(Ab,t=>""!=t.name));let Db=(()=>{class t{constructor(t,e){this.afs=t,this.store=e,this.add_one_game=(t,e,n)=>{this.store.subscribe(i=>{let r=Pb(i);const o=r.ids.slice(0);o.push(e),o.sort();let s=Object.assign({},r.entities);s[e]={id:e,description:n};let a={ids:o,entities:s};this.afs.collection("games").doc(t).set(a,{merge:!1})})},this.clear=(t,e,n,i,r,o,s)=>{let a={};a[e]={id:e,description:n,owner:s,players:i,pokes:r,turn:o,nodes:[],links:[]};let c={ids:[e],entities:a};this.afs.collection("games").doc(t).set(c,{merge:!1})},console.log("DataService created"),this.is_name$=this.store.pipe(Object(Ui.t)(Rb))}click(){console.log("Hello")}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i_),i.ac(Ui.h))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const Mb=Object(Ui.q)(Ab,t=>t.my_turn),jb={provide:i.b,useFactory:function(t,e){return()=>{if(K(e)){const e=Array.from(t.querySelectorAll(`[class*=${Lb}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(t=>{t.classList.contains(`${Lb}ssr`)&&t.parentNode?t.parentNode.removeChild(t):t.className.replace(n,"")})}}},deps:[c,i.C],multi:!0},Lb="flex-layout-";let Fb=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[jb]}),t})();class Vb{constructor(t=!1,e="all",n="",i="",r=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=i,this.priority=r,this.property=""}clone(){return new Vb(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Ub=(()=>{class t{constructor(){this.stylesheet=new Map}addStyleToElement(t,e,n){const i=this.stylesheet.get(t);i?i.set(e,n):this.stylesheet.set(t,new Map([[e,n]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,e){const n=this.stylesheet.get(t);let i="";if(n){const t=n.get(e);"number"!=typeof t&&"string"!=typeof t||(i=t+"")}return i}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Bb={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},zb=new i.r("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Bb}),qb=new i.r("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),Wb=new i.r("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function Hb(t,e){return t=t?t.clone():new Vb,e&&(t.mqAlias=e.alias,t.mediaQuery=e.mediaQuery,t.suffix=e.suffix,t.priority=e.priority),t}const Gb=["row","column","row-reverse","column-reverse"];function Qb(t){if(t)switch(t.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":t="wrap-reverse";break;case"no":case"none":case"nowrap":t="nowrap";break;default:t="wrap"}return t}let Kb=(()=>{class t{constructor(t,e,n,i){this.elementRef=t,this.styleBuilder=e,this.styler=n,this.marshal=i,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new er.a,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(e=>{if(-1!==this.inputs.indexOf(e)){const n=e.split(".").slice(1).join(".");this.setValue(t[e].currentValue,n)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,e){const n=this.styleBuilder,i=n.shouldCache;let r=this.styleCache.get(t);r&&i||(r=n.buildStyles(t,e),i&&this.styleCache.set(t,r)),this.mru=Object.assign({},r),this.applyStyleToElement(r),n.sideEffect(t,r,e)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={}}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,e=!1){if(t){const[n,i]=this.styler.getFlowDirection(t);if(!i&&e){const e=function(t){let[e,n,i]=function(t){t=t?t.toLowerCase():"";let[e,n,i]=t.split(" ");return Gb.find(t=>t===e)||(e=Gb[0]),"inline"===n&&(n="inline"!==i?i:"",i="inline"),[e,Qb(n),!!i]}(t);return function(t,e=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":t,"flex-wrap":e||null}}(e,n,i)}(n);this.styler.applyStyleToElements(e,[t])}return n.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,e,n=this.nativeElement){this.styler.applyStyleToElement(n,t,e)}setValue(t,e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,e)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return t.\u0275fac=function(t){i.dc()},t.\u0275dir=i.Lb({type:t,features:[i.Bb()]}),t})();const $b=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.9px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.9px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.9px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.9px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.9px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.9px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.9px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.9px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.9px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],Yb="(orientation: portrait) and (min-width: 600px) and (max-width: 839.9px)",Xb="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.9px)",Zb="(orientation: portrait) and (min-width: 840px)",Jb="(orientation: landscape) and (min-width: 1280px)",tw={HANDSET:"(orientation: portrait) and (max-width: 599.9px), (orientation: landscape) and (max-width: 959.9px)",TABLET:`${Yb} , ${Xb}`,WEB:`${Zb}, ${Jb} `,HANDSET_PORTRAIT:"(orientation: portrait) and (max-width: 599.9px)",TABLET_PORTRAIT:`${Yb} `,WEB_PORTRAIT:`${Zb}`,HANDSET_LANDSCAPE:"(orientation: landscape) and (max-width: 959.9px)",TABLET_LANDSCAPE:`${Xb}`,WEB_LANDSCAPE:`${Jb}`},ew=[{alias:"handset",priority:2e3,mediaQuery:tw.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:tw.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:tw.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:tw.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:tw.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:tw.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:tw.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:tw.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:tw.WEB_PORTRAIT,overlapping:!0}],nw=/(\.|-|_)/g;function iw(t){let e=t.length>0?t.charAt(0):"",n=t.length>1?t.slice(1):"";return e.toUpperCase()+n}const rw=new i.r("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const t=Object(i.W)(Wb),e=Object(i.W)(zb),n=[].concat.apply([],(t||[]).map(t=>Array.isArray(t)?t:[t]));return function(t,e=[]){const n={};return t.forEach(t=>{n[t.alias]=t}),e.forEach(t=>{n[t.alias]?function(t,...e){if(null==t)throw TypeError("Cannot convert undefined or null to object");for(let n of e)if(null!=n)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e])}(n[t.alias],t):n[t.alias]=t}),(i=Object.keys(n).map(t=>n[t])).forEach(t=>{t.suffix||(t.suffix=function(t){return t.replace(nw,"|").split("|").map(iw).join("")}(t.alias),t.overlapping=!!t.overlapping)}),i;var i}((e.disableDefaultBps?[]:$b).concat(e.addOrientationBps?ew:[]),n)}});function ow(t,e){return(e&&e.priority||0)-(t&&t.priority||0)}function sw(t,e){return(t.priority||0)-(e.priority||0)}let aw=(()=>{class t{constructor(t){this.findByMap=new Map,this.items=[...t].sort(sw)}findByAlias(t){return t?this.findWithPredicate(t,e=>e.alias==t):null}findByQuery(t){return this.findWithPredicate(t,e=>e.mediaQuery==t)}get overlappings(){return this.items.filter(t=>1==t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t.suffix?t.suffix:"")}findWithPredicate(t,e){let n=this.findByMap.get(t);return n||(n=this.items.find(e)||null,this.findByMap.set(t,n)),n||null}}return t.\u0275fac=function(e){return new(e||t)(i.ac(rw))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(rw))},token:t,providedIn:"root"}),t})(),cw=(()=>{class t{constructor(t,e,n){this._zone=t,this._platformId=e,this._document=n,this.source=new zi.a(new Vb(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((e,n)=>{e.matches&&t.push(n)}),t}isActive(t){const e=this.registry.get(t);return e?e.matches:this.registerQuery(t).some(t=>t.matches)}observe(t,e=!1){if(t&&t.length){const n=this._observable$.pipe(Object(si.a)(n=>!e||t.indexOf(n.mediaQuery)>-1)),i=new ri.a(e=>{const n=this.registerQuery(t);if(n.length){const t=n.pop();n.forEach(t=>{e.next(t)}),this.source.next(t)}e.complete()});return Object(Fa.a)(i,n)}return this._observable$}registerQuery(t){const e=Array.isArray(t)?t:[t],n=[];return function(t,e){const n=t.filter(t=>!lw[t]);if(n.length>0){const t=n.join(", ");try{const i=e.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${t} {.fx-query-test{ }}\n`)),e.head.appendChild(i),n.forEach(t=>lw[t]=i)}catch(vN){console.error(vN)}}}(e,this._document),e.forEach(t=>{const e=e=>{this._zone.run(()=>this.source.next(new Vb(e.matches,t)))};let i=this.registry.get(t);i||(i=this.buildMQL(t),i.addListener(e),this.pendingRemoveListenerFns.push(()=>i.removeListener(e)),this.registry.set(t,i)),i.matches&&n.push(new Vb(!0,t))}),n}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function(t,e){return e&&window.matchMedia("all").addListener?window.matchMedia(t):{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(t,K(this._platformId))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(i.A),i.ac(i.C),i.ac(c))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(i.A),Object(i.ac)(i.C),Object(i.ac)(c))},token:t,providedIn:"root"}),t})();const lw={},uw={alias:"print",mediaQuery:"print",priority:1e3};let hw=(()=>{class t{constructor(t,e,n){this.breakpoints=t,this.layoutConfig=e,this._document=n,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.isPrinting=!1,this.queue=new dw,this.deactivations=[]}withPrintQuery(t){return[...t,"print"]}isPrintEvent(t){return t.mediaQuery.startsWith("print")}get printAlias(){return this.layoutConfig.printWithBreakpoints||[]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const e=this.breakpoints.findByQuery(t);return(e?[...this.printBreakPoints,e]:this.printBreakPoints).sort(ow)}updateEvent(t){let e=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(e=this.getEventBreakpoints(t)[0],t.mediaQuery=e?e.mediaQuery:""),Hb(t,e)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const e=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new Vb(!0,"print"))),t.updateStyles())},n=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",e),this._document.defaultView.addEventListener("afterprint",n),this.beforePrintEventListeners.push(e),this.afterPrintEventListeners.push(n)}interceptEvents(t){return this.registerBeforeAfterPrintHooks(t),e=>{this.isPrintEvent(e)?e.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(e)),t.updateStyles()):e.matches||!this.isPrinting||this.isPrintingBeforeAfterEvent||(this.stopPrinting(t),t.updateStyles()):this.collectActivations(e)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,e){this.isPrinting=!0,t.activatedBreakpoints=this.queue.addPrintBreakpoints(e)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.queue.clear(),this.isPrinting=!1}collectActivations(t){if(!this.isPrinting||this.isPrintingBeforeAfterEvent)if(t.matches)this.isPrintingBeforeAfterEvent||(this.deactivations=[]);else{const e=this.breakpoints.findByQuery(t.mediaQuery);e&&(this.deactivations.push(e),this.deactivations.sort(ow))}}ngOnDestroy(){this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(aw),i.ac(zb),i.ac(c))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(aw),Object(i.ac)(zb),Object(i.ac)(c))},token:t,providedIn:"root"}),t})();class dw{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(uw),t.sort(ow),t.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(e=>e.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function(t){return!!t&&t.mediaQuery.startsWith("print")}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let fw=(()=>{class t{constructor(t,e,n){this.breakpoints=t,this.matchMedia=e,this.hook=n,this.filterOverlaps=!1,this.destroyed$=new er.a,this._media$=this.watchActivations(),this.media$=this._media$.pipe(Object(si.a)(t=>t.length>0),Object(ai.a)(t=>t[0]))}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}asObservable(){return this._media$}isActive(t){return function(t){return Array.isArray(t)?t:[t]}(t).map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim()).some(t=>{const e=function(t,e){const n=e.findByAlias(t)||e.findByQuery(t);return n?n.mediaQuery:null}(t,this.breakpoints);return null!==e&&this.matchMedia.isActive(e)})}watchActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);return this.buildObservable(t)}buildObservable(t){return this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Object(si.a)(t=>t.matches),Object(uh.a)(0,Gu),Object(xr.a)(t=>Object(ii.a)(this.findAllActivations())),Object(ai.a)(t=>this.filterOverlaps?t.filter(t=>{const e=this.breakpoints.findByQuery(t.mediaQuery);return!e||!e.overlapping}):t),Object(si.a)(t=>t.filter(t=>t.mediaQuery.length>0).length>0),Object(th.a)(this.destroyed$))}findAllActivations(){return this.matchMedia.activations.map(t=>new Vb(!0,t)).map(t=>this.hook.isPrintEvent(t)?this.hook.updateEvent(t):t).map(t=>Hb(t,this.breakpoints.findByQuery(t.mediaQuery))).sort(ow)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(aw),i.ac(cw),i.ac(hw))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(aw),Object(i.ac)(cw),Object(i.ac)(hw))},token:t,providedIn:"root"}),t})();function pw(t){for(let e in t){let n=t[e]||"";switch(e){case"display":t.display="flex"===n?["-webkit-flex","flex"]:"inline-flex"===n?["-webkit-inline-flex","inline-flex"]:n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":t["-webkit-"+e]=n;break;case"flex-direction":n=n||"row",t["-webkit-flex-direction"]=n,t["flex-direction"]=n;break;case"order":t.order=t["-webkit-"+e]=isNaN(+n)?"0":n}}return t}let mw=(()=>{class t{constructor(t,e,n,i){this._serverStylesheet=t,this._serverModuleLoaded=e,this._platformId=n,this.layoutConfig=i}applyStyleToElement(t,e,n=null){let i={};"string"==typeof e&&(i[e]=n,e=i),i=this.layoutConfig.disableVendorPrefixes?e:pw(e),this._applyMultiValueStyleToElement(i,t)}applyStyleToElements(t,e=[]){const n=this.layoutConfig.disableVendorPrefixes?t:pw(t);e.forEach(t=>{this._applyMultiValueStyleToElement(n,t)})}getFlowDirection(t){let e=this.lookupStyle(t,"flex-direction");return[e||"row",this.lookupInlineStyle(t,"flex-direction")||$(this._platformId)&&this._serverModuleLoaded?e:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,e){return t.getAttribute(e)||""}lookupInlineStyle(t,e){return K(this._platformId)?t.style.getPropertyValue(e):this._getServerStyle(t,e)}lookupStyle(t,e,n=!1){let i="";return t&&((i=this.lookupInlineStyle(t,e))||(K(this._platformId)?n||(i=getComputedStyle(t).getPropertyValue(e)):this._serverModuleLoaded&&(i=this._serverStylesheet.getStyleForElement(t,e)))),i?i.trim():""}_applyMultiValueStyleToElement(t,e){Object.keys(t).sort().forEach(n=>{const i=t[n],r=Array.isArray(i)?i:[i];r.sort();for(let t of r)t=t?t+"":"",K(this._platformId)||!this._serverModuleLoaded?K(this._platformId)?e.style.setProperty(n,t):this._setServerStyle(e,n,t):this._serverStylesheet.addStyleToElement(e,n,t)})}_setServerStyle(t,e,n){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=this._readStyleAttribute(t);i[e]=n||"",this._writeStyleAttribute(t,i)}_getServerStyle(t,e){return this._readStyleAttribute(t)[e]||""}_readStyleAttribute(t){const e={},n=t.getAttribute("style");if(n){const t=n.split(/;+/g);for(let n=0;n<t.length;n++){const i=t[n].trim();if(i.length>0){const t=i.indexOf(":");if(-1===t)throw new Error(`Invalid CSS style: ${i}`);e[i.substr(0,t).trim()]=i.substr(t+1).trim()}}}return e}_writeStyleAttribute(t,e){let n="";for(const i in e)e[i]&&(n+=i+":"+e[i]+";");t.setAttribute("style",n)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ub),i.ac(qb),i.ac(i.C),i.ac(zb))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(Ub),Object(i.ac)(qb),Object(i.ac)(i.C),Object(i.ac)(zb))},token:t,providedIn:"root"}),t})(),gw=(()=>{class t{constructor(t,e,n){this.matchMedia=t,this.breakpoints=e,this.hook=n,this.activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new er.a,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?this.activatedBreakpoints[0].alias:""}onMediaChange(t){const e=this.findByQuery(t.mediaQuery);e&&((t=Hb(t,e)).matches&&-1===this.activatedBreakpoints.indexOf(e)?(this.activatedBreakpoints.push(e),this.activatedBreakpoints.sort(ow),this.updateStyles()):t.matches||-1===this.activatedBreakpoints.indexOf(e)||(this.activatedBreakpoints.splice(this.activatedBreakpoints.indexOf(e),1),this.activatedBreakpoints.sort(ow),this.updateStyles()))}init(t,e,n,i,r=[]){yw(this.updateMap,t,e,n),yw(this.clearMap,t,e,i),this.buildElementKeyMap(t,e),this.watchExtraTriggers(t,e,r)}getValue(t,e,n){const i=this.elementMap.get(t);if(i){const t=void 0!==n?i.get(n):this.getActivatedValues(i,e);if(t)return t.get(e)}}hasValue(t,e){const n=this.elementMap.get(t);if(n){const t=this.getActivatedValues(n,e);if(t)return void 0!==t.get(e)||!1}return!1}setValue(t,e,n,i){let r=this.elementMap.get(t);if(r){const o=(r.get(i)||new Map).set(e,n);r.set(i,o),this.elementMap.set(t,r)}else r=(new Map).set(i,(new Map).set(e,n)),this.elementMap.set(t,r);const o=this.getValue(t,e);void 0!==o&&this.updateElement(t,e,o)}trackValue(t,e){return this.subject.asObservable().pipe(Object(si.a)(n=>n.element===t&&n.key===e))}updateStyles(){this.elementMap.forEach((t,e)=>{const n=new Set(this.elementKeyMap.get(e));let i=this.getActivatedValues(t);i&&i.forEach((t,i)=>{this.updateElement(e,i,t),n.delete(i)}),n.forEach(n=>{if(i=this.getActivatedValues(t,n),i){const t=i.get(n);this.updateElement(e,n,t)}else this.clearElement(e,n)})})}clearElement(t,e){const n=this.clearMap.get(t);if(n){const i=n.get(e);i&&(i(),this.subject.next({element:t,key:e,value:""}))}}updateElement(t,e,n){const i=this.updateMap.get(t);if(i){const r=i.get(e);r&&(r(n),this.subject.next({element:t,key:e,value:n}))}}releaseElement(t){const e=this.watcherMap.get(t);e&&(e.forEach(t=>t.unsubscribe()),this.watcherMap.delete(t));const n=this.elementMap.get(t);n&&(n.forEach((t,e)=>n.delete(e)),this.elementMap.delete(t))}triggerUpdate(t,e){const n=this.elementMap.get(t);if(n){const i=this.getActivatedValues(n,e);i&&(e?this.updateElement(t,e,i.get(e)):i.forEach((e,n)=>this.updateElement(t,n,e)))}}buildElementKeyMap(t,e){let n=this.elementKeyMap.get(t);n||(n=new Set,this.elementKeyMap.set(t,n)),n.add(e)}watchExtraTriggers(t,e,n){if(n&&n.length){let i=this.watcherMap.get(t);if(i||(i=new Map,this.watcherMap.set(t,i)),!i.get(e)){const r=Object(Fa.a)(...n).subscribe(()=>{const n=this.getValue(t,e);this.updateElement(t,e,n)});i.set(e,r)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,e){for(let i=0;i<this.activatedBreakpoints.length;i++){const n=t.get(this.activatedBreakpoints[i].alias);if(n&&(void 0===e||n.has(e)&&null!=n.get(e)))return n}const n=t.get("");return void 0===e||n&&n.has(e)?n:void 0}observeActivations(){const t=this.breakpoints.items.map(t=>t.mediaQuery);this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(Nr(this.hook.interceptEvents(this)),Object(si.a)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(cw),i.ac(aw),i.ac(hw))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(cw),Object(i.ac)(aw),Object(i.ac)(hw))},token:t,providedIn:"root"}),t})();function yw(t,e,n,i){if(void 0!==i){let r=t.get(e);r||(r=new Map,t.set(e,r)),r.set(n,i)}}let vw=(()=>{class t extends Kb{constructor(t,e,n,i,r,o,s){super(t,null,e,n),this.ngClassInstance=s,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new N(i,r,t,o)),this.init(),this.setValue("","")}set klass(t){this.ngClassInstance.klass=t,this.setValue(t,"")}updateWithValue(t){this.ngClassInstance.ngClass=t,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(mw),i.Qb(gw),i.Qb(i.t),i.Qb(i.u),i.Qb(i.F),i.Qb(N,10))},t.\u0275dir=i.Lb({type:t,inputs:{klass:["class","klass"]},features:[i.Ab]}),t})();const _w=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let bw=(()=>{class t extends vw{constructor(){super(...arguments),this.inputs=_w}}return t.\u0275fac=function(e){return ww(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[i.Ab]}),t})();const ww=i.Yb(bw);let Ew=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Fb]]}),t})();class Cw{constructor(t,e,n){this.source=t,this.target=e,this.arrow=n}}var xw,Sw,Ow=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN};1===(xw=Ow).length&&(Sw=xw,xw=function(t,e){return Ow(Sw(t),e)}),Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Tw={value:function(){}};function kw(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Iw(i)}function Iw(t){this._=t}function Aw(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Nw(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function Pw(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Tw,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}Iw.prototype=kw.prototype={constructor:Iw,on:function(t,e){var n,i=this._,r=Aw(t+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=Pw(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Pw(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=Nw(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Iw(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Rw=kw;function Dw(){}var Mw=function(t){return null==t?Dw:function(){return this.querySelector(t)}};function jw(){return[]}var Lw=function(t){return null==t?jw:function(){return this.querySelectorAll(t)}},Fw=function(t){return function(){return this.matches(t)}},Vw=function(t){return new Array(t.length)};function Uw(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Bw(t,e,n,i,r,o){for(var s,a=0,c=e.length,l=o.length;a<l;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new Uw(t,o[a]);for(;a<c;++a)(s=e[a])&&(r[a]=s)}function zw(t,e,n,i,r,o,s){var a,c,l,u={},h=e.length,d=o.length,f=new Array(h);for(a=0;a<h;++a)(c=e[a])&&(f[a]=l="$"+s.call(c,c.__data__,a,e),l in u?r[a]=c:u[l]=c);for(a=0;a<d;++a)(c=u[l="$"+s.call(t,o[a],a,o)])?(i[a]=c,c.__data__=o[a],u[l]=null):n[a]=new Uw(t,o[a]);for(a=0;a<h;++a)(c=e[a])&&u[f[a]]===c&&(r[a]=c)}function qw(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Uw.prototype={constructor:Uw,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ww="http://www.w3.org/1999/xhtml",Hw={svg:"http://www.w3.org/2000/svg",xhtml:Ww,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gw=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Hw.hasOwnProperty(e)?{space:Hw[e],local:t}:t};function Qw(t){return function(){this.removeAttribute(t)}}function Kw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $w(t,e){return function(){this.setAttribute(t,e)}}function Yw(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Xw(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Zw(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Jw=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function tE(t){return function(){this.style.removeProperty(t)}}function eE(t,e,n){return function(){this.style.setProperty(t,e,n)}}function nE(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function iE(t,e){return t.style.getPropertyValue(e)||Jw(t).getComputedStyle(t,null).getPropertyValue(e)}function rE(t){return function(){delete this[t]}}function oE(t,e){return function(){this[t]=e}}function sE(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function aE(t){return t.trim().split(/^|\s+/)}function cE(t){return t.classList||new lE(t)}function lE(t){this._node=t,this._names=aE(t.getAttribute("class")||"")}function uE(t,e){for(var n=cE(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function hE(t,e){for(var n=cE(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function dE(t){return function(){uE(this,t)}}function fE(t){return function(){hE(this,t)}}function pE(t,e){return function(){(e.apply(this,arguments)?uE:hE)(this,t)}}function mE(){this.textContent=""}function gE(t){return function(){this.textContent=t}}function yE(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function vE(){this.innerHTML=""}function _E(t){return function(){this.innerHTML=t}}function bE(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function wE(){this.nextSibling&&this.parentNode.appendChild(this)}function EE(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function CE(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ww&&e.documentElement.namespaceURI===Ww?e.createElement(t):e.createElementNS(n,t)}}function xE(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}lE.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var SE=function(t){var e=Gw(t);return(e.local?xE:CE)(e)};function OE(){return null}function TE(){var t=this.parentNode;t&&t.removeChild(this)}function kE(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function IE(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var AE={},NE=null;function PE(t,e,n){return t=RE(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function RE(t,e,n){return function(i){var r=NE;NE=i;try{t.call(this,this.__data__,e,n)}finally{NE=r}}}function DE(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function ME(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function jE(t,e,n){var i=AE.hasOwnProperty(t.type)?PE:RE;return function(r,o,s){var a,c=this.__on,l=i(e,o,s);if(c)for(var u=0,h=c.length;u<h;++u)if((a=c[u]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(a):this.__on=[a]}}function LE(t,e,n,i){var r=NE;t.sourceEvent=NE,NE=t;try{return e.apply(n,i)}finally{NE=r}}function FE(t,e,n){var i=Jw(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function VE(t,e){return function(){return FE(this,t,e)}}function UE(t,e){return function(){return FE(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(AE={mouseenter:"mouseover",mouseleave:"mouseout"}));var BE=[null];function zE(t,e){this._groups=t,this._parents=e}function qE(){return new zE([[document.documentElement]],BE)}zE.prototype=qE.prototype={constructor:zE,select:function(t){"function"!=typeof t&&(t=Mw(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],c=a.length,l=i[r]=new Array(c),u=0;u<c;++u)(o=a[u])&&(s=t.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),l[u]=s);return new zE(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Lw(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],c=a.length,l=0;l<c;++l)(s=a[l])&&(i.push(t.call(s,s.__data__,l,a)),r.push(s));return new zE(i,r)},filter:function(t){"function"!=typeof t&&(t=Fw(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,c=i[r]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&c.push(o);return new zE(i,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each((function(t){p[++u]=t})),p;var n,i=e?zw:Bw,r=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),c=new Array(s),l=new Array(s),u=0;u<s;++u){var h=r[u],d=o[u],f=d.length,p=t.call(h,h&&h.__data__,u,r),m=p.length,g=c[u]=new Array(m),y=a[u]=new Array(m);i(h,d,g,y,l[u]=new Array(f),p,e);for(var v,_,b=0,w=0;b<m;++b)if(v=g[b]){for(b>=w&&(w=b+1);!(_=y[w])&&++w<m;);v._next=_||null}}return(a=new zE(a,r))._enter=c,a._exit=l,a},enter:function(){return new zE(this._enter||this._groups.map(Vw),this._parents)},exit:function(){return new zE(this._exit||this._groups.map(Vw),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),o=new Array(i),s=0;s<r;++s)for(var a,c=e[s],l=n[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d]||l[d])&&(h[d]=a);for(;s<i;++s)o[s]=e[s];return new zE(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=qw);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],c=a.length,l=r[o]=new Array(c),u=0;u<c;++u)(s=a[u])&&(l[u]=s);l.sort(e)}return new zE(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},attr:function(t,e){var n=Gw(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Kw:Qw:"function"==typeof e?n.local?Zw:Xw:n.local?Yw:$w)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?tE:"function"==typeof e?nE:eE)(t,e,null==n?"":n)):iE(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?rE:"function"==typeof e?sE:oE)(t,e)):this.node()[t]},classed:function(t,e){var n=aE(t+"");if(arguments.length<2){for(var i=cE(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?pE:e?dE:fE)(n,e))},text:function(t){return arguments.length?this.each(null==t?mE:("function"==typeof t?yE:gE)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?vE:("function"==typeof t?bE:_E)(t)):this.node().innerHTML},raise:function(){return this.each(wE)},lower:function(){return this.each(EE)},append:function(t){var e="function"==typeof t?t:SE(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:SE(t),i=null==e?OE:"function"==typeof e?e:Mw(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(TE)},clone:function(t){return this.select(t?IE:kE)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=DE(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?jE:ME,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var c,l=0,u=a.length;l<u;++l)for(i=0,c=a[l];i<s;++i)if((r=o[i]).type===c.type&&r.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?UE:VE)(t,e))}};var WE=qE,HE=function(t){return"string"==typeof t?new zE([[document.querySelector(t)]],[document.documentElement]):new zE([[t]],BE)};function GE(){NE.stopImmediatePropagation()}var QE=function(){NE.preventDefault(),NE.stopImmediatePropagation()},KE=function(t){var e=t.document.documentElement,n=HE(t).on("dragstart.drag",QE,!0);"onselectstart"in e?n.on("selectstart.drag",QE,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function $E(t,e){var n=t.document.documentElement,i=HE(t).on("dragstart.drag",null);e&&(i.on("click.drag",QE,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var YE=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function XE(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ZE(){}var JE="\\s*([+-]?\\d+)\\s*",tC="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",eC="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nC=/^#([0-9a-f]{3,8})$/,iC=new RegExp("^rgb\\("+[JE,JE,JE]+"\\)$"),rC=new RegExp("^rgb\\("+[eC,eC,eC]+"\\)$"),oC=new RegExp("^rgba\\("+[JE,JE,JE,tC]+"\\)$"),sC=new RegExp("^rgba\\("+[eC,eC,eC,tC]+"\\)$"),aC=new RegExp("^hsl\\("+[tC,eC,eC]+"\\)$"),cC=new RegExp("^hsla\\("+[tC,eC,eC,tC]+"\\)$"),lC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function uC(){return this.rgb().formatHex()}function hC(){return this.rgb().formatRgb()}function dC(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nC.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?fC(e):3===n?new yC(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?pC(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?pC(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=iC.exec(t))?new yC(e[1],e[2],e[3],1):(e=rC.exec(t))?new yC(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=oC.exec(t))?pC(e[1],e[2],e[3],e[4]):(e=sC.exec(t))?pC(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=aC.exec(t))?wC(e[1],e[2]/100,e[3]/100,1):(e=cC.exec(t))?wC(e[1],e[2]/100,e[3]/100,e[4]):lC.hasOwnProperty(t)?fC(lC[t]):"transparent"===t?new yC(NaN,NaN,NaN,0):null}function fC(t){return new yC(t>>16&255,t>>8&255,255&t,1)}function pC(t,e,n,i){return i<=0&&(t=e=n=NaN),new yC(t,e,n,i)}function mC(t){return t instanceof ZE||(t=dC(t)),t?new yC((t=t.rgb()).r,t.g,t.b,t.opacity):new yC}function gC(t,e,n,i){return 1===arguments.length?mC(t):new yC(t,e,n,null==i?1:i)}function yC(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function vC(){return"#"+bC(this.r)+bC(this.g)+bC(this.b)}function _C(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function bC(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function wC(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new CC(t,e,n,i)}function EC(t){if(t instanceof CC)return new CC(t.h,t.s,t.l,t.opacity);if(t instanceof ZE||(t=dC(t)),!t)return new CC;if(t instanceof CC)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,c=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=c<.5?o+r:2-o-r,s*=60):a=c>0&&c<1?0:s,new CC(s,a,c,t.opacity)}function CC(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function xC(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function SC(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}YE(ZE,dC,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:uC,formatHex:uC,formatHsl:function(){return EC(this).formatHsl()},formatRgb:hC,toString:hC}),YE(yC,gC,XE(ZE,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new yC(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new yC(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vC,formatHex:vC,formatRgb:_C,toString:_C})),YE(CC,(function(t,e,n,i){return 1===arguments.length?EC(t):new CC(t,e,n,null==i?1:i)}),XE(ZE,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new CC(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new CC(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new yC(xC(t>=240?t-240:t+120,r,i),xC(t,r,i),xC(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var OC=function(t){return function(){return t}};function TC(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):OC(isNaN(t)?e:t)}var kC=function t(e){var n=function(t){return 1==(t=+t)?TC:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):OC(isNaN(e)?n:e)}}(e);function i(t,e){var i=n((t=gC(t)).r,(e=gC(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=TC(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function IC(t){return function(e){var n,i,r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=gC(e[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=t(o),s=t(s),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=a(t),i+""}}}IC((function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1];return SC((n-i/e)*e,i>0?t[i-1]:2*r-o,r,o,i<e-1?t[i+2]:2*o-r)}})),IC((function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e);return SC((n-i/e)*e,t[(i+e-1)%e],t[i%e],t[(i+1)%e],t[(i+2)%e])}}));var AC,NC,PC=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},RC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,DC=new RegExp(RC.source,"g"),MC=function(t,e){var n,i,r,o=RC.lastIndex=DC.lastIndex=0,s=-1,a=[],c=[];for(t+="",e+="";(n=RC.exec(t))&&(i=DC.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:PC(n,i)})),o=DC.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,i=0;i<e;++i)a[(n=c[i]).i]=n.x(t);return a.join("")})},jC=function(){for(var t,e=NE;t=e.sourceEvent;)e=t;return e},LC=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},FC=function(t,e,n){arguments.length<3&&(n=e,e=jC().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return LC(t,i);return null},VC=function(t){var e=jC();return e.changedTouches&&(e=e.changedTouches[0]),LC(t,e)},UC=0,BC=0,zC=0,qC=0,WC=0,HC=0,GC="object"==typeof performance&&performance.now?performance:Date,QC="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function KC(){return WC||(QC($C),WC=GC.now()+HC)}function $C(){WC=0}function YC(){this._call=this._time=this._next=null}function XC(t,e,n){var i=new YC;return i.restart(t,e,n),i}function ZC(){WC=(qC=GC.now())+HC,UC=BC=0;try{!function(){KC(),++UC;for(var t,e=AC;e;)(t=WC-e._time)>=0&&e._call.call(null,t),e=e._next;--UC}()}finally{UC=0,function(){for(var t,e,n=AC,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:AC=e);NC=t,tx(i)}(),WC=0}}function JC(){var t=GC.now(),e=t-qC;e>1e3&&(HC-=e,qC=t)}function tx(t){UC||(BC&&(BC=clearTimeout(BC)),t-WC>24?(t<1/0&&(BC=setTimeout(ZC,t-GC.now()-HC)),zC&&(zC=clearInterval(zC))):(zC||(qC=GC.now(),zC=setInterval(JC,1e3)),UC=1,QC(ZC)))}YC.prototype=XC.prototype={constructor:YC,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?KC():+n)+(null==e?0:+e),this._next||NC===this||(NC?NC._next=this:AC=this,NC=this),this._call=t,this._time=n,tx()},stop:function(){this._call&&(this._call=null,this._time=1/0,tx())}};var ex=function(t,e,n){var i=new YC;return i.restart((function(n){i.stop(),t(n+e)}),e=null==e?0:+e,n),i},nx=Rw("start","end","cancel","interrupt"),ix=[],rx=function(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(c){var l,u,h,d;if(1!==n.state)return a();for(l in r)if((d=r[l]).name===n.name){if(3===d.state)return ex(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[l]):+l<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[l])}if(ex((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(c))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(h=n.tween.length),l=0,u=-1;l<h;++l)(d=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=d);i.length=u+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),o=-1,s=i.length;++o<s;)i[o].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=XC((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:r,on:nx,tween:ix,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function ox(t,e){var n=ax(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function sx(t,e){var n=ax(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ax(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var cx,lx,ux,hx,dx=function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}},fx=180/Math.PI,px={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},mx=function(t,e,n,i,r,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,c/=a),t*i<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*fx,skewX:Math.atan(c)*fx,scaleX:s,scaleY:a}};function gx(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],c=[];return o=t(o),s=t(s),function(t,i,r,o,s,a){if(t!==r||i!==o){var c=s.push("translate(",null,e,null,n);a.push({i:c-4,x:PC(t,r)},{i:c-2,x:PC(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:PC(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,s.rotate,a,c),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:PC(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,s.skewX,a,c),function(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:PC(t,n)},{i:a-2,x:PC(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,c),o=s=null,function(t){for(var e,n=-1,i=c.length;++n<i;)a[(e=c[n]).i]=e.x(t);return a.join("")}}}var yx=gx((function(t){return"none"===t?px:(cx||(cx=document.createElement("DIV"),lx=document.documentElement,ux=document.defaultView),cx.style.transform=t,t=ux.getComputedStyle(lx.appendChild(cx),null).getPropertyValue("transform"),lx.removeChild(cx),t=t.slice(7,-1).split(","),mx(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),vx=gx((function(t){return null==t?px:(hx||(hx=document.createElementNS("http://www.w3.org/2000/svg","g")),hx.setAttribute("transform",t),(t=hx.transform.baseVal.consolidate())?mx((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):px)}),", ",")",")");function _x(t,e){var n,i;return function(){var r=sx(this,t),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}function bx(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=sx(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===e){r[c]=a;break}c===l&&r.push(a)}o.tween=r}}function wx(t,e,n){var i=t._id;return t.each((function(){var t=sx(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ax(t,i).value[e]}}var Ex=function(t,e){var n;return("number"==typeof e?PC:e instanceof dC?kC:(n=dC(e))?(e=n,kC):MC)(t,e)};function Cx(t){return function(){this.removeAttribute(t)}}function xx(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sx(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function Ox(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function Tx(t,e,n){var i,r,o;return function(){var s,a,c=n(this);if(null!=c)return(s=this.getAttribute(t))===(a=c+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,c));this.removeAttribute(t)}}function kx(t,e,n){var i,r,o;return function(){var s,a,c=n(this);if(null!=c)return(s=this.getAttributeNS(t.space,t.local))===(a=c+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,c));this.removeAttributeNS(t.space,t.local)}}function Ix(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ax(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Nx(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Ax(t,r)),n}return r._value=e,r}function Px(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Ix(t,r)),n}return r._value=e,r}function Rx(t,e){return function(){ox(this,t).delay=+e.apply(this,arguments)}}function Dx(t,e){return e=+e,function(){ox(this,t).delay=e}}function Mx(t,e){return function(){sx(this,t).duration=+e.apply(this,arguments)}}function jx(t,e){return e=+e,function(){sx(this,t).duration=e}}function Lx(t,e){if("function"!=typeof e)throw new Error;return function(){sx(this,t).ease=e}}function Fx(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ox:sx;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}var Vx=WE.prototype.constructor;function Ux(t){return function(){this.style.removeProperty(t)}}function Bx(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function zx(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&Bx(t,o,n)),i}return o._value=e,o}function qx(t){return function(e){this.textContent=t.call(this,e)}}function Wx(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&qx(i)),e}return i._value=t,i}var Hx=0;function Gx(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Qx(){return++Hx}var Kx=WE.prototype;Gx.prototype=(function(t){return WE().transition(t)}).prototype={constructor:Gx,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Mw(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,c,l=i[s],u=l.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=l[d])&&(c=t.call(a,a.__data__,d,l))&&("__data__"in a&&(c.__data__=a.__data__),h[d]=c,rx(h[d],e,n,d,h,ax(a,n)));return new Gx(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Lw(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var c,l=i[a],u=l.length,h=0;h<u;++h)if(c=l[h]){for(var d,f=t.call(c,c.__data__,h,l),p=ax(c,n),m=0,g=f.length;m<g;++m)(d=f[m])&&rx(d,e,n,m,f,p);o.push(f),s.push(c)}return new Gx(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=Fw(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,c=i[r]=[],l=0;l<a;++l)(o=s[l])&&t.call(o,o.__data__,l,s)&&c.push(o);return new Gx(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=Math.min(i,n.length),o=new Array(i),s=0;s<r;++s)for(var a,c=e[s],l=n[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d]||l[d])&&(h[d]=a);for(;s<i;++s)o[s]=e[s];return new Gx(o,this._parents,this._name,this._id)},selection:function(){return new Vx(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Qx(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],c=a.length,l=0;l<c;++l)if(s=a[l]){var u=ax(s,e);rx(s,t,n,l,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Gx(i,this._parents,t,n)},call:Kx.call,nodes:Kx.nodes,node:Kx.node,size:Kx.size,empty:Kx.empty,each:Kx.each,on:function(t,e){var n=this._id;return arguments.length<2?ax(this.node(),n).on.on(t):this.each(Fx(n,t,e))},attr:function(t,e){var n=Gw(t),i="transform"===n?vx:Ex;return this.attrTween(t,"function"==typeof e?(n.local?kx:Tx)(n,i,wx(this,"attr."+t,e)):null==e?(n.local?xx:Cx)(n):(n.local?Ox:Sx)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Gw(t);return this.tween(n,(i.local?Nx:Px)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?yx:Ex;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=iE(this,t),s=(this.style.removeProperty(t),iE(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}(t,i)).on("end.style."+t,Ux(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var s=iE(this,t),a=n(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=iE(this,t)),s===c?null:s===i&&c===r?o:(r=c,o=e(i=s,a))}}(t,i,wx(this,"style."+t,e))).each(function(t,e){var n,i,r,o,s="style."+e,a="end."+s;return function(){var c=sx(this,t),l=c.on,u=null==c.value[s]?o||(o=Ux(e)):void 0;l===n&&r===u||(i=(n=l).copy()).on(a,r=u),c.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var s=iE(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,zx(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(wx(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Wx(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=ax(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?_x:bx)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Rx:Dx)(e,t)):ax(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Mx:jx)(e,t)):ax(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Lx(e,t)):ax(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,s){var a={value:s},c={value:function(){0==--r&&o()}};n.each((function(){var n=sx(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),n.on=e}))}))}};var $x={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Yx(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return $x.time=KC(),$x;return n}function Xx(t){return{type:t}}WE.prototype.interrupt=function(t){return this.each((function(){dx(this,t)}))},WE.prototype.transition=function(t){var e,n;t instanceof Gx?(e=t._id,t=t._name):(e=Qx(),(n=$x).time=KC(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],c=a.length,l=0;l<c;++l)(s=a[l])&&rx(s,t,e,l,a,n||Yx(s,e));return new Gx(i,this._parents,t,e)},["w","e"].map(Xx),["n","s"].map(Xx),["n","w","e","s","nw","ne","sw","se"].map(Xx),Math,Math,Math,Math;var Zx=Math.PI,Jx=2*Zx,tS=Jx-1e-6;function eS(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function nS(){}function iS(t,e){var n=new nS;if(t instanceof nS)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}eS.prototype=(function(){return new eS}).prototype={constructor:eS,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){var o=this._x1,s=this._y1,a=(n=+n)-(t=+t),c=(i=+i)-(e=+e),l=o-t,u=s-e,h=l*l+u*u;if((r=+r)<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(u*a-c*l)>1e-6&&r){var d=n-o,f=i-s,p=a*a+c*c,m=d*d+f*f,g=Math.sqrt(p),y=Math.sqrt(h),v=r*Math.tan((Zx-Math.acos((p+h-m)/(2*g*y)))/2),_=v/y,b=v/g;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*l)+","+(e+_*u)),this._+="A"+r+","+r+",0,0,"+ +(u*d>l*f)+","+(this._x1=t+b*a)+","+(this._y1=e+b*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,i,r,o){t=+t,e=+e,o=!!o;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),c=t+s,l=e+a,u=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+c+","+l),n&&(h<0&&(h=h%Jx+Jx),h>tS?this._+="A"+n+","+n+",0,1,"+u+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Zx)+","+u+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}},nS.prototype=iS.prototype={constructor:nS,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var rS=iS;function oS(){}var sS=rS.prototype;oS.prototype=(function(t,e){var n=new oS;if(t instanceof oS)t.each((function(t){n.add(t)}));else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}).prototype={constructor:oS,has:sS.has,add:function(t){return this["$"+(t+="")]=t,this},remove:sS.remove,clear:sS.clear,values:sS.keys,size:sS.size,empty:sS.empty,each:sS.each};var aS={},cS={};function lS(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function uS(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function hS(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}var dS=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,s=0,a=0,c=o<=0,l=!1;function u(){if(c)return cS;if(l)return l=!1,aS;var e,i,r=s;if(34===t.charCodeAt(r)){for(;s++<o&&34!==t.charCodeAt(s)||34===t.charCodeAt(++s););return(e=s)>=o?c=!0:10===(i=t.charCodeAt(s++))?l=!0:13===i&&(l=!0,10===t.charCodeAt(s)&&++s),t.slice(r+1,e-1).replace(/""/g,'"')}for(;s<o;){if(10===(i=t.charCodeAt(e=s++)))l=!0;else if(13===i)l=!0,10===t.charCodeAt(s)&&++s;else if(i!==n)continue;return t.slice(r,e)}return c=!0,t.slice(r,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(i=u())!==cS;){for(var h=[];i!==aS&&i!==cS;)h.push(i),i=u();e&&null==(h=e(h,a++))||r.push(h)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return s(e[t])})).join(t)}))}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?(r=(n=t).getUTCHours(),o=n.getUTCMinutes(),s=n.getUTCSeconds(),a=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((i=n.getUTCFullYear())<0?"-"+hS(-i,6):i>9999?"+"+hS(i,6):hS(i,4))+"-"+hS(n.getUTCMonth()+1,2)+"-"+hS(n.getUTCDate(),2)+(a?"T"+hS(r,2)+":"+hS(o,2)+":"+hS(s,2)+"."+hS(a,3)+"Z":s?"T"+hS(r,2)+":"+hS(o,2)+":"+hS(s,2)+"Z":o||r?"T"+hS(r,2)+":"+hS(o,2)+"Z":"")):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t;var n,i,r,o,s,a}return{parse:function(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=lS(t);return function(i,r){return e(n(i),r,t)}}(t,e):lS(t)}));return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=uS(e)),[n.map(s).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=uS(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:s}},fS=dS(",").parse,pS=dS("\t").parse;function mS(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var gS=function(t,e){return fetch(t,e).then(mS)};function yS(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),gS(e,n).then((function(e){return t(e,i)}))}}function vS(t){return function(e,n){return gS(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}yS(fS),yS(pS),vS("application/xml"),vS("text/html"),vS("image/svg+xml");var _S=function(t,e){var n;function i(){var i,r,o=n.length,s=0,a=0;for(i=0;i<o;++i)s+=(r=n[i]).x,a+=r.y;for(s=s/o-t,a=a/o-e,i=0;i<o;++i)(r=n[i]).x-=s,r.y-=a}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i},bS=function(t){return function(){return t}},wS=function(){return 1e-6*(Math.random()-.5)};function ES(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,c,l,u,h,d,f=t._root,p={data:i},m=t._x0,g=t._y0,y=t._x1,v=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((l=e>=(o=(m+y)/2))?m=o:y=o,(u=n>=(s=(g+v)/2))?g=s:v=s,r=f,!(f=f[h=u<<1|l]))return r[h]=p,t;if(a=+t._x.call(null,f.data),c=+t._y.call(null,f.data),e===a&&n===c)return p.next=f,r?r[h]=p:t._root=p,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(m+y)/2))?m=o:y=o,(u=n>=(s=(g+v)/2))?g=s:v=s}while((h=u<<1|l)==(d=(c>=s)<<1|a>=o));return r[d]=f,r[h]=p,t}var CS=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function xS(t){return t[0]}function SS(t){return t[1]}function OS(t,e,n){var i=new TS(null==e?xS:e,null==n?SS:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function TS(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function kS(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var IS=OS.prototype=TS.prototype;function AS(t){return t.x+t.vx}function NS(t){return t.y+t.vy}function PS(t){return t.index}function RS(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}IS.copy=function(){var t,e,n=new TS(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=kS(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=kS(e));return n},IS.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return ES(this.cover(e,n),e,n,t)},IS.addAll=function(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),c=1/0,l=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,i<c&&(c=i),i>u&&(u=i),r<l&&(l=r),r>h&&(h=r));if(c>u||l>h)return this;for(this.cover(c,l).cover(u,h),n=0;n<o;++n)ES(this,s[n],a[n],t[n]);return this},IS.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var s,a,c=r-n,l=this._root;n>t||t>=r||i>e||e>=o;)switch(a=(e<i)<<1|t<n,(s=new Array(4))[a]=l,l=s,c*=2,a){case 0:r=n+c,o=i+c;break;case 1:n=r-c,o=i+c;break;case 2:r=n+c,i=o-c;break;case 3:n=r-c,i=o-c}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},IS.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},IS.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},IS.find=function(t,e,n){var i,r,o,s,a,c,l,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new CS(m,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);c=p.pop();)if(!(!(m=c.node)||(r=c.x0)>d||(o=c.y0)>f||(s=c.x1)<u||(a=c.y1)<h))if(m.length){var g=(r+s)/2,y=(o+a)/2;p.push(new CS(m[3],g,y,s,a),new CS(m[2],r,y,g,a),new CS(m[1],g,o,s,y),new CS(m[0],r,o,g,y)),(l=(e>=y)<<1|t>=g)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=c)}else{var v=t-+this._x.call(null,m.data),_=e-+this._y.call(null,m.data),b=v*v+_*_;if(b<n){var w=Math.sqrt(n=b);u=t-w,h=e-w,d=t+w,f=e+w,i=m.data}}return i},IS.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,c,l,u,h,d,f=this._root,p=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((l=o>=(a=(p+g)/2))?p=a:g=a,(u=s>=(c=(m+y)/2))?m=c:y=c,e=f,!(f=f[h=u<<1|l]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(i=f,!(f=f.next))return this;return(r=f.next)&&delete f.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=r,this)},IS.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},IS.root=function(){return this._root},IS.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},IS.visit=function(t){var e,n,i,r,o,s,a=[],c=this._root;for(c&&a.push(new CS(c,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(c=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&c.length){var l=(i+o)/2,u=(r+s)/2;(n=c[3])&&a.push(new CS(n,l,u,o,s)),(n=c[2])&&a.push(new CS(n,i,u,l,s)),(n=c[1])&&a.push(new CS(n,l,r,o,u)),(n=c[0])&&a.push(new CS(n,i,r,l,u))}return this},IS.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new CS(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,c=e.x1,l=e.y1,u=(s+c)/2,h=(a+l)/2;(o=r[0])&&n.push(new CS(o,s,a,u,h)),(o=r[1])&&n.push(new CS(o,u,a,c,h)),(o=r[2])&&n.push(new CS(o,s,h,u,l)),(o=r[3])&&n.push(new CS(o,u,h,c,l))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},IS.x=function(t){return arguments.length?(this._x=t,this):this._x},IS.y=function(t){return arguments.length?(this._y=t,this):this._y};var DS=function(t){var e,n,i,r,o,s=PS,a=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},c=bS(30),l=1;function u(i){for(var r=0,s=t.length;r<l;++r)for(var a,c,u,h,d,f,p,m=0;m<s;++m)h=(u=(a=t[m]).target).x+u.vx-(c=a.source).x-c.vx||wS(),d=u.y+u.vy-c.y-c.vy||wS(),d*=f=((f=Math.sqrt(h*h+d*d))-n[m])/f*i*e[m],u.vx-=(h*=f)*(p=o[m]),u.vy-=d*p,c.vx+=h*(p=1-p),c.vy+=d*p}function h(){if(i){var a,c,l=i.length,u=t.length,h=rS(i,s);for(a=0,r=new Array(l);a<u;++a)(c=t[a]).index=a,"object"!=typeof c.source&&(c.source=RS(h,c.source)),"object"!=typeof c.target&&(c.target=RS(h,c.target)),r[c.source.index]=(r[c.source.index]||0)+1,r[c.target.index]=(r[c.target.index]||0)+1;for(a=0,o=new Array(u);a<u;++a)o[a]=r[(c=t[a]).source.index]/(r[c.source.index]+r[c.target.index]);e=new Array(u),d(),n=new Array(u),f()}}function d(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+a(t[n],n,t)}function f(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),u.initialize=function(t){i=t,h()},u.links=function(e){return arguments.length?(t=e,h(),u):t},u.id=function(t){return arguments.length?(s=t,u):s},u.iterations=function(t){return arguments.length?(l=+t,u):l},u.strength=function(t){return arguments.length?(a="function"==typeof t?t:bS(+t),d(),u):a},u.distance=function(t){return arguments.length?(c="function"==typeof t?t:bS(+t),f(),u):c},u};function MS(t){return t.x}function jS(t){return t.y}var LS=Math.PI*(3-Math.sqrt(5)),FS=function(){return Math.random()},VS=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(FS),function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(FS)),US=(function t(e){function n(){var t=VS.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(FS),function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(FS));(function t(e){function n(t){var n=US.source(e)(t);return function(){return n()/t}}return n.source=t,n})(FS),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(FS);var BS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zS(t){if(!(e=BS.exec(t)))throw new Error("invalid format: "+t);var e;return new qS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function qS(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}zS.prototype=qS.prototype,qS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var WS,HS=Array.prototype.map;void 0===(WS={decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}).grouping||void 0===WS.thousands||HS.call(WS.grouping,Number),void 0===WS.numerals||HS.call(WS.numerals,String);var GS=new Date,QS=new Date;function KS(t,e,n,i){function r(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return r.floor=function(e){return t(e=new Date(+e)),e},r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<i);return a},r.filter=function(n){return KS((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return GS.setTime(+e),QS.setTime(+i),t(GS),t(QS),Math.floor(n(GS,QS))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var $S=KS((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));$S.every=function(t){return isFinite(t=Math.floor(t))&&t>0?KS((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var YS=$S;function XS(t){return KS((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}KS((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));var ZS=XS(0),JS=XS(1),tO=(XS(2),XS(3),XS(4)),eO=(XS(5),XS(6),KS((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1}))),nO=(KS((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),KS((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),KS((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),KS((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t})));function iO(t){return KS((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}nO.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?KS((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):nO:null};var rO=iO(0),oO=iO(1),sO=(iO(2),iO(3),iO(4)),aO=(iO(5),iO(6),KS((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}))),cO=KS((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));cO.every=function(t){return isFinite(t=Math.floor(t))&&t>0?KS((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var lO=cO;var uO={"-":"",_:" ",0:"0"},hO=/[\\^$*+?|[\]().{}]/g;function dO(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function fO(t){return t.replace(hO,"\\$&")}function pO(t){return new RegExp("^(?:"+t.map(fO).join("|")+")","i")}function mO(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function gO(t,e){return dO(t.getDate(),e,2)}function yO(t,e){return dO(t.getHours(),e,2)}function vO(t,e){return dO(t.getHours()%12||12,e,2)}function _O(t,e){return dO(1+eO.count(YS(t),t),e,3)}function bO(t,e){return dO(t.getMilliseconds(),e,3)}function wO(t,e){return bO(t,e)+"000"}function EO(t,e){return dO(t.getMonth()+1,e,2)}function CO(t,e){return dO(t.getMinutes(),e,2)}function xO(t,e){return dO(t.getSeconds(),e,2)}function SO(t){var e=t.getDay();return 0===e?7:e}function OO(t,e){return dO(ZS.count(YS(t)-1,t),e,2)}function TO(t,e){var n=t.getDay();return t=n>=4||0===n?tO(t):tO.ceil(t),dO(tO.count(YS(t),t)+(4===YS(t).getDay()),e,2)}function kO(t){return t.getDay()}function IO(t,e){return dO(JS.count(YS(t)-1,t),e,2)}function AO(t,e){return dO(t.getFullYear()%100,e,2)}function NO(t,e){return dO(t.getFullYear()%1e4,e,4)}function PO(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dO(e/60|0,"0",2)+dO(e%60,"0",2)}function RO(t,e){return dO(t.getUTCDate(),e,2)}function DO(t,e){return dO(t.getUTCHours(),e,2)}function MO(t,e){return dO(t.getUTCHours()%12||12,e,2)}function jO(t,e){return dO(1+aO.count(lO(t),t),e,3)}function LO(t,e){return dO(t.getUTCMilliseconds(),e,3)}function FO(t,e){return LO(t,e)+"000"}function VO(t,e){return dO(t.getUTCMonth()+1,e,2)}function UO(t,e){return dO(t.getUTCMinutes(),e,2)}function BO(t,e){return dO(t.getUTCSeconds(),e,2)}function zO(t){var e=t.getUTCDay();return 0===e?7:e}function qO(t,e){return dO(rO.count(lO(t)-1,t),e,2)}function WO(t,e){var n=t.getUTCDay();return t=n>=4||0===n?sO(t):sO.ceil(t),dO(sO.count(lO(t),t)+(4===lO(t).getUTCDay()),e,2)}function HO(t){return t.getUTCDay()}function GO(t,e){return dO(oO.count(lO(t)-1,t),e,2)}function QO(t,e){return dO(t.getUTCFullYear()%100,e,2)}function KO(t,e){return dO(t.getUTCFullYear()%1e4,e,4)}function $O(){return"+0000"}function YO(){return"%"}function XO(t){return+t}function ZO(t){return Math.floor(+t/1e3)}(function(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,s=t.shortDays,a=t.months,c=t.shortMonths,l=(pO(r),mO(r),pO(o),mO(o),pO(s),mO(s),pO(a),mO(a),pO(c),mO(c),{a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:gO,e:gO,f:wO,H:yO,I:vO,j:_O,L:bO,m:EO,M:CO,p:function(t){return r[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:XO,s:ZO,S:xO,u:SO,U:OO,V:TO,w:kO,W:IO,x:null,X:null,y:AO,Y:NO,Z:PO,"%":YO}),u={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:RO,e:RO,f:FO,H:DO,I:MO,j:jO,L:LO,m:VO,M:UO,p:function(t){return r[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:XO,s:ZO,S:BO,u:zO,U:qO,V:WO,w:HO,W:GO,x:null,X:null,y:QO,Y:KO,Z:$O,"%":YO};function h(t,e){return function(n){var i,r,o,s=[],a=-1,c=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++a<l;)37===t.charCodeAt(a)&&(s.push(t.slice(c,a)),null!=(r=uO[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),c=a+1);return s.push(t.slice(c,a)),s.join("")}}l.x=h(n,l),l.X=h(i,l),l.c=h(e,l),u.x=h(n,u),u.X=h(i,u),u.c=h(e,u)})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),KS((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),KS((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),KS((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()}));var JO=function(t){return"string"==typeof t?new zE([document.querySelectorAll(t)],[document.documentElement]):new zE([null==t?[]:t],BE)};function tT(){this._=null}function eT(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function nT(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function iT(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function rT(t){for(;t.L;)t=t.L;return t}tT.prototype={constructor:tT,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=rT(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(nT(this,n),n=(t=n).U),n.C=!1,i.C=!0,iT(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(iT(this,n),n=(t=n).U),n.C=!1,i.C=!0,nT(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?rT(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,r.L=t=n.R,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,nT(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,iT(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,nT(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,iT(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,nT(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,iT(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var oT=tT;function sT(t,e,n,i){var r=[null,null],o=AT.push(r)-1;return r.left=t,r.right=e,n&&cT(r,t,e,n),i&&cT(r,e,t,i),kT[t.index].halfedges.push(o),kT[e.index].halfedges.push(o),r}function aT(t,e,n){var i=[e,n];return i.left=t,i}function cT(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function lT(t,e,n,i,r){var o,s=t[0],a=t[1],c=s[0],l=s[1],u=0,h=1,d=a[0]-c,f=a[1]-l;if(o=e-c,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>u&&(u=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<h&&(h=o)}if(o=n-l,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>u&&(u=o)}if(o=r-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<h&&(h=o)}return!(u>0||h<1)||(u>0&&(t[0]=[c+u*d,l+u*f]),h<1&&(t[1]=[c+h*d,l+h*f]),!0)}}}}}function uT(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,c=t[0],l=t.left,u=t.right,h=l[0],d=l[1],f=u[0],p=u[1],m=(h+f)/2;if(p===d){if(m<e||m>=i)return;if(h>f){if(c){if(c[1]>=r)return}else c=[m,n];o=[m,r]}else{if(c){if(c[1]<n)return}else c=[m,r];o=[m,n]}}else if(a=(d+p)/2-(s=(h-f)/(p-d))*m,s<-1||s>1)if(h>f){if(c){if(c[1]>=r)return}else c=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(c){if(c[1]<n)return}else c=[(r-a)/s,r];o=[(n-a)/s,n]}else if(d<p){if(c){if(c[0]>=i)return}else c=[e,s*e+a];o=[i,s*i+a]}else{if(c){if(c[0]<e)return}else c=[i,s*i+a];o=[e,s*e+a]}return t[0]=c,t[1]=o,!0}function hT(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function dT(t,e){return e[+(e.left!==t.site)]}function fT(t,e){return e[+(e.left===t.site)]}var pT,mT=[];function gT(){eT(this),this.x=this.y=this.arc=this.site=this.cy=null}function yT(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],c=i[0]-s,l=i[1]-a,u=o[0]-s,h=o[1]-a,d=2*(c*h-l*u);if(!(d>=-PT)){var f=c*c+l*l,p=u*u+h*h,m=(h*f-l*p)/d,g=(c*p-u*f)/d,y=mT.pop()||new gT;y.arc=t,y.site=r,y.x=m+s,y.y=(y.cy=g+a)+Math.sqrt(m*m+g*g),t.circle=y;for(var v=null,_=IT._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}IT.insert(v,y),v||(pT=y)}}}}function vT(t){var e=t.circle;e&&(e.P||(pT=e.N),IT.remove(e),mT.push(e),eT(e),t.circle=null)}var _T=[];function bT(){eT(this),this.edge=this.site=this.circle=null}function wT(t){var e=_T.pop()||new bT;return e.site=t,e}function ET(t){vT(t),TT.remove(t),_T.push(t),eT(t)}function CT(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];ET(t);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<NT&&Math.abs(i-c.circle.cy)<NT;)o=c.P,a.unshift(c),ET(c),c=o;a.unshift(c),vT(c);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<NT&&Math.abs(i-l.circle.cy)<NT;)s=l.N,a.push(l),ET(l),l=s;a.push(l),vT(l);var u,h=a.length;for(u=1;u<h;++u)cT((l=a[u]).edge,(c=a[u-1]).site,l.site,r);(l=a[h-1]).edge=sT((c=a[0]).site,l.site,null,r),yT(c),yT(l)}function xT(t){for(var e,n,i,r,o=t[0],s=t[1],a=TT._;a;)if((i=ST(a,s)-o)>NT)a=a.L;else{if(!((r=o-OT(a,s))>NT)){i>-NT?(e=a.P,n=a):r>-NT?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){kT[t.index]={site:t,halfedges:[]}}(t);var c=wT(t);if(TT.insert(e,c),e||n){if(e===n)return vT(e),n=wT(e.site),TT.insert(c,n),c.edge=n.edge=sT(e.site,c.site),yT(e),void yT(n);if(n){vT(e),vT(n);var l=e.site,u=l[0],h=l[1],d=t[0]-u,f=t[1]-h,p=n.site,m=p[0]-u,g=p[1]-h,y=2*(d*g-f*m),v=d*d+f*f,_=m*m+g*g,b=[(g*v-f*_)/y+u,(d*_-m*v)/y+h];cT(n.edge,l,p,b),c.edge=sT(l,t,null,b),n.edge=sT(t,p,null,b),yT(e),yT(n)}else c.edge=sT(e.site,c.site)}}function ST(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],c=n[1],l=c-e;if(!l)return a;var u=a-i,h=1/o-1/l,d=u/l;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*l)-c+l/2+r-o/2)))/h+i:(i+a)/2}function OT(t,e){var n=t.N;if(n)return ST(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var TT,kT,IT,AT,NT=1e-6,PT=1e-12;function RT(t,e){return e[1]-t[1]||e[0]-t[0]}function DT(t,e){var n,i,r,o=t.sort(RT).pop();for(AT=[],kT=new Array(t.length),TT=new oT,IT=new oT;;)if(r=pT,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(xT(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;CT(r.arc)}if(function(){for(var t,e,n,i,r=0,o=kT.length;r<o;++r)if((t=kT[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=hT(t,AT[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],c=+e[1][0],l=+e[1][1];!function(t,e,n,i){for(var r,o=AT.length;o--;)uT(r=AT[o],t,e,n,i)&&lT(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>NT||Math.abs(r[0][1]-r[1][1])>NT)||delete AT[o]}(s,a,c,l),function(t,e,n,i){var r,o,s,a,c,l,u,h,d,f,p,m,g=kT.length,y=!0;for(r=0;r<g;++r)if(o=kT[r]){for(s=o.site,a=(c=o.halfedges).length;a--;)AT[c[a]]||c.splice(a,1);for(a=0,l=c.length;a<l;)p=(f=fT(o,AT[c[a]]))[0],m=f[1],h=(u=dT(o,AT[c[++a%l]]))[0],d=u[1],(Math.abs(p-h)>NT||Math.abs(m-d)>NT)&&(c.splice(a,0,AT.push(aT(s,f,Math.abs(p-t)<NT&&i-m>NT?[t,Math.abs(h-t)<NT?d:i]:Math.abs(m-i)<NT&&n-p>NT?[Math.abs(d-i)<NT?h:n,i]:Math.abs(p-n)<NT&&m-e>NT?[n,Math.abs(h-n)<NT?d:e]:Math.abs(m-e)<NT&&p-t>NT?[Math.abs(d-e)<NT?h:t,e]:null))-1),++l);l&&(y=!1)}if(y){var v,_,b,w=1/0;for(r=0,y=null;r<g;++r)(o=kT[r])&&(b=(v=(s=o.site)[0]-t)*v+(_=s[1]-e)*_)<w&&(w=b,y=o);if(y){var E=[t,e],C=[t,i],x=[n,i],S=[n,e];y.halfedges.push(AT.push(aT(s=y.site,E,C))-1,AT.push(aT(s,C,x))-1,AT.push(aT(s,x,S))-1,AT.push(aT(s,S,E))-1)}}for(r=0;r<g;++r)(o=kT[r])&&(o.halfedges.length||delete kT[r])}(s,a,c,l)}this.edges=AT,this.cells=kT,TT=IT=AT=kT=null}DT.prototype={constructor:DT,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return dT(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a,c,l,u=n.site,h=-1,d=e[r[o-1]],f=d.left===u?d.right:d.left;++h<o;)s=f,f=(d=e[r[h]]).left===u?d.right:d.left,s&&f&&i<s.index&&i<f.index&&((a=u)[0]-(l=f)[0])*((c=s)[1]-a[1])-(a[0]-c[0])*(l[1]-a[1])<0&&t.push([u.data,s.data,f.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var c=t-r.site[0],l=e-r.site[1],u=c*c+l*l;do{r=o.cells[i=s],s=null,r.halfedges.forEach((function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var c=t-a[0],l=e-a[1],h=c*c+l*l;h<u&&(u=h,s=a.index)}}))}while(null!==s);return o._found=i,null==n||u<=n*n?r.site:null}};var MT=Math.SQRT2;function jT(t){return((t=Math.exp(t))+1/t)/2}var LT=function(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[2],c=e[0]-r,l=e[1]-o,u=c*c+l*l;if(u<1e-12)i=Math.log(a/s)/MT,n=function(t){return[r+t*c,o+t*l,s*Math.exp(MT*t*i)]};else{var h=Math.sqrt(u),d=(a*a-s*s+4*u)/(2*s*2*h),f=(a*a-s*s-4*u)/(2*a*2*h),p=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(f*f+1)-f);i=(m-p)/MT,n=function(t){var e,n=t*i,a=jT(p),u=s/(2*h)*(a*(e=MT*n+p,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(p));return[r+u*c,o+u*l,s*a/jT(MT*n+p)]}}return n.duration=1e3*i,n},FT=function(t){return function(){return t}};function VT(t,e,n){this.target=t,this.type=e,this.transform=n}function UT(t,e,n){this.k=t,this.x=e,this.y=n}UT.prototype={constructor:UT,scale:function(t){return 1===t?this:new UT(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new UT(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var BT=new UT(1,0,0);function zT(){NE.stopImmediatePropagation()}var qT=function(){NE.preventDefault(),NE.stopImmediatePropagation()};function WT(){return!NE.ctrlKey&&!NE.button}function HT(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function GT(){return this.__zoom||BT}function QT(){return-NE.deltaY*(1===NE.deltaMode?.05:NE.deltaMode?1:.002)}function KT(){return navigator.maxTouchPoints||"ontouchstart"in this}function $T(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}class YT{constructor(t,e,n,r){this.store=t,this.ticker=new i.o,this.nodes=[],this.links=[],this.store.dispatch(new Ib({value:!1})),this.store.dispatch(new Ob({value:2})),this.nodes=e,this.links=n,this.options=r,this.initSimulation(r)}initNodes(){if(!this.simulation)throw new Error("simulation was not initialized yet");this.nodes.map((t,e)=>{t.color2=0==e?"red":"black"}),this.simulation.nodes(this.nodes)}initNodes2(t){if(JO("nodeG").exit().remove(),!this.simulation)throw new Error("simulation was not initialized yet");t.map(t=>t.color2="black"),this.simulation.nodes(t)}initLinks(){if(!this.simulation)throw new Error("simulation was not initialized yet");this.simulation.force("links",DS(this.links).id(t=>t.id).distance(1).strength(2))}initLinks2(t){if(JO("link").exit().remove(),!this.simulation)throw new Error("simulation was not initialized yet");console.log(t),this.simulation.force("links",DS(t).id(t=>t.id).distance(1).strength(2))}initSimulation(t){if(!t||!t.width||!t.height)throw new Error("missing options when initializing simulation");if(JO("nodeG").exit().remove(),JO("link").exit().remove(),!this.simulation){const e=this.ticker;this.simulation=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,s=.6,a=rS(),c=XC(u),l=Rw("tick","end");function u(){h(),l.call("tick",e),n<i&&(c.stop(),l.call("end",e))}function h(i){var c,l,u=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(o-n)*r,a.each((function(t){t(n)})),c=0;c<u;++c)null==(l=t[c]).fx?l.x+=l.vx*=s:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=s:(l.y=l.fy,l.vy=0);return e}function d(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(n),o=n*LS;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function f(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return c.restart(u),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),a.each(f),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},force:function(t,n){return arguments.length>1?(null==n?a.remove(t):a.set(t,f(n)),e):a.get(t)},find:function(e,n,i){var r,o,s,a,c,l=0,u=t.length;for(null==i?i=1/0:i*=i,l=0;l<u;++l)(s=(r=e-(a=t[l]).x)*r+(o=n-a.y)*o)<i&&(c=a,i=s);return c},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}}(),this.simulation.force("link",DS().distance(50)).force("collide",function(t){var e,n,i=1,r=1;function o(){for(var t,o,a,c,l,u,h,d=e.length,f=0;f<r;++f)for(o=OS(e,AS,NS).visitAfter(s),t=0;t<d;++t)h=(u=n[(a=e[t]).index])*u,c=a.x+a.vx,l=a.y+a.vy,o.visit(p);function p(t,e,n,r,o){var s=t.data,d=t.r,f=u+d;if(!s)return e>c+f||r<c-f||n>l+f||o<l-f;if(s.index>a.index){var p=c-s.x-s.vx,m=l-s.y-s.vy,g=p*p+m*m;g<f*f&&(0===p&&(g+=(p=wS())*p),0===m&&(g+=(m=wS())*m),g=(f-(g=Math.sqrt(g)))/g*i,a.vx+=(p*=g)*(f=(d*=d)/(h+d)),a.vy+=(m*=g)*f,s.vx-=p*(f=1-f),s.vy-=m*f)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function a(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)n[(r=e[i]).index]=+t(r,i,e)}}return"function"!=typeof t&&(t=bS(null==t?1:+t)),o.initialize=function(t){e=t,a()},o.iterations=function(t){return arguments.length?(r=+t,o):r},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:bS(+e),a(),o):t},o}((function(t){return 10})).iterations(16)).force("charge",function(){var t,e,n,i,r=bS(-30),o=1,s=1/0,a=.81;function c(i){var r,o=t.length,s=OS(t,MS,jS).visitAfter(u);for(n=i,r=0;r<o;++r)e=t[r],s.visit(h)}function l(){if(t){var e,n,o=t.length;for(i=new Array(o),e=0;e<o;++e)i[(n=t[e]).index]=+r(n,e,t)}}function u(t){var e,n,r,o,s,a=0,c=0;if(t.length){for(r=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,c+=n,r+=n*e.x,o+=n*e.y);t.x=r/c,t.y=o/c}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=i[e.data.index]}while(e=e.next)}t.value=a}function h(t,r,c,l){if(!t.value)return!0;var u=t.x-e.x,h=t.y-e.y,d=l-r,f=u*u+h*h;if(d*d/a<f)return f<s&&(0===u&&(f+=(u=wS())*u),0===h&&(f+=(h=wS())*h),f<o&&(f=Math.sqrt(o*f)),e.vx+=u*t.value*n/f,e.vy+=h*t.value*n/f),!0;if(!(t.length||f>=s)){(t.data!==e||t.next)&&(0===u&&(f+=(u=wS())*u),0===h&&(f+=(h=wS())*h),f<o&&(f=Math.sqrt(o*f)));do{t.data!==e&&(e.vx+=u*(d=i[t.data.index]*n/f),e.vy+=h*d)}while(t=t.next)}}return c.initialize=function(e){t=e,l()},c.strength=function(t){return arguments.length?(r="function"==typeof t?t:bS(+t),l(),c):r},c.distanceMin=function(t){return arguments.length?(o=t*t,c):Math.sqrt(o)},c.distanceMax=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.theta=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c}().strength(-2e3)).force("center",_S(t.width/2,t.height/2)).force("y",function(t){var e,n,i,r=bS(.1);function o(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=bS(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:bS(+t),s(),o):r},o.y=function(e){return arguments.length?(t="function"==typeof e?e:bS(+e),s(),o):t},o}(0)).force("x",function(t){var e,n,i,r=bS(.1);function o(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=bS(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:bS(+t),s(),o):r},o.x=function(e){return arguments.length?(t="function"==typeof e?e:bS(+e),s(),o):t},o}(0)),this.simulation.on("tick",(function(){e.emit(this)})),this.initNodes(),this.initLinks()}this.simulation.force("centers",_S(t.width/2,t.height/2)),this.simulation.restart()}}var XT=function(t){return function(){return t}};function ZT(t,e,n,i,r,o,s,a,c,l){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=c,this._=l}function JT(){return!NE.ctrlKey&&!NE.button}function tk(){return this.parentNode}function ek(t){return null==t?{x:NE.x,y:NE.y}:t}function nk(){return navigator.maxTouchPoints||"ontouchstart"in this}ZT.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};let ik=(()=>{class t{constructor(t,e,n){this.store=t,this.afs=e,this.notificationService=n,this.initD3Service=(t,e)=>{this.ref=e,console.log("D3Service Initiated"),this.subscription_graph=this.store.pipe(Object(_r.a)(1)).subscribe(t=>{let e=""+t.GameMeta.game_key,n=Pb(t);console.log("Store change"),console.log("games"),console.log(n);let i=t.GameMeta.games.entities[e];this.store.dispatch(new mb({graph:{nodes:i.nodes,links:i.links}}))})},this.initD3Service2=()=>{console.log("initD3Service2"),this.subscription_graph=this.store.pipe(Object(_r.a)(1)).subscribe(t=>{let e=""+t.GameMeta.game_key,n=Pb(t);console.log("Store change"),console.log("games"),console.log(n);let i=t.GameMeta.games.entities[e];this.store.dispatch(new mb({graph:{nodes:i.nodes,links:i.links}}))})},this.setForceDirectedGraph=t=>{this.sg=new YT(this.store,this.nodes,this.links,t),this.sg.ticker.subscribe(t=>{this.ref.markForCheck()})},this.changeForceDirectedGraph=(t,e)=>{},this.changeColor=(t,e)=>this.toggle%2?"red":"blue",this.toggle_color=()=>{this.toggle=0==this.toggle?1:0,console.log(this.sg.nodes),console.log(JO(".node").data(this.sg.nodes)),JO(".node").attr("fill",this.changeColor)},window.myService=this}applyZoomableBehaviour(t,e){let n,i,r,o;n=HE(t),i=HE(e),r=()=>{const t=NE.transform;i.attr("transform","translate("+t.x+","+t.y+") scale("+t.k+")")},o=function(){var t,e,n=WT,i=HT,r=$T,o=QT,s=KT,a=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],l=250,u=LT,h=Rw("start","zoom","end"),d=0;function f(t){t.property("__zoom",GT).on("wheel.zoom",b).on("mousedown.zoom",w).on("dblclick.zoom",E).filter(s).on("touchstart.zoom",C).on("touchmove.zoom",x).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new UT(e,t.x,t.y)}function m(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new UT(t.k,i,r)}function g(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function y(t,e,n){t.on("start.zoom",(function(){v(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){v(this,arguments).end()})).tween("zoom",(function(){var t=this,r=arguments,o=v(t,r),s=i.apply(t,r),a=null==n?g(s):"function"==typeof n?n.apply(t,r):n,c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=t.__zoom,h="function"==typeof e?e.apply(t,r):e,d=u(l.invert(a).concat(c/l.k),h.invert(a).concat(c/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=c/e[2];t=new UT(n,a[0]-e[0]*n,a[1]-e[1]*n)}o.zoom(null,t)}}))}function v(t,e,n){return!n&&t.__zooming||new _(t,e)}function _(t,e){this.that=t,this.args=e,this.active=0,this.extent=i.apply(t,e),this.taps=0}function b(){if(n.apply(this,arguments)){var t=v(this,arguments),e=this.__zoom,i=Math.max(a[0],Math.min(a[1],e.k*Math.pow(2,o.apply(this,arguments)))),s=VC(this);if(t.wheel)t.mouse[0][0]===s[0]&&t.mouse[0][1]===s[1]||(t.mouse[1]=e.invert(t.mouse[0]=s)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[s,e.invert(s)],dx(this),t.start()}qT(),t.wheel=setTimeout(l,150),t.zoom("mouse",r(m(p(e,i),t.mouse[0],t.mouse[1]),t.extent,c))}function l(){t.wheel=null,t.end()}}function w(){if(!e&&n.apply(this,arguments)){var t=v(this,arguments,!0),i=HE(NE.view).on("mousemove.zoom",l,!0).on("mouseup.zoom",u,!0),o=VC(this),s=NE.clientX,a=NE.clientY;KE(NE.view),zT(),t.mouse=[o,this.__zoom.invert(o)],dx(this),t.start()}function l(){if(qT(),!t.moved){var e=NE.clientX-s,n=NE.clientY-a;t.moved=e*e+n*n>d}t.zoom("mouse",r(m(t.that.__zoom,t.mouse[0]=VC(t.that),t.mouse[1]),t.extent,c))}function u(){i.on("mousemove.zoom mouseup.zoom",null),$E(NE.view,t.moved),qT(),t.end()}}function E(){if(n.apply(this,arguments)){var t=this.__zoom,e=VC(this),o=t.invert(e),s=t.k*(NE.shiftKey?.5:2),a=r(m(p(t,s),e,o),i.apply(this,arguments),c);qT(),l>0?HE(this).transition().duration(l).call(y,a,e):HE(this).call(f.transform,a)}}function C(){if(n.apply(this,arguments)){var e,i,r,o,s=NE.touches,a=s.length,c=v(this,arguments,NE.changedTouches.length===a);for(zT(),i=0;i<a;++i)o=[o=FC(this,s,(r=s[i]).identifier),this.__zoom.invert(o),r.identifier],c.touch0?c.touch1||c.touch0[2]===o[2]||(c.touch1=o,c.taps=0):(c.touch0=o,e=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(c.taps<2&&(t=setTimeout((function(){t=null}),500)),dx(this),c.start())}}function x(){if(this.__zooming){var e,n,i,o,s=v(this,arguments),a=NE.changedTouches,l=a.length;for(qT(),t&&(t=clearTimeout(t)),s.taps=0,e=0;e<l;++e)i=FC(this,a,(n=a[e]).identifier),s.touch0&&s.touch0[2]===n.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===n.identifier&&(s.touch1[0]=i);if(n=s.that.__zoom,s.touch1){var u=s.touch0[0],h=s.touch0[1],d=s.touch1[0],f=s.touch1[1],g=(g=d[0]-u[0])*g+(g=d[1]-u[1])*g,y=(y=f[0]-h[0])*y+(y=f[1]-h[1])*y;n=p(n,Math.sqrt(g/y)),i=[(u[0]+d[0])/2,(u[1]+d[1])/2],o=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],o=s.touch0[1]}s.zoom("touch",r(m(n,i,o),s.extent,c))}}function S(){if(this.__zooming){var t,n,i=v(this,arguments),r=NE.changedTouches,o=r.length;for(zT(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),t=0;t<o;++t)n=r[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;if(i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0)i.touch0[1]=this.__zoom.invert(i.touch0[0]);else if(i.end(),2===i.taps){var s=HE(this).on("dblclick.zoom");s&&s.apply(this,arguments)}}}return f.transform=function(t,e,n){var i=t.selection?t.selection():t;i.property("__zoom",GT),t!==i?y(t,e,n):i.interrupt().each((function(){v(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},f.scaleBy=function(t,e,n){f.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},f.scaleTo=function(t,e,n){f.transform(t,(function(){var t=i.apply(this,arguments),o=this.__zoom,s=null==n?g(t):"function"==typeof n?n.apply(this,arguments):n,a=o.invert(s),l="function"==typeof e?e.apply(this,arguments):e;return r(m(p(o,l),s,a),t,c)}),n)},f.translateBy=function(t,e,n){f.transform(t,(function(){return r(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}))},f.translateTo=function(t,e,n,o){f.transform(t,(function(){var t=i.apply(this,arguments),s=this.__zoom,a=null==o?g(t):"function"==typeof o?o.apply(this,arguments):o;return r(BT.translate(a[0],a[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),o)},_.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){LE(new VT(f,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},f.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:FT(+t),f):o},f.filter=function(t){return arguments.length?(n="function"==typeof t?t:FT(!!t),f):n},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:FT(!!t),f):s},f.extent=function(t){return arguments.length?(i="function"==typeof t?t:FT([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),f):i},f.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],f):[a[0],a[1]]},f.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],f):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},f.constrain=function(t){return arguments.length?(r=t,f):r},f.duration=function(t){return arguments.length?(l=+t,f):l},f.interpolate=function(t){return arguments.length?(u=t,f):u},f.on=function(){var t=h.on.apply(h,arguments);return t===h?f:t},f.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,f):Math.sqrt(d)},f}().on("zoom",r),n.call(o)}applyDraggableBehaviour(t,e,n){HE(t).call(function(){var t,e,n,i,r=JT,o=tk,s=ek,a=nk,c={},l=Rw("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(a).on("touchstart.drag",g).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!i&&r.apply(this,arguments)){var s=_("mouse",o.apply(this,arguments),VC,this,arguments);s&&(HE(NE.view).on("mousemove.drag",p,!0).on("mouseup.drag",m,!0),KE(NE.view),GE(),n=!1,t=NE.clientX,e=NE.clientY,s("start"))}}function p(){if(QE(),!n){var i=NE.clientX-t,r=NE.clientY-e;n=i*i+r*r>h}c.mouse("drag")}function m(){HE(NE.view).on("mousemove.drag mouseup.drag",null),$E(NE.view,n),QE(),c.mouse("end")}function g(){if(r.apply(this,arguments)){var t,e,n=NE.changedTouches,i=o.apply(this,arguments),s=n.length;for(t=0;t<s;++t)(e=_(n[t].identifier,i,FC,this,arguments))&&(GE(),e("start"))}}function y(){var t,e,n=NE.changedTouches,i=n.length;for(t=0;t<i;++t)(e=c[n[t].identifier])&&(QE(),e("drag"))}function v(){var t,e,n=NE.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),t=0;t<r;++t)(e=c[n[t].identifier])&&(GE(),e("end"))}function _(t,e,n,i,r){var o,a,h,f=n(e,t),p=l.copy();if(LE(new ZT(d,"beforestart",o,t,u,f[0],f[1],0,0,p),(function(){return null!=(NE.subject=o=s.apply(i,r))&&(a=o.x-f[0]||0,h=o.y-f[1]||0,!0)})))return function s(l){var m,g=f;switch(l){case"start":c[t]=s,m=u++;break;case"end":delete c[t],--u;case"drag":f=n(e,t),m=u}LE(new ZT(d,l,o,t,m,f[0]+a,f[1]+h,f[0]-g[0],f[1]-g[1],p),p.apply,p,[l,i,r])}}return d.filter=function(t){return arguments.length?(r="function"==typeof t?t:XT(!!t),d):r},d.container=function(t){return arguments.length?(o="function"==typeof t?t:XT(t),d):o},d.subject=function(t){return arguments.length?(s="function"==typeof t?t:XT(t),d):s},d.touchable=function(t){return arguments.length?(a="function"==typeof t?t:XT(!!t),d):a},d.on=function(){var t=l.on.apply(l,arguments);return t===l?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}().on("start",(function(){NE.sourceEvent.stopPropagation(),NE.active||n.simulation.alphaTarget(.3).restart(),NE.on("drag",(function(){e.fx=NE.x,e.fy=NE.y})).on("end",(function(){NE.active||n.simulation.alphaTarget(0),e.fx=null,e.fy=null}))})))}getNodes(){console.log(this.nodes,this.links)}addNodes(){this.store.dispatch(new sb({node:new Z_("","","")}))}infectNode(t){this.sg.nodes[t].color2="red",this.ref.markForCheck()}saveNode(t){console.log("D3 service | save node : ",t),t<this.sg.nodes.length&&"red"!=this.sg.nodes[t].color2&&(this.sg.nodes[t].color2="blue",this.ref.markForCheck(),this.store.dispatch(new Tb({})))}spread_infection(){this.store.pipe(Object(_r.a)(1)).subscribe(t=>{t.GameMeta.endGame_state||console.log("Why^^^^^^^^^^^^^?"),console.log(t);for(let i of this.sg.nodes)"red"==i.color2&&this.find_and_color_linked_node(i.id);let e=!0,n=0;for(let i of this.sg.nodes)"white"==i.color2&&(e=!1,i.color2="red"),"black"!=i.color2&&"blue"!=i.color2||(n+=1);if(e){console.log("Fin!!!!!"),this.notificationService.success("Bravo, vous avez sauv\xe9 "+n+" personnes!!");let e=JSON.parse(JSON.stringify(t.GameMeta.games.entities[""+t.GameMeta.game_key]));e.best_score<n&&(console.log("game_key ^^^^^!"),console.log(""+t.GameMeta.game_key),e.best_score=n,console.log(t.GameMeta.endGame_state),this.store.dispatch(new nb({game:e}))),this.ref.markForCheck(),this.store.dispatch(new Ib({value:!0}))}else this.store.pipe(Object(_r.a)(1)).subscribe(t=>{this.store.dispatch(new ob({game_key:""+t.GameMeta.game_key,my_name:"Me"}))}),this.store.dispatch(new Ob({value:2}));this.ref.markForCheck()})}find_and_color_linked_node(t){for(let e of this.sg.links)e.source.id==t&&"red"!=this.sg.nodes[e.target.id].color2&&"blue"!=this.sg.nodes[e.target.id].color2&&(console.log(e.target),this.sg.nodes[e.target.id].color2="white"),e.target.id==t&&"red"!=this.sg.nodes[e.source.id].color2&&"blue"!=this.sg.nodes[e.source.id].color2&&(this.sg.nodes[e.source.id].color2="white")}reset(){this.sg.nodes.map((t,e)=>{t.color2=0==e?"red":"black"}),console.log("Nodes"),console.log(this.sg.nodes),this.ref.markForCheck()}createNodeLabels(t){let e=JO(".nodeG").data(t);console.log("node : ",e),e.append("text").attr("dx",12).attr("dy",".35em").attr("y","30px").attr("text-anchor","middle").attr("alignment-baseline","central").text((function(t,e){return t.label})).each((function(e,n){t[n].box.x=this.getBBox().x,t[n].box.width=this.getBBox().width,t[n].box.y=this.getBBox().y,t[n].box.height=this.getBBox().height})),e.insert("rect",":last-child").attr("opacity",.9).attr("rx",5).attr("ry",5).attr("x",(function(t){return t.box.x})).attr("width",(function(t){return t.box.width})).attr("y",(function(t){return t.box.y})).attr("height",(function(t){return t.box.height})).attr("fill","white").attr("alignment-baseline","central").text((function(t,e){return t.label}))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ui.h),i.ac(i_),i.ac(g_))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})(),rk=(()=>{class t{constructor(t,e){this.d3Service=t,this._element=e}ngOnInit(){this.d3Service.applyZoomableBehaviour(this.zoomableOf,this._element.nativeElement)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ik),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["","zoomableOf",""]],inputs:{zoomableOf:"zoomableOf"}}),t})(),ok=(()=>{class t{constructor(t,e){this.d3Service=t,this._element=e}ngOnInit(){this.d3Service.applyDraggableBehaviour(this._element.nativeElement,this.draggableNode,this.draggableInGraph)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ik),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["","draggableNode",""]],inputs:{draggableNode:"draggableNode",draggableInGraph:"draggableInGraph"}}),t})(),sk=(()=>{class t{constructor(t,e){this.d3Service=t,this._element=e}ngOnInit(){let t;t=HE(this._element.nativeElement),t.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","-0 -5 10 10").attr("refX",15).attr("refY",0).attr("orient","auto").attr("markerWidth",10).attr("markerHeight",5).attr("xoverflow","visible").append("svg:path").attr("d","M 0,-5 L 10 ,0 L 0,5").attr("fill","black").style("stroke","none"),t.append("defs").append("marker").attr("id","arrowhead-reverse").attr("viewBox","-0 -5 10 10").attr("refX",15).attr("refY",0).attr("orient","auto-start-reverse").attr("markerWidth",10).attr("markerHeight",5).attr("xoverflow","visible").append("svg:path").attr("d","M 0,-5 L 10 ,0 L 0,5").attr("fill","black").style("stroke","none")}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ik),i.Qb(i.l))},t.\u0275dir=i.Lb({type:t,selectors:[["","arrowDef",""]]}),t})();const ak=Object(Ui.q)(Ab,t=>t.game_key),ck=Object(Ui.q)(Ab,t=>t.immunity_left),lk=Object(Ui.q)(Ab,t=>t.endGame_state),uk=["*"],hk=new i.r("MAT_GRID_LIST");let dk=(()=>{class t{constructor(t,e){this._element=t,this._gridList=e,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Pu(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Pu(t))}_setStyle(t,e){this._element.nativeElement.style[t]=e}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(hk,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,e){2&t&&i.Eb("rowspan",e.rowspan)("colspan",e.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:uk,decls:2,vars:0,consts:[[1,"mat-figure"]],template:function(t,e){1&t&&(i.mc(),i.Wb(0,"figure",0),i.lc(1),i.Vb())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),t})();class fk{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(t=>this._trackTile(t))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new pk(this.rowIndex,e)}_findMatchingGap(t){if(t>this.tracker.length)throw Error(`mat-grid-list: tile with colspan ${t} is wider than `+`grid with cols="${this.tracker.length}".`);let e=-1,n=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(n=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),n=this._findGapEndIndex(e)))}while(n-e<t||0==n);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let n=0;n<e.colspan;n++)this.tracker[t+n]=e.rowspan}}class pk{constructor(t,e){this.row=t,this.col=e}}const mk=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class gk{constructor(){this._rows=0,this._rowspan=0}init(t,e,n,i){this._gutterSize=wk(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=n,this._direction=i}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":bk(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,n){let i=100/this._cols,r=(this._cols-1)/this._cols;this.setColStyles(t,n,i,r),this.setRowStyles(t,e,i,r)}setColStyles(t,e,n,i){let r=this.getBaseTileSize(n,i);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(r,e)),t._setStyle("width",bk(this.getTileSize(r,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class yk extends gk{constructor(t){super(),this.fixedRowHeight=t}init(t,e,n,i){if(super.init(t,e,n,i),this.fixedRowHeight=wk(this.fixedRowHeight),!mk.test(this.fixedRowHeight))throw Error(`Invalid value "${this.fixedRowHeight}" set as rowHeight.`)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",bk(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",bk(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class vk extends gk{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,n,i){this.baseTileHeight=this.getBaseTileSize(n/this.rowHeightRatio,i),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",bk(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",bk(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");if(2!==e.length)throw Error(`mat-grid-list: invalid ratio given for row-height: "${t}"`);this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class _k extends gk{setRowStyles(t,e){let n=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(n,e)),t._setStyle("height",bk(this.getTileSize(n,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function bk(t){return`calc(${t})`}function wk(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}let Ek=(()=>{class t{constructor(t,e){this._element=t,this._dir=e,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Pu(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${null==t?"":t}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const e=`${null==t?"":t}`;e!==this._rowHeight&&(this._rowHeight=e,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){if(!this.cols)throw Error('mat-grid-list: must pass in number of columns. Example: <mat-grid-list cols="3">')}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new _k:t&&t.indexOf(":")>-1?new vk(t):new yk(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new fk);const t=this._tileCoordinator,e=this._tiles.filter(t=>!t._gridList||t._gridList===this),n=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,e),this._tileStyler.init(this.gutterSize,t,this.cols,n),e.forEach((e,n)=>{const i=t.positions[n];this._tileStyler.setStyle(e,i.row,i.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(nh,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-grid-list"]],contentQueries:function(t,e,n){var r;1&t&&i.Jb(n,dk,!0),2&t&&i.rc(r=i.fc())&&(e._tiles=r)},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,e){2&t&&i.Eb("cols",e.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[i.Cb([{provide:hk,useExisting:t}])],ngContentSelectors:uk,decls:2,vars:0,template:function(t,e){1&t&&(i.mc(),i.Wb(0,"div"),i.lc(1),i.Vb())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-figure{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;width:100%;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}\n"],encapsulation:2,changeDetection:0}),t})(),Ck=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[ed,Gh],ed,Gh]}),t})();const xk=["linkVisual2",""];let Sk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["","linkVisual2",""]],inputs:{link:["linkVisual2","link"]},attrs:xk,decls:1,vars:8,consts:[[1,"link"]],template:function(t,e){1&t&&(i.hc(),i.Rb(0,"line",0)),2&t&&(i.Bc("stroke","black")("stroke-width","2px"),i.Eb("x1",e.link.source.x)("y1",e.link.source.y)("x2",e.link.target.x)("y2",e.link.target.y))},styles:[""]}),t})();const Ok=["nodeVisual2",""];let Tk=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["","nodeVisual2",""]],inputs:{node:["nodeVisual2","node"]},attrs:Ok,decls:2,vars:2,consts:[[1,"nodeG"],["cx","0","cy","0","r","15","stroke","black","stroke-width","3",1,"node"]],template:function(t,e){1&t&&(i.hc(),i.Wb(0,"g",0),i.Rb(1,"circle",1),i.Vb()),2&t&&(i.Eb("transform","translate("+e.node.x+","+e.node.y+")"),i.Db(1),i.Eb("fill",e.node.color2))},styles:[".node[_ngcontent-%COMP%]{cursor:pointer;-webkit-transition:stroke-width .1s ease-out,fill .1s ease-out,stroke .1s ease-out;transition:stroke-width .1s ease-out,fill .1s ease-out,stroke .1s ease-out;stroke:#fff;stroke-width:.25}.node-name[_ngcontent-%COMP%]{font-family:Lato;text-anchor:middle;alignment-baseline:central;font-weight:300;fill:#fff}"]}),t})();function kk(t,e){1&t&&(i.hc(),i.Rb(0,"g",12)),2&t&&i.nc("linkVisual2",e.$implicit)}function Ik(t,e){if(1&t){const t=i.Xb();i.hc(),i.Wb(0,"g",13),i.ec("click",(function(n){i.vc(t);const r=e.index;return i.ic().save(r)})),i.Vb()}if(2&t){const t=e.$implicit,n=i.ic();i.nc("nodeVisual2",t)("draggableNode",t)("draggableInGraph",null==n.d3Service?null:n.d3Service.sg)}}let Ak=(()=>{class t{constructor(t,e,n,i,r){this.d3Service=t,this.ref=e,this.dataS=n,this.store=i,this.notificationService=r,this.routeAnimationsElements="route-animations-elements",this._options={width:400,height:400},this.game_started=!1,this.start_game=()=>{this.game_started=!0,this.store.pipe(Object(Ui.t)(ak),Object(ka.a)(this.store)).pipe(Object(_r.a)(1)).subscribe(([t,e])=>{this.store.dispatch(new ob({game_key:""+t,my_name:e.GameMeta.name}))})},this.test=()=>{this.store.dispatch(new Ob({value:2}))},this.gen_graph=()=>{this.d3Service.setForceDirectedGraph(this.options),this.d3Service.sg.simulation.restart()},this.store.pipe(Object(_r.a)(1)).subscribe(t=>{console.log("store change GRAPH"),this.players=JSON.parse(JSON.stringify(t.GameMeta.games.entities[""+t.GameMeta.game_key].players)),this.ref.markForCheck()}),this.im_left$=this.store.pipe(Object(Ui.t)(ck)),this.endGame$=this.store.pipe(Object(Ui.t)(lk))}onResize(t){this.d3Service.sg.initSimulation(this.options)}ngOnInit(){this.store.dispatch(new wb({options:this.options})),this.d3Service.initD3Service(this.options,this.ref),this.game_started=!0}ngAfterViewInit(){this.d3Service.sg&&this.d3Service.sg.initSimulation(this.options)}my_click(){this.ref.markForCheck()}save(t){this.endGame$.pipe(Object(_r.a)(1)).subscribe(e=>{e||(this.game_started?this.d3Service.saveNode(t):this.notificationService.error("Vous devez commencer la partie!!!"))})}wasteTurn(){this.store.dispatch(new Ob({value:0}))}reset(){this.store.pipe(Object(_r.a)(1)).subscribe(t=>{this.store.dispatch(new gb({}))})}next_turn(){this.store.pipe(Object(Ui.t)(ak)).pipe(Object(_r.a)(1)).subscribe(t=>{this.store.dispatch(new rb({game_key:""+t}))})}get options(){let t=0;return t=window.innerWidth<600?window.innerWidth-20:window.innerWidth-200,this._options={width:t,height:window.innerHeight-400}}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ik),i.Qb(i.h),i.Qb(Db),i.Qb(Ui.h),i.Qb(g_))},t.\u0275cmp=i.Kb({type:t,selectors:[["app-graph"]],hostBindings:function(t,e){1&t&&i.ec("resize",(function(t){return e.onResize(t)}),!1,i.uc)},decls:17,vars:10,consts:[[1,"center","bordered"],["arrowDef",""],["svg",""],[3,"zoomableOf"],[3,"linkVisual2",4,"ngFor","ngForOf"],[3,"nodeVisual2","draggableNode","draggableInGraph","click",4,"ngFor","ngForOf"],[1,"container"],["cols","2","rowHeight","100px"],["colspan","1","rowspan","1"],[1,"center"],["type","button","mat-fab","","color","accent",2,"font-size","24px",3,"click"],["type","button","mat-raised-button","","color","accent",3,"ngClass","disabled","click"],[3,"linkVisual2"],[3,"nodeVisual2","draggableNode","draggableInGraph","click"]],template:function(t,e){if(1&t&&(i.Wb(0,"div",0),i.hc(),i.Wb(1,"svg",1,2),i.Wb(3,"g",3),i.Cc(4,kk,1,1,"g",4),i.Cc(5,Ik,1,3,"g",5),i.Vb(),i.Vb(),i.Vb(),i.gc(),i.Wb(6,"div",6),i.Wb(7,"mat-grid-list",7),i.Wb(8,"mat-grid-tile",8),i.Wb(9,"div",9),i.Wb(10,"button",10),i.ec("click",(function(t){return e.wasteTurn()})),i.Dc(11),i.jc(12,"async"),i.Vb(),i.Vb(),i.Vb(),i.Wb(13,"mat-grid-tile",8),i.Wb(14,"div",9),i.Wb(15,"button",11),i.ec("click",(function(t){return e.reset()})),i.Dc(16," Reset "),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.sc(2);i.Db(1),i.Eb("width",e._options.width)("height",e._options.height),i.Db(2),i.nc("zoomableOf",t),i.Db(1),i.nc("ngForOf",null==e.d3Service?null:null==e.d3Service.sg?null:e.d3Service.sg.links),i.Db(1),i.nc("ngForOf",null==e.d3Service?null:null==e.d3Service.sg?null:e.d3Service.sg.nodes),i.Db(6),i.Fc(" ",i.kc(12,8,e.im_left$),""),i.Db(4),i.nc("ngClass",e.routeAnimationsElements)("disabled",!e.game_started)}},directives:[sk,rk,R,Ek,dk,Oy,bw,N,Sk,Tk,ok],pipes:[G],styles:[".center[_ngcontent-%COMP%]{margin:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.bordered[_ngcontent-%COMP%]{border-style:solid}"],changeDetection:0}),t})();const Nk=function(t){return{wrapper:!0,myturn:t}};let Pk=(()=>{class t{constructor(t,e,n){this.changeDetectorRef=t,this.store=e,this.gameService=n,this.heure$=this.gameService.heureDispo$,this.myturn$=this.store.pipe(Object(Ui.t)(Mb)),this.store.pipe(Object(Ui.t)(Pb),Object(ka.a)(this.store),Nr(([t,e])=>{console.log("Max score changed --------#########");let n=e.GameMeta.game_key,i=e.GameMeta.games.entities[""+n];console.log("game_key"),console.log(n),console.log("game"),console.log(i),console.log("games"),console.log(t);let r=0;i&&(r=i.best_score),console.log(r),this.max_score=r,this.changeDetectorRef.markForCheck()})).subscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.h),i.Qb(Ui.h),i.Qb(Dk))},t.\u0275cmp=i.Kb({type:t,selectors:[["ng-component"]],inputs:{data:"data"},decls:8,vars:6,consts:[[3,"ngClass"],[1,"row"],[1,"col-md-12"],[1,"pre-title"],[1,"title"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.jc(1,"async"),i.Wb(2,"div",1),i.Wb(3,"div",2),i.Wb(4,"div",3),i.Wb(5,"div",4),i.Dc(6),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Rb(7,"app-graph"),i.Vb()),2&t&&(i.nc("ngClass",i.pc(4,Nk,i.kc(1,2,e.myturn$))),i.Db(6),i.Fc(" \xc0 battre : ",e.max_score," "))},directives:[bw,N,Ak],pipes:[G],styles:[".game[_ngcontent-%COMP%]{margin-top:10px}.myturn[_ngcontent-%COMP%]{background-color:#ff997f}.title[_ngcontent-%COMP%]{border-radius:16px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto auto 15px;border:groove;padding:10px;font-size:24px;background-image:-webkit-gradient(linear,left top,right bottom,from(#1900ff),to(#15b5ff));background-image:linear-gradient(to bottom right,#1900ff,#15b5ff)}"],changeDetection:0}),t})();class Rk{constructor(t){this.component=t}}let Dk=(()=>{class t{constructor(t){this.store=t,this.link_in=(t,e,n)=>{for(let i of n)if(i.source==t&&i.target==e||i.source==e&&i.target==t)return!0;return!1},this.changeGraph=t=>{this.store.dispatch(new ob({game_key:t,my_name:"Me"})),this.store.dispatch(new fb({game_key:t}))},this.createGraph=t=>{let e,n;switch(t){case 1:e=Math.floor(20*Math.random())+10,n=Math.floor(20*Math.random())+20;break;case 2:e=Math.floor(30*Math.random())+50,n=Math.floor(30*Math.random())+50;break;case 3:e=Math.floor(50*Math.random())+100,n=Math.floor(50*Math.random())+200}let i=[];for(let o=0;o<e;o++)i.push(new Z_(""+o,"","")),i[o].color2="black";let r=[];for(let o=0;o<n;o++){let t=""+Math.floor(Math.random()*e),n=""+Math.floor(Math.random()*e);for(;t==n||this.link_in(t,n,r);)n=""+Math.floor(Math.random()*e);r.push(new Cw(t,n,1))}i[0].color2="red";for(let o of i)for(;!this.is_path_to_red_node_from_node(o.id,i,r);){let t=o.id,n=""+Math.floor(Math.random()*e);for(;t==n||this.link_in(t,n,r);)n=""+Math.floor(Math.random()*e);r.push(new Cw(t,n,1))}return{nodes:i,links:r}},this.is_path_to_red_node_from_node=(t,e,n)=>{if("red"==e[t].color2)return!0;for(let r of e)r.visited=!1;e[t].visited=!0;let i=this.get_list_node_from_one_node(t,n,e);for(;i.length>0;){let t=e[i.pop()];if("red"==t.color2)return!0;t.visited=!0,i=i.concat(this.get_list_node_from_one_node(t.id,n,e))}return!1},this.getNext=()=>{this.index+=1,this.games$.next(this.games[this.index%1])},this.getAddOneHour=()=>{this.heureDispo=this.heureDispo+1,this.heureDispo$.next(String(this.heureDispo))},this.changetxt=t=>{this.motAtrouver$.next(String(t))},this.index=0,this.games$=new zi.a(new Rk(Pk)),this.games=this.getGames(),this.heureDispo=0,this.heureDispo$=new zi.a("0"),this.mot=0,this.motAtrouver$=new zi.a("0"),this.nom_du_joueur$=new zi.a("")}get_list_node_from_one_node(t,e,n){let i=[];for(let r of e)r.source!=t||n[r.target].visited||i.push(r.target),r.target!=t||n[r.source].visited||i.push(r.source);return i}getGames(){return[new Rk(Pk)]}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ui.h))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),t})();const Mk=["*",[["mat-card-footer"]]],jk=["*","mat-card-footer"];let Lk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),Fk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),t})(),Vk=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Lb({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&i.Hb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),Uk=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ti,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card"],hostVars:2,hostBindings:function(t,e){2&t&&i.Hb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:jk,decls:2,vars:0,template:function(t,e){1&t&&(i.mc(Mk),i.lc(0),i.lc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),Bk=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Gh],Gh]}),t})();const zk=["grid"];function qk(t,e){if(1&t){const t=i.Xb();i.Wb(0,"mat-grid-tile",6),i.Wb(1,"mat-card"),i.Wb(2,"mat-card-title"),i.Dc(3),i.Vb(),i.Wb(4,"mat-card-content"),i.Dc(5," Dimension : |\xc0 faire| "),i.Vb(),i.Wb(6,"mat-card-actions"),i.Wb(7,"div",7),i.Wb(8,"button",8),i.ec("click",(function(n){i.vc(t);const r=e.$implicit;return i.ic().changeGraph(r+r+r)})),i.Dc(9),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb()}if(2&t){const t=e.$implicit;i.Db(3),i.Fc(" \xc9pid\xe9mie ",t," "),i.Db(6),i.Ec(t)}}let Wk=(()=>{class t{constructor(t,e,i,r,o,s){this.observableMedia=t,this.router=e,this.gameService=i,this.changeDetectorRef=r,this.store=o,this.dataS=s,this.routeAnimationsElements="route-animations-elements",this.releaseButler=n("VXX1"),this.the_key="",this.the_id="",this.desc="",this.games=["1","2","3"],this.gridByBreakpoint={xl:3,lg:3,md:3,sm:3,xs:1},this.changeGraph=t=>{this.gameService.changeGraph(t),this.router.navigate(["feature-list"])},this.add_one=()=>{this.dataS.add_one_game(this.the_key,this.the_id,this.desc)}}ngOnInit(){}ngAfterContentInit(){this.observableMedia.asObservable().subscribe(t=>{console.log("change"),this.grid&&(this.grid.cols=this.gridByBreakpoint[t[0].mqAlias]),this.changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(fw),i.Qb(ta),i.Qb(Dk),i.Qb(i.h),i.Qb(Ui.h),i.Qb(Db))},t.\u0275cmp=i.Kb({type:t,selectors:[["anms-about"]],viewQuery:function(t,e){var n;1&t&&i.Hc(zk,!0),2&t&&i.rc(n=i.fc())&&(e.grid=n.first)},decls:8,vars:1,consts:[[1,"background"],[1,"gradient"],[1,"container"],["cols","3","rowHeight","200px"],["grid",""],["colspan","1","rowspan","1",4,"ngFor","ngForOf"],["colspan","1","rowspan","1"],[2,"margin","auto","margin-top","10px","margin-bottom","10px","max-width","150px","text-align","center"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"div",2),i.Wb(3,"div"),i.Wb(4,"mat-grid-list",3,4),i.Cc(6,qk,10,2,"mat-grid-tile",5),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Rb(7,"div",2),i.Vb()),2&t&&(i.Db(6),i.nc("ngForOf",e.games))},directives:[Ek,R,dk,Uk,Fk,Lk,Vk,Oy],styles:['.mat-icon-button.large[_ngcontent-%COMP%], .mat-icon-button.large[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:48px;height:48px;line-height:48px}.mat-icon-button.large[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:48px}.logo-card[_ngcontent-%COMP%]{opacity:1%;background-image:-webkit-gradient(linear,left top,right bottom,from(#1900ff),to(#15b5ff));background-image:linear-gradient(to bottom right,#1900ff,#15b5ff);margin:auto}.title[_ngcontent-%COMP%]{border-radius:16px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto;border:groove;padding:10px;background-image:-webkit-gradient(linear,left top,right bottom,from(red),to(#ff0));background-image:linear-gradient(to bottom right,red,#ff0)}h1[_ngcontent-%COMP%]{text-align:center;font-size:3em;margin:0}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-transform:uppercase}h2[_ngcontent-%COMP%]{font-size:1.5em}.background[_ngcontent-%COMP%]{padding:80px 0 0;position:relative}.background[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{text-align:center;margin:50px;z-index:1}.background[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;font-weight:700;padding:20px 10px 30px}.background[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 5px 10px 0}.background[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a.actions-main[_ngcontent-%COMP%]{text-transform:uppercase;padding:3px 24px}.background[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:relative;bottom:1px}.background[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]{max-width:700px;margin:50px auto;letter-spacing:.01px;overflow-wrap:break-word;z-index:1;overflow:hidden}.background[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:.9em;display:inline-block;word-wrap:break-word;white-space:normal;margin:0 0 10px}.background[_ngcontent-%COMP%]:before{top:0;background:url(intro.324c4413af39eb5baeb7.jpg) no-repeat top;background-size:cover;opacity:.7}.background[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]:before, .background[_ngcontent-%COMP%]:before{position:absolute;left:0;bottom:0;right:0;content:"";z-index:0}.background[_ngcontent-%COMP%]   .gradient[_ngcontent-%COMP%]:before{top:10%}.background[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative}.follow-releases[_ngcontent-%COMP%]{max-width:700px;margin:0 auto 60px}.follow-releases[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:40px}.follow-releases[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:3px solid}.follow-releases[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:80%;margin:20px auto 0;border-radius:5px;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.contributors[_ngcontent-%COMP%]{max-width:700px;margin:0 auto 60px}.contributors[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-bottom:3px solid}.contributors[_ngcontent-%COMP%]   .contributors-wrapper[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:center;justify-content:center;flex-wrap:wrap}.contributors[_ngcontent-%COMP%]   .contributors-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:8px;width:100px;display:inline-block;text-align:center}.contributors[_ngcontent-%COMP%]   .contributors-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:10px 0 0;line-height:16px}.contributors[_ngcontent-%COMP%]   .contributors-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;width:100px;border:5px solid;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}@media(max-width:768px){.background[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin:50px 0}.background[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%], .follow-releases[_ngcontent-%COMP%]{width:auto}.follow-releases[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%}}@media(max-width:576px){.background[_ngcontent-%COMP%]{padding:40px 0 0}.background[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{line-height:1em}.background[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin:40px 0 0}.background[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:10px 0 20px}.background[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%}.background[_ngcontent-%COMP%]   .get-started[_ngcontent-%COMP%]{width:auto;margin:40px auto}.follow-releases[_ngcontent-%COMP%]{margin:0 auto 40px}}'],changeDetection:0}),t})();const Hk=["thumbContainer"],Gk=["toggleBar"],Qk=["input"],Kk=function(){return{enterDuration:150}},$k=["*"],Yk=new i.r("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let Xk=0;const Zk={provide:Jd,useExisting:Object(i.V)(()=>nI),multi:!0};class Jk{constructor(t,e){this.source=t,this.checked=e}}class tI{constructor(t){this._elementRef=t}}const eI=Yh(Kh($h(Qh(tI)),"accent"));let nI=(()=>{class t extends eI{constructor(t,e,n,r,o,s,a,c){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this.defaults=s,this._animationMode=a,this._onChange=t=>{},this._onTouched=()=>{},this._uniqueId=`mat-slide-toggle-${++Xk}`,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new i.o,this.toggleChange=new i.o,this.dragChange=new i.o,this.tabIndex=parseInt(r)||0}get required(){return this._required}set required(t){this._required=Nu(t)}get checked(){return this._checked}set checked(t){this._checked=Nu(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{t||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}focus(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new Jk(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(Ph),i.Qb(i.h),i.bc("tabindex"),i.Qb(i.A),i.Qb(Yk),i.Qb(ti,8),i.Qb(nh,8))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(t,e){var n;1&t&&(i.Hc(Hk,!0),i.Hc(Gk,!0),i.Hc(Qk,!0)),2&t&&(i.rc(n=i.fc())&&(e._thumbEl=n.first),i.rc(n=i.fc())&&(e._thumbBarEl=n.first),i.rc(n=i.fc())&&(e._inputElement=n.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(t,e){1&t&&i.ec("focus",(function(t){return e._inputElement.nativeElement.focus()})),2&t&&(i.Zb("id",e.id),i.Eb("tabindex",e.disabled?null:-1)("aria-label",null)("aria-labelledby",null),i.Hb("mat-checked",e.checked)("mat-disabled",e.disabled)("mat-slide-toggle-label-before","before"==e.labelPosition)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange",dragChange:"dragChange"},exportAs:["matSlideToggle"],features:[i.Cb([Zk]),i.Ab],ngContentSelectors:$k,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,e){if(1&t&&(i.mc(),i.Wb(0,"label",0,1),i.Wb(2,"div",2,3),i.Wb(4,"input",4,5),i.ec("change",(function(t){return e._onChangeEvent(t)}))("click",(function(t){return e._onInputClick(t)})),i.Vb(),i.Wb(6,"div",6,7),i.Rb(8,"div",8),i.Wb(9,"div",9),i.Rb(10,"div",10),i.Vb(),i.Vb(),i.Vb(),i.Wb(11,"span",11,12),i.ec("cdkObserveContent",(function(t){return e._onLabelTextChange()})),i.Wb(13,"span",13),i.Dc(14,"\xa0"),i.Vb(),i.lc(15),i.Vb(),i.Vb()),2&t){const t=i.sc(1),n=i.sc(12);i.Eb("for",e.inputId),i.Db(2),i.Hb("mat-slide-toggle-bar-no-side-margin",!n.textContent||!n.textContent.trim()),i.Db(2),i.nc("id",e.inputId)("required",e.required)("tabIndex",e.tabIndex)("checked",e.checked)("disabled",e.disabled),i.Eb("name",e.name)("aria-checked",e.checked.toString())("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby),i.Db(5),i.nc("matRippleTrigger",t)("matRippleDisabled",e.disableRipple||e.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",i.oc(17,Kk))}},directives:[cd,fh],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),t})(),iI=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)}}),t})(),rI=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[iI,ld,Gh,ph],iI,Gh]}),t})();function oI(t,e){if(1&t&&(i.Wb(0,"mat-option",19),i.Dc(1),i.jc(2,"translate"),i.Vb()),2&t){const t=e.$implicit;i.nc("value",t.value),i.Db(1),i.Fc(" ",i.kc(2,2,"anms.settings.general.language."+t.label)," ")}}function sI(t,e){if(1&t&&(i.Wb(0,"mat-option",19),i.Dc(1),i.jc(2,"translate"),i.Vb()),2&t){const t=e.$implicit;i.nc("value",t.value),i.Db(1),i.Fc(" ",i.kc(2,2,"anms.settings.themes."+t.label)," ")}}function aI(t,e){1&t&&i.Rb(0,"mat-slide-toggle",20)}function cI(t,e){if(1&t){const t=i.Xb();i.Wb(0,"mat-slide-toggle",11),i.ec("change",(function(e){return i.vc(t),i.ic(2).onPageAnimationsToggle(e)})),i.Vb()}if(2&t){const t=i.ic().ngIf;i.nc("checked",t.pageAnimations)}}function lI(t,e){if(1&t){const t=i.Xb();i.Ub(0),i.Wb(1,"div",1),i.Wb(2,"div",4),i.Wb(3,"h2"),i.Dc(4),i.jc(5,"translate"),i.Vb(),i.Wb(6,"div",5),i.Wb(7,"mat-icon",6),i.Rb(8,"fa-icon",7),i.Vb(),i.Wb(9,"mat-form-field"),i.Wb(10,"mat-select",8),i.ec("selectionChange",(function(e){return i.vc(t),i.ic().onLanguageSelect(e)})),i.jc(11,"translate"),i.Cc(12,oI,3,4,"mat-option",9),i.Vb(),i.Vb(),i.Vb(),i.Wb(13,"div",5),i.Wb(14,"mat-icon",6),i.Rb(15,"fa-icon",10),i.Vb(),i.Wb(16,"mat-placeholder"),i.Dc(17),i.jc(18,"translate"),i.Vb(),i.Wb(19,"mat-slide-toggle",11),i.ec("change",(function(e){return i.vc(t),i.ic().onStickyHeaderToggle(e)})),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(20,"div",1),i.Wb(21,"div",4),i.Wb(22,"h2"),i.Dc(23),i.jc(24,"translate"),i.Vb(),i.Wb(25,"div",5),i.Wb(26,"mat-icon",6),i.Rb(27,"fa-icon",12),i.Vb(),i.Wb(28,"mat-form-field"),i.Wb(29,"mat-select",13),i.ec("selectionChange",(function(e){return i.vc(t),i.ic().onThemeSelect(e)})),i.jc(30,"translate"),i.Cc(31,sI,3,4,"mat-option",9),i.Vb(),i.Vb(),i.Vb(),i.Wb(32,"div",5),i.Wb(33,"mat-icon",6),i.Rb(34,"fa-icon",14),i.Vb(),i.Wb(35,"mat-placeholder"),i.Dc(36),i.jc(37,"translate"),i.Vb(),i.Wb(38,"mat-slide-toggle",11),i.ec("change",(function(e){return i.vc(t),i.ic().onAutoNightModeToggle(e)})),i.Vb(),i.Vb(),i.Vb(),i.Wb(39,"div",4),i.Wb(40,"h2"),i.Dc(41),i.jc(42,"translate"),i.Vb(),i.Wb(43,"div",5),i.Wb(44,"mat-icon",6),i.Wb(45,"mat-icon",6),i.Rb(46,"fa-icon",15),i.Vb(),i.Vb(),i.Wb(47,"mat-placeholder"),i.Dc(48),i.jc(49,"translate"),i.Vb(),i.Cc(50,aI,1,0,"mat-slide-toggle",16),i.Cc(51,cI,1,1,"mat-slide-toggle",17),i.Vb(),i.Wb(52,"div",5),i.Wb(53,"mat-icon",6),i.Rb(54,"fa-icon",18),i.Vb(),i.Wb(55,"mat-placeholder"),i.Dc(56),i.jc(57,"translate"),i.Vb(),i.Wb(58,"mat-slide-toggle",11),i.ec("change",(function(e){return i.vc(t),i.ic().onElementsAnimationsToggle(e)})),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tb()}if(2&t){const t=e.ngIf,n=i.ic();i.Db(2),i.nc("ngClass",n.routeAnimationsElements),i.Db(2),i.Ec(i.kc(5,21,"anms.settings.general.title")),i.Db(6),i.nc("placeholder",i.kc(11,23,"anms.settings.general.placeholder"))("ngModel",t.language),i.Db(2),i.nc("ngForOf",n.languages),i.Db(5),i.Fc("",i.kc(18,25,"anms.settings.themes.sticky-header")," "),i.Db(2),i.nc("checked",t.stickyHeader),i.Db(2),i.nc("ngClass",n.routeAnimationsElements),i.Db(2),i.Ec(i.kc(24,27,"anms.settings.themes.title")),i.Db(6),i.nc("placeholder",i.kc(30,29,"anms.settings.themes.placeholder"))("ngModel",t.theme),i.Db(2),i.nc("ngForOf",n.themes),i.Db(5),i.Fc("",i.kc(37,31,"anms.settings.themes.night-mode")," "),i.Db(2),i.nc("checked",t.autoNightMode),i.Db(1),i.nc("ngClass",n.routeAnimationsElements),i.Db(2),i.Ec(i.kc(42,33,"anms.settings.animations.title")),i.Db(7),i.Fc("",i.kc(49,35,"anms.settings.animations.page")," "),i.Db(2),i.nc("ngIf",t.pageAnimationsDisabled),i.Db(1),i.nc("ngIf",!t.pageAnimationsDisabled),i.Db(5),i.Fc("",i.kc(57,37,"anms.settings.animations.elements")," "),i.Db(2),i.nc("checked",t.elementsAnimations)}}let uI=(()=>{class t{constructor(t){this.store=t,this.routeAnimationsElements="route-animations-elements",this.themes=[{value:"DEFAULT-THEME",label:"blue"},{value:"LIGHT-THEME",label:"light"},{value:"NATURE-THEME",label:"nature"},{value:"BLACK-THEME",label:"dark"}],this.languages=[{value:"en",label:"en"},{value:"de",label:"de"},{value:"sk",label:"sk"},{value:"fr",label:"fr"},{value:"es",label:"es"},{value:"pt-br",label:"pt-br"},{value:"zh-cn",label:"zh-cn"},{value:"he",label:"he"}]}ngOnInit(){this.settings$=this.store.pipe(Object(Ui.t)(w_))}onLanguageSelect({value:t}){this.store.dispatch(Qy({language:t}))}onThemeSelect({value:t}){this.store.dispatch(Ky({theme:t}))}onAutoNightModeToggle({checked:t}){this.store.dispatch($y({autoNightMode:t}))}onStickyHeaderToggle({checked:t}){this.store.dispatch(Yy({stickyHeader:t}))}onPageAnimationsToggle({checked:t}){this.store.dispatch(Xy({pageAnimations:t}))}onElementsAnimationsToggle({checked:t}){this.store.dispatch(Jy({elementsAnimations:t}))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Ui.h))},t.\u0275cmp=i.Kb({type:t,selectors:[["anms-settings"]],decls:9,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[4,"ngIf"],[1,"col-md-6","group",3,"ngClass"],[1,"icon-form-field"],["color","accent"],["icon","language","color","accent"],["name","language",3,"placeholder","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["icon","bars","color","accent"],[3,"checked","change"],["icon","paint-brush","color","accent"],["name","themes",3,"placeholder","ngModel","selectionChange"],["icon","lightbulb","color","accent"],["icon","window-maximize"],["matTooltip","Sorry, this feature is disabled in IE, EDGE and Safari","matTooltipPosition","before","disabled","",4,"ngIf"],[3,"checked","change",4,"ngIf"],["icon","stream","color","accent"],[3,"value"],["matTooltip","Sorry, this feature is disabled in IE, EDGE and Safari","matTooltipPosition","before","disabled",""]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"div",2),i.Wb(3,"h1"),i.Dc(4),i.jc(5,"translate"),i.Vb(),i.Vb(),i.Vb(),i.Rb(6,"br"),i.Cc(7,lI,59,39,"ng-container",3),i.jc(8,"async"),i.Vb()),2&t&&(i.Db(4),i.Ec(i.kc(5,2,"anms.settings.title")),i.Db(3),i.nc("ngIf",i.kc(8,4,e.settings$)))},directives:[M,bw,N,rg,_u,Fg,iy,hf,up,R,Ng,nI,bd,vy],pipes:[Zc,G],styles:[".container[_ngcontent-%COMP%]{margin-top:20px}h1[_ngcontent-%COMP%]{margin:0 0 20px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-transform:uppercase}h2[_ngcontent-%COMP%]{margin:0 0 10px}.group[_ngcontent-%COMP%]{margin:0 0 40px}.icon-form-field[_ngcontent-%COMP%]{position:relative;display:-webkit-box;display:flex;height:65.5px;-webkit-box-align:center;align-items:center}.icon-form-field[_ngcontent-%COMP%]   mat-placeholder[_ngcontent-%COMP%]{-webkit-box-flex:2;flex:2 1 auto}mat-icon[_ngcontent-%COMP%]{margin:0 6px 6px 0;font-size:20px}mat-form-field[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 0 auto}"],changeDetection:0}),t})();const hI=Tu({passive:!0});let dI=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ji.a;const e=Mu(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const i=new er.a,r="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(r)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(r)&&(e.classList.remove(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!1}))):(e.classList.add(r),this._ngZone.run(()=>i.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,hI),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:i,unlisten:()=>{e.removeEventListener("animationstart",o,hI)}}),i.asObservable()}stopMonitoring(t){const e=Mu(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Eu),i.ac(i.A))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(Eu),Object(i.ac)(i.A))},token:t,providedIn:"root"}),t})(),fI=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Cu]]}),t})();const pI=new i.r("MAT_INPUT_VALUE_ACCESSOR"),mI=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let gI=0;class yI{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i}}const vI=Xh(yI);let _I=(()=>{class t extends vI{constructor(t,e,n,i,r,o,s,a,c){super(o,i,r,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${gI++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new er.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Su().has(t));const l=this._elementRef.nativeElement;this._inputValueAccessor=s||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===l.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Nu(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Nu(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&Su().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Nu(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(mI.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(Eu),i.Qb(uf,10),i.Qb(np,8),i.Qb(dp,8),i.Qb(Zh),i.Qb(pI,10),i.Qb(dI),i.Qb(i.A))},t.\u0275dir=i.Lb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:10,hostBindings:function(t,e){1&t&&i.ec("blur",(function(t){return e._focusChanged(!1)}))("focus",(function(t){return e._focusChanged(!0)}))("input",(function(t){return e._onInput()})),2&t&&(i.Zb("disabled",e.disabled)("required",e.required),i.Eb("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),i.Hb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[i.Cb([{provide:Og,useExisting:t}]),i.Ab,i.Bb()]}),t})(),bI=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[Zh],imports:[[Q,fI,Vg],fI,Vg]}),t})(),wI=(()=>{class t{constructor(t){this.viewContainerRef=t}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.Q))},t.\u0275dir=i.Lb({type:t,selectors:[["","game-host",""]]}),t})();function EI(t,e){}let CI=(()=>{class t{constructor(t,e){this.componentFactoryResolver=t,this.gameService=e,this.currentAdIndex=-1}ngOnInit(){this.subscription=this.gameService.games$.subscribe(t=>{const e=this.componentFactoryResolver.resolveComponentFactory(t.component),n=this.gameHost.viewContainerRef;n.clear(),n.createComponent(e)})}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.j),i.Qb(Dk))},t.\u0275cmp=i.Kb({type:t,selectors:[["app-game"]],viewQuery:function(t,e){var n;1&t&&i.Ac(wI,!0),2&t&&i.rc(n=i.fc())&&(e.gameHost=n.first)},decls:2,vars:0,consts:[["game-host",""]],template:function(t,e){1&t&&(i.Wb(0,"div"),i.Cc(1,EI,0,0,"ng-template",0),i.Vb())},directives:[wI],encapsulation:2}),t})();const xI=[{path:"",redirectTo:"about",pathMatch:"full"},{path:"about",component:Wk},{path:"feature-list",component:(()=>{class t{constructor(t,e,n){this.gameService=t,this.store=e,this.router=n,this.routeAnimationsElements="route-animations-elements",this.changeGame=()=>{this.gameService.getNext()},this.addoneHour=()=>{this.gameService.getAddOneHour()},this.clear=()=>{this.store.pipe(Object(_r.a)(1)).subscribe(t=>{let e=this.the_doc,n={name:""+t.GameMeta.name},i=[];for(let r of[1,2,3])i.push(this.create_game(e,n,r));this.store.dispatch(new ib({game_doc:e,games:i}))})},this.changeGraph=t=>{this.gameService.changeGraph(t)},this.create_game=(t,e,n)=>{let i=this.gameService.createGraph(n);return{id:""+n+n+n,description:"the_desc",owner:e,players:[{name:String("Me")},{name:String("Covid-19")}],pokes:[],turn:"",nodes:i.nodes,links:i.links,graph_id:"",players_doc:"players_"+n+n+n+"_"+t,actions_doc:"actions_"+n+n+n+"_"+t,graph_doc:"graph_"+n+n+n+"_"+t,turn_doc:"turn_"+n+n+n+"_"+t,best_score:0,first_infected:Number(0)}},this.is_named$=this.store.pipe(Object(Ui.t)(Rb))}ngOnInit(){this.games=this.gameService.getGames()}openLink(t){window.open(t,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(Dk),i.Qb(Ui.h),i.Qb(ta))},t.\u0275cmp=i.Kb({type:t,selectors:[["anms-feature-list"]],decls:37,vars:1,consts:[["autosize",""],["mode","side","position","end",1,"sidenav"],["drawer",""],[2,"margin","auto","margin-top","10px","margin-bottom","10px","max-width","150px","text-align","center"],["mat-fab","","color","warn",2,"margin-rigth","10px",3,"click"],[2,"margin","auto","margin-left","10px","margin-top","10px","margin-bottom","10px","max-width","180px","text-align","center"],["appearance","fill","floatLabel","true"],["matInput","","type","text","placeholder","Game_Code",3,"ngModel","ngModelChange","change"],["cols","1","rowHeight","50px"],["colspan","1","rowspan","1"],[1,"center"],["mat-stroked-button","",3,"click"],[1,"fixed"],["mat-fab","","color","warn","aria-label","Open right panel",3,"click"],[1,"sidenav-content"]],template:function(t,e){if(1&t){const t=i.Xb();i.Wb(0,"div"),i.Wb(1,"div"),i.Wb(2,"mat-drawer-container",0),i.Wb(3,"mat-drawer",1,2),i.Wb(5,"div",3),i.Wb(6,"button",4),i.ec("click",(function(t){return e.clear()})),i.Dc(7,"!!"),i.Vb(),i.Vb(),i.Wb(8,"div",5),i.Wb(9,"mat-form-field",6),i.Wb(10,"input",7),i.ec("ngModelChange",(function(t){return e.the_doc=t}))("change",(function(t){return e.clear()})),i.Vb(),i.Vb(),i.Vb(),i.Wb(11,"div",3),i.Wb(12,"h3"),i.Dc(13,"Entrez un code et cliquez sur le bouton"),i.Vb(),i.Vb(),i.Wb(14,"div",3),i.Wb(15,"h4"),i.Dc(16,"Un nouveau \xabgraph\xbb sera g\xe9n\xe9r\xe9 automatiquement."),i.Vb(),i.Vb(),i.Wb(17,"mat-grid-list",8),i.Wb(18,"mat-grid-tile",9),i.Wb(19,"div",10),i.Wb(20,"button",11),i.ec("click",(function(t){return e.changeGraph("111")})),i.Dc(21,"Level 1"),i.Vb(),i.Vb(),i.Vb(),i.Wb(22,"mat-grid-tile",9),i.Wb(23,"div",10),i.Wb(24,"button",11),i.ec("click",(function(t){return e.changeGraph("222")})),i.Dc(25,"Level 2"),i.Vb(),i.Vb(),i.Vb(),i.Wb(26,"mat-grid-tile",9),i.Wb(27,"div",10),i.Wb(28,"button",11),i.ec("click",(function(t){return e.changeGraph("333")})),i.Dc(29,"Level 3"),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(30,"mat-drawer-content"),i.Wb(31,"div",12),i.Wb(32,"button",13),i.ec("click",(function(e){return i.vc(t),i.sc(4).toggle()})),i.Wb(33,"mat-icon"),i.Dc(34,"home"),i.Vb(),i.Vb(),i.Vb(),i.Wb(35,"div",14),i.Rb(36,"app-game"),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb()}2&t&&(i.Db(10),i.nc("ngModel",e.the_doc))},directives:[Vd,Fd,Oy,Fg,_I,of,hf,up,Ek,dk,Ld,rg,CI],styles:["div.fixed[_ngcontent-%COMP%]{position:fixed;bottom:50px;right:30px}h1[_ngcontent-%COMP%]{text-align:center;font-size:3em;text-transform:uppercase;margin:0}.container[_ngcontent-%COMP%]{margin-top:20px}.main-heading[_ngcontent-%COMP%]{text-transform:uppercase}.main-heading[_ngcontent-%COMP%], mat-card[_ngcontent-%COMP%]{margin:0 0 20px}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{position:relative}mat-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{position:absolute;top:11px;right:0;float:right;font-size:10px}mat-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{min-height:60px}@media(max-width:576px){mat-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{min-height:auto}}mat-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{position:relative;bottom:2px;font-size:16px;margin:6px}mat-card[_ngcontent-%COMP%]   a[mat-icon-button][_ngcontent-%COMP%]{position:relative;left:5px}"],changeDetection:0}),t})(),canActivate:[(()=>{class t{constructor(t){this.store=t}canActivate(){return this.store.pipe(Object(Ui.t)(Rb))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ui.h))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()]},{path:"settings",component:uI},{path:"**",redirectTo:"about"}];let SI=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[_a.forRoot(xI,{useHash:!0,scrollPositionRestoration:"enabled",preloadingStrategy:ua})],_a]}),t})();var OI=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},TI=[["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["edge",/Edge\/([0-9\._]+)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["safari",/Version\/([0-9\._]+).*Safari/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/]],kI=["Windows Phone","Android","CentOS",{name:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],II={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},AI=new RegExp(["(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|","compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|","midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)","\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|","wap|windows ce|xda|xiino"].join(""),"i"),NI=new RegExp(["1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|","ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|","avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|","cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|","ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|","g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|","hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|","i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|","kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])","|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|","mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|","n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|","op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|","po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|","raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|","se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|k\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|","so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|","tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|","veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|","w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-"].join(""),"i"),PI=function(){function t(t,e,n){this.navigator=e,this.process=n,this.userAgent=t||(this.navigator?e.userAgent||e.vendor:"")}return t.prototype.detect=function(){if(this.process&&!this.userAgent){var t=this.process.version.slice(1).split(".").slice(0,3),e=Array.prototype.slice.call(t,1).join("")||"0";return{name:"node",version:t.join("."),versionNumber:parseFloat(t[0]+"."+e),mobile:!1,os:this.process.platform}}return this.userAgent||this.handleMissingError(),OI({},this.checkBrowser(),this.checkMobile(),this.checkOs())},t.prototype.checkBrowser=function(){var t=this;return TI.filter((function(e){return e[1].test(t.userAgent)})).map((function(e){var n=e[1].exec(t.userAgent),i=n&&n[1].split(/[._]/).slice(0,3),r=Array.prototype.slice.call(i,1).join("")||"0";return i&&i.length<3&&Array.prototype.push.apply(i,1===i.length?[0,0]:[0]),{name:String(e[0]),version:i.join("."),versionNumber:Number(i[0]+"."+r)}})).shift()},t.prototype.checkMobile=function(){var t=this.userAgent.substr(0,4);return{mobile:AI.test(this.userAgent)||NI.test(t)}},t.prototype.checkOs=function(){var t=this;return kI.map((function(e){var n=e.name||e,i=t.getOsPattern(e);return{name:n,pattern:i,value:RegExp("\\b"+i.replace(/([ -])(?!$)/g,"$1?")+"(?:x?[\\d._]+|[ \\w.]*)","i").exec(t.userAgent)}})).filter((function(t){return t.value})).map((function(t){var e,n=t.value[0]||"";return t.pattern&&t.name&&/^Win/i.test(n)&&!/^Windows Phone /i.test(n)&&(e=II[n.replace(/[^\d.]/g,"")])&&(n="Windows "+e),t.pattern&&t.name&&(n=n.replace(RegExp(t.pattern,"i"),t.name)),n=n.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0].trim(),{os:n=/^(?:webOS|i(?:OS|P))/.test(n)?n:n.charAt(0).toUpperCase()+n.slice(1)}})).shift()},t.prototype.getOsPattern=function(t){return("string"==typeof t?t:void 0)||t.pattern||t.name},t.prototype.handleMissingError=function(){throw new Error("Please give user-agent.\n> browser(navigator.userAgent or res.headers['user-agent']).")},t}();function RI(t,e){return t(e={exports:{}},e.exports),e.exports}var DI=RI((function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)})),MI=RI((function(t){var e=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=e)})),jI=function(t){return"object"==typeof t?null!==t:"function"==typeof t},LI=function(t){if(!jI(t))throw TypeError(t+" is not an object!");return t},FI=function(t){try{return!!t()}catch(vN){return!0}},VI=!FI((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),UI=DI.document,BI=jI(UI)&&jI(UI.createElement),zI=!VI&&!FI((function(){return 7!=Object.defineProperty(BI?UI.createElement("div"):{},"a",{get:function(){return 7}}).a})),qI=Object.defineProperty,WI={f:VI?Object.defineProperty:function(t,e,n){if(LI(t),e=function(t,e){if(!jI(t))return t;var n,i;if("function"==typeof(n=t.toString)&&!jI(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!jI(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e),LI(n),zI)try{return qI(t,e,n)}catch(vN){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},HI=VI?function(t,e,n){return WI.f(t,e,function(t,e){return{enumerable:!1,configurable:!0,writable:!0,value:e}}(0,n))}:function(t,e,n){return t[e]=n,t},GI={}.hasOwnProperty,QI=function(t,e){return GI.call(t,e)},KI=0,$I=Math.random(),YI=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++KI+$I).toString(36))},XI=RI((function(t){var e=YI("src"),n=Function.toString,i=(""+n).split("toString");MI.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,r,o){var s="function"==typeof r;s&&(QI(r,"name")||HI(r,"name",n)),t[n]!==r&&(s&&(QI(r,e)||HI(r,e,t[n]?""+t[n]:i.join(String(n)))),t===DI?t[n]=r:o?t[n]?t[n]=r:HI(t,n,r):(delete t[n],HI(t,n,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[e]||n.call(this)}))})),ZI=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},JI=function(t,e,n){var i,r,o,s,a=t&JI.F,c=t&JI.G,l=t&JI.P,u=t&JI.B,h=c?DI:t&JI.S?DI[e]||(DI[e]={}):(DI[e]||{}).prototype,d=c?MI:MI[e]||(MI[e]={}),f=d.prototype||(d.prototype={});for(i in c&&(n=e),n)o=((r=!a&&h&&void 0!==h[i])?h:n)[i],s=u&&r?ZI(o,DI):l&&"function"==typeof o?ZI(Function.call,o):o,h&&XI(h,i,o,t&JI.U),d[i]!=o&&HI(d,i,s),l&&f[i]!=o&&(f[i]=o)};DI.core=MI,JI.F=1,JI.G=2,JI.S=4,JI.P=8,JI.B=16,JI.W=32,JI.U=64,JI.R=128;var tA=JI,eA={}.toString,nA=function(t){return eA.call(t).slice(8,-1)},iA=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==nA(t)?t.split(""):Object(t)},rA=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},oA=Math.ceil,sA=Math.floor,aA=Math.min,cA=Array.isArray||function(t){return"Array"==nA(t)},lA=RI((function(t){var e=DI["__core-js_shared__"]||(DI["__core-js_shared__"]={});(t.exports=function(t,n){return e[t]||(e[t]=void 0!==n?n:{})})("versions",[]).push({version:MI.version,mode:"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})})),uA=RI((function(t){var e=lA("wks"),n=DI.Symbol,i="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:YI)("Symbol."+t))}).store=e}))("species"),hA=function(t,e){return new(function(t){var e;return cA(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!cA(e.prototype)||(e=void 0),jI(e)&&null===(e=e[uA])&&(e=void 0)),void 0===e?Array:e}(t))(e)},dA=function(t,e){var n=1==t,i=2==t,r=3==t,o=4==t,s=6==t,a=5==t||s,c=e||hA;return function(e,l,u){for(var h,d,f=Object(rA(e)),p=iA(f),m=ZI(l,u,3),g=function(t){return t>0?aA(function(t){return isNaN(t=+t)?0:(t>0?sA:oA)(t)}(t),9007199254740991):0}(p.length),y=0,v=n?c(e,g):i?c(e,0):void 0;g>y;y++)if((a||y in p)&&(d=m(h=p[y],y,f),t))if(n)v[y]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:v.push(h)}else if(o)return!1;return s?-1:r||o?o:v}},fA=function(t,e){return!!t&&FI((function(){e?t.call(null,(function(){}),1):t.call(null)}))},pA=dA(2);tA(tA.P+tA.F*!fA([].filter,!0),"Array",{filter:function(t){return pA(this,t,arguments[1])}});var mA=dA(1);tA(tA.P+tA.F*!fA([].map,!0),"Array",{map:function(t){return mA(this,t,arguments[1])}});var gA="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",yA="["+gA+"]",vA=RegExp("^"+yA+yA+"*"),_A=RegExp(yA+yA+"*$"),bA=function(t,e,n){var i={},r=FI((function(){return!!gA[t]()||"\u200b\x85"!="\u200b\x85"[t]()})),o=i[t]=r?e(wA):gA[t];n&&(i[n]=o),tA(tA.P+tA.F*r,"String",i)},wA=bA.trim=function(t,e){return t=String(rA(t)),1&e&&(t=t.replace(vA,"")),2&e&&(t=t.replace(_A,"")),t};bA("trim",(function(t){return function(){return t(this,3)}}));var EA="undefined"!=typeof window?window.navigator:void 0,CA="undefined"!=typeof process?process:void 0;Object(Ui.q)(Ab,t=>t.name);const xA=Object(Ui.q)(Ab,t=>t.bottom_sheet_state);function SA(t,e){}const OA=new i.r("MatBottomSheetData");class TA{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus=!1,this.restoreFocus=!0}}const kA={bottomSheetState:Pt("state",[Lt("void, hidden",jt({transform:"translateY(100%)"})),Lt("visible",jt({transform:"translateY(0%)"})),Vt("visible => void, visible => hidden",Rt(`${zh.COMPLEX} ${Bh.ACCELERATION_CURVE}`)),Vt("void => visible",Rt(`${zh.EXITING} ${Bh.DECELERATION_CURVE}`))])};let IA=(()=>{class t extends Up{constructor(t,e,n,r,o,s){super(),this._elementRef=t,this._changeDetectorRef=e,this._focusTrapFactory=n,this.bottomSheetConfig=s,this._animationState="void",this._animationStateChanged=new i.o,this._elementFocusedBeforeOpened=null,this.attachDomPortal=t=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._document=o,this._breakpointSubscription=r.observe(["(min-width: 960px) and (max-width: 1279.99px)","(min-width: 1280px) and (max-width: 1919.99px)","(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",r.isMatched("(min-width: 960px) and (max-width: 1279.99px)")),this._toggleClass("mat-bottom-sheet-container-large",r.isMatched("(min-width: 1280px) and (max-width: 1919.99px)")),this._toggleClass("mat-bottom-sheet-container-xlarge",r.isMatched("(min-width: 1920px)"))})}attachComponentPortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"hidden"===t.toState?this._restoreFocus():"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_toggleClass(t,e){const n=this._elementRef.nativeElement.classList;e?n.add(t):n.remove(t)}_validatePortalAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach bottom sheet content after content is already attached")}_setPanelClass(){const t=this._elementRef.nativeElement,e=this.bottomSheetConfig.panelClass;Array.isArray(e)?e.forEach(e=>t.classList.add(e)):e&&t.classList.add(e)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this.bottomSheetConfig.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus())}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.l),i.Qb(i.h),i.Qb(Th),i.Qb(uy),i.Qb(c,8),i.Qb(TA))},t.\u0275cmp=i.Kb({type:t,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(t,e){var n;1&t&&i.Ac(zp,!0),2&t&&i.rc(n=i.fc())&&(e._portalOutlet=n.first)},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(t,e){1&t&&i.Ib("@state.start",(function(t){return e._onAnimationStart(t)}))("@state.done",(function(t){return e._onAnimationDone(t)})),2&t&&(i.Eb("aria-label",null==e.bottomSheetConfig?null:e.bottomSheetConfig.ariaLabel),i.Gc("@state",e._animationState))},features:[i.Ab],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&i.Cc(0,SA,0,0,"ng-template",0)},directives:[zp],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[kA.bottomSheetState]},changeDetection:0}),t})(),AA=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Q,bm,Gh,qp],Gh]}),t})();class NA{constructor(t,e,n){this._overlayRef=e,this._afterDismissed=new er.a,this._afterOpened=new er.a,this.containerInstance=t,this.disableClose=t.bottomSheetConfig.disableClose,t._animationStateChanged.pipe(Object(si.a)(t=>"done"===t.phaseName&&"visible"===t.toState),Object(_r.a)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Object(si.a)(t=>"done"===t.phaseName&&"hidden"===t.toState),Object(_r.a)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe(Object(_r.a)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),Object(Fa.a)(e.backdropClick(),e.keydownEvents().pipe(Object(si.a)(t=>27===t.keyCode))).subscribe(t=>{this.disableClose||"keydown"===t.type&&lh(t)||(t.preventDefault(),this.dismiss())})}dismiss(t){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe(Object(si.a)(t=>"start"===t.phaseName),Object(_r.a)(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},t.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this._afterOpened.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const PA=new i.r("mat-bottom-sheet-default-options");let RA=(()=>{class t{constructor(t,e,n,i,r){this._overlay=t,this._injector=e,this._parentBottomSheet=n,this._location=i,this._defaultOptions=r,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}open(t,e){const n=function(t,e){return Object.assign(Object.assign({},t),e)}(this._defaultOptions||new TA,e),r=this._createOverlay(n),o=this._attachContainer(r,n),s=new NA(o,r,this._location);if(t instanceof i.M)o.attachTemplatePortal(new Fp(t,null,{$implicit:n.data,bottomSheetRef:s}));else{const e=new Lp(t,void 0,this._createInjector(n,s)),i=o.attachComponentPortal(e);s.instance=i.instance}return s.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==s&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>s.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):s.containerInstance.enter(),this._openedBottomSheetRef=s,s}dismiss(){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss()}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(t,e){const n=new Wp(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[TA,e]])),i=new Lp(IA,e.viewContainerRef,n);return t.attach(i).instance}_createOverlay(t){const e=new Jp({direction:t.direction,hasBackdrop:t.hasBackdrop,disposeOnNavigation:t.closeOnNavigation,maxWidth:"100%",scrollStrategy:t.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return t.backdropClass&&(e.backdropClass=t.backdropClass),this._overlay.create(e)}_createInjector(t,e){const n=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=new WeakMap([[NA,e],[OA,t.data]]);return!t.direction||n&&n.get(nh,null)||i.set(nh,{value:t.direction,change:Object(ii.a)()}),new Wp(n||this._injector,i)}}return t.\u0275fac=function(e){return new(e||t)(i.ac(pm),i.ac(i.s),i.ac(t,12),i.ac(C,8),i.ac(PA,8))},t.\u0275prov=Object(i.Mb)({factory:function(){return new t(Object(i.ac)(pm),Object(i.ac)(i.p),Object(i.ac)(t,12),Object(i.ac)(C,8),Object(i.ac)(PA,8))},token:t,providedIn:AA}),t})();const DA=function(t){return[t]};function MA(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",40),i.ec("click",(function(e){return i.vc(t),i.ic(),i.sc(4).close()})),i.Dc(1),i.jc(2,"translate"),i.Vb()}if(2&t){const t=e.$implicit;i.nc("routerLink",i.pc(4,DA,t.link)),i.Db(1),i.Fc(" ",i.kc(2,2,t.label)," ")}}function jA(t,e){if(1&t){const t=i.Xb();i.Wb(0,"div",41),i.Wb(1,"button",42),i.ec("click",(function(e){return i.vc(t),i.ic().change()})),i.Dc(2,"Jouez!"),i.Vb(),i.Wb(3,"mat-form-field",43),i.Wb(4,"input",44),i.ec("ngModelChange",(function(e){return i.vc(t),i.ic().the_key=e})),i.Vb(),i.Wb(5,"mat-placeholder",43),i.Dc(6,"Nom du jeu"),i.Vb(),i.Vb(),i.Vb()}if(2&t){const t=i.ic();i.Db(4),i.nc("ngModel",t.the_key)}}function LA(t,e){if(1&t&&(i.Wb(0,"button",45),i.Dc(1),i.jc(2,"translate"),i.Vb()),2&t){const t=e.$implicit;i.nc("routerLink",i.pc(4,DA,t.link)),i.Db(1),i.Fc(" ",i.kc(2,2,t.label)," ")}}function FA(t,e){if(1&t){const t=i.Xb();i.Wb(0,"button",46),i.ec("click",(function(e){return i.vc(t),i.ic().onLoginClick()})),i.Dc(1),i.jc(2,"translate"),i.Vb()}2&t&&(i.Db(1),i.Fc(" ",i.kc(2,1,"anms.menu.login")," "))}function VA(t,e){if(1&t&&(i.Wb(0,"button",47),i.Rb(1,"fa-icon",48),i.Vb()),2&t){i.ic();const t=i.sc(45);i.nc("matMenuTriggerFor",t)}}function UA(t,e){if(1&t&&(i.Wb(0,"mat-option",51),i.Dc(1),i.Vb()),2&t){const t=e.$implicit;i.nc("value",t),i.Db(1),i.Fc(" ",t.toUpperCase()," ")}}function BA(t,e){if(1&t){const t=i.Xb();i.Wb(0,"span"),i.Wb(1,"mat-select",49),i.ec("selectionChange",(function(e){return i.vc(t),i.ic().onLanguageSelect(e)})),i.Cc(2,UA,2,2,"mat-option",50),i.Vb(),i.Vb()}if(2&t){const t=e.ngIf,n=i.ic();i.Db(1),i.nc("ngModel",t),i.Db(1),i.nc("ngForOf",n.languages)}}function zA(t,e){1&t&&(i.Wb(0,"div",7),i.Wb(1,"h1"),i.Dc(2,"Entrez votre nom!"),i.Vb(),i.Vb())}function qA(t,e){if(1&t){const t=i.Xb();i.Wb(0,"div",52),i.Wb(1,"button",8),i.ec("click",(function(e){return i.vc(t),i.ic().openBottomSheet()})),i.Dc(2,"Information"),i.Vb(),i.Vb()}}function WA(t,e){if(1&t){const t=i.Xb();i.Wb(0,"div",7),i.Wb(1,"button",8),i.ec("click",(function(e){return i.vc(t),i.ic().closeBottomSheet()})),i.Dc(2,"Fermer"),i.Vb(),i.Vb()}}const HA=function(t){return{wrapper:!0,myturn:t}},GA=function(){return["fab","github"]};let QA=(()=>{class t{constructor(t,e,i,r,s,a,c,l,u,h){this.platformId=t,this.router=e,this.changeDetectorRef=i,this.store=r,this.storageService=s,this.dataS=a,this._bottomSheet=c,this.d3service=l,this.gameService=u,this.dataService=h,this.isProd=o.production,this.envName=o.envName,this.version=o.versions.app,this.year=(new Date).getFullYear(),this.logo=n("zwU1"),this.languages=["en","fr"],this.navigation=[{link:"about",label:"anms.menu.about"},{link:"feature-list",label:"anms.menu.features"}],this.navigationSideMenu=[...this.navigation,{link:"settings",label:"anms.menu.settings"}],this.change=()=>{this.store.dispatch(new _b({game_doc:this.the_key}))},console.log("App constructor!!"),this.is_named$=this.dataService.is_name$,this.subscription=null,this.store.pipe(Object(Ui.t)(sv)).subscribe(()=>{this.store.dispatch(new xb({value:!1})),this._bottomSheet.dismiss()}),this.is_bottom_sheet_opened=this.store.pipe(Object(Ui.t)(xA),Nr(t=>{this.changeDetectorRef.markForCheck()})),this.myturn$=this.store.pipe(Object(Ui.t)(Mb))}static isIEorEdgeOrSafari(){return["ie","edge","safari"].includes(new PI(void 0,EA,CA).detect().name)}ngOnInit(){this.store.dispatch(new _b({game_doc:"111"})),this.storageService.testLocalStorage(),t.isIEorEdgeOrSafari()&&this.store.dispatch(Zy({pageAnimationsDisabled:!0})),this.isAuthenticated$=this.store.pipe(Object(Ui.t)(c_)),this.stickyHeader$=this.store.pipe(Object(Ui.t)(E_)),this.language$=this.store.pipe(Object(Ui.t)(C_)),this.theme$=this.store.pipe(Object(Ui.t)(N_))}ngAfterViewInit(){this.router.events.subscribe(t=>{t instanceof Ur&&K(this.platformId)&&(console.log(ga),ga("set","page",t.urlAfterRedirects),ga("send","pageview"))})}onLoginClick(){this.store.dispatch(new Hy)}onLogoutClick(){this.store.dispatch(new Wy)}onLanguageSelect({value:t}){this.store.dispatch(Qy({language:t}))}openBottomSheet(){this.store.dispatch(new xb({value:!0})),this._bottomSheet.open(KA)}closeBottomSheet(){this.store.dispatch(new xb({value:!1})),this._bottomSheet.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(i.C),i.Qb(ta),i.Qb(i.h),i.Qb(Ui.h),i.Qb(By),i.Qb(Db),i.Qb(RA),i.Qb(ik),i.Qb(Dk),i.Qb(Db))},t.\u0275cmp=i.Kb({type:t,selectors:[["anms-root"]],decls:76,vars:56,consts:[["mode","push"],["sidenav",""],[1,"branding"],[3,"src"],[1,"branding","spacer","center","d-inline"],["appearance","fill","floatLabel","Game_Key"],["color","primary","matInput","","type","text","placeholder","Nom de la partie",3,"ngModel","ngModelChange"],[2,"margin","auto","width","fit-content"],["mat-raised-button","","color","primary",3,"click"],["mat-list-item","","routerLinkActive","active",3,"routerLink","click",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"toolbar"],["color","primary",2,"height","84px"],["mat-icon-button","",1,"d-lg-none",3,"click"],["icon","bars"],["routerLink","",1,"branding","spacer","center","d-inline","d-sm-none"],["routerLink","",1,"branding","spacer","center","d-none","d-sm-inline","d-md-none"],["routerLink","",1,"branding","spacer","d-none","d-md-inline"],["style","margin-right: 10px;","class","branding spacer d-none d-lg-inline",4,"ngIf"],[1,"d-none","d-md-inline"],["mat-button","","class","nav-button","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["mat-button","","mat-stroked-button","","color","accent",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["toolbarUserMenu","matMenu"],["mat-menu-item","",3,"click"],["icon","power-off"],["mat-icon-button","","routerLink","settings",1,"d-none","d-sm-inline"],["icon","cog"],["matTooltipPosition","before","mat-icon-button","","href","https://github.com/tomastrajan/angular-ngrx-material-starter","target","_blank",1,"link","d-none","d-sm-inline",3,"matTooltip"],[3,"icon"],[4,"ngIf"],[1,"content",2,"margin-top","94px"],["o","outlet"],[2,"border-style","groove","margin","5px"],["style","margin:auto;width: fit-content;",4,"ngIf"],["style","margin:auto;margin-top:5px;margin-bottom:5px;width: fit-content;",4,"ngIf"],[1,"footer"],[1,"row"],[1,"col-12","signature"],["data-testid","footer-year",1,"year"],["mat-list-item","","routerLinkActive","active",3,"routerLink","click"],[1,"branding","spacer","d-none","d-lg-inline",2,"margin-right","10px"],["id","my_input","mat-raised-button","","color","primary",2,"margin-right","10px",3,"click"],["id","my_input"],["autocomplete","off","id","my_input","matInput","","type","text",3,"ngModel","ngModelChange"],["mat-button","","routerLinkActive","active",1,"nav-button",3,"routerLink"],["mat-button","","mat-stroked-button","","color","accent",3,"click"],["mat-icon-button","",3,"matMenuTriggerFor"],["icon","user-circle"],[3,"ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"margin","auto","margin-top","5px","margin-bottom","5px","width","fit-content"]],template:function(t,e){if(1&t){const t=i.Xb();i.Wb(0,"div"),i.jc(1,"async"),i.Wb(2,"mat-sidenav-container"),i.Wb(3,"mat-sidenav",0,1),i.Wb(5,"div",2),i.Rb(6,"img",3),i.Wb(7,"span"),i.Dc(8),i.jc(9,"translate"),i.Vb(),i.Vb(),i.Wb(10,"span"),i.Wb(11,"div",4),i.Wb(12,"mat-form-field",5),i.Wb(13,"input",6),i.ec("ngModelChange",(function(t){return e.the_key=t})),i.Vb(),i.Vb(),i.Wb(14,"div",7),i.Wb(15,"button",8),i.ec("click",(function(t){return e.change()})),i.Dc(16,"Jouez!!"),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(17,"mat-nav-list"),i.Cc(18,MA,3,6,"a",9),i.Vb(),i.Vb(),i.Wb(19,"div",10),i.jc(20,"async"),i.Wb(21,"div",11),i.Wb(22,"mat-toolbar",12),i.Wb(23,"button",13),i.ec("click",(function(e){return i.vc(t),i.sc(4).open()})),i.Rb(24,"fa-icon",14),i.Vb(),i.Wb(25,"span",15),i.Rb(26,"img",3),i.Vb(),i.Wb(27,"span",16),i.Rb(28,"img",3),i.Dc(29),i.jc(30,"translate"),i.Vb(),i.Wb(31,"span",17),i.Rb(32,"img",3),i.Dc(33),i.jc(34,"translate"),i.Vb(),i.Wb(35,"span"),i.Cc(36,jA,7,1,"div",18),i.jc(37,"async"),i.Vb(),i.Wb(38,"span",19),i.Cc(39,LA,3,6,"button",20),i.Vb(),i.Cc(40,FA,3,3,"button",21),i.jc(41,"async"),i.Cc(42,VA,2,1,"button",22),i.jc(43,"async"),i.Wb(44,"mat-menu",null,23),i.Wb(46,"button",24),i.ec("click",(function(t){return e.onLogoutClick()})),i.Wb(47,"mat-icon"),i.Rb(48,"fa-icon",25),i.Vb(),i.Wb(49,"span"),i.Dc(50),i.jc(51,"translate"),i.Vb(),i.Vb(),i.Vb(),i.Wb(52,"button",26),i.Rb(53,"fa-icon",27),i.Vb(),i.Wb(54,"a",28),i.jc(55,"translate"),i.Rb(56,"fa-icon",29),i.Vb(),i.Cc(57,BA,3,2,"span",30),i.jc(58,"async"),i.Vb(),i.Vb(),i.Wb(59,"div",31),i.Rb(60,"router-outlet",null,32),i.Wb(62,"div",33),i.Cc(63,zA,3,0,"div",34),i.jc(64,"async"),i.Cc(65,qA,3,0,"div",35),i.jc(66,"async"),i.Cc(67,WA,3,0,"div",34),i.jc(68,"async"),i.Vb(),i.Vb(),i.Wb(69,"div",36),i.Wb(70,"div",37),i.Wb(71,"div",38),i.Dc(72," \xa9 "),i.Wb(73,"span",39),i.Dc(74),i.Vb(),i.Dc(75," - Philippe Malric "),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb()}if(2&t){const t=i.sc(61);i.Fb("theme-wrapper "+i.kc(1,25,e.theme$)),i.Db(6),i.nc("src",e.logo,i.xc),i.Db(2),i.Ec(i.kc(9,27,"anms.title.short")),i.Db(5),i.nc("ngModel",e.the_key),i.Db(5),i.nc("ngForOf",e.navigationSideMenu),i.Db(1),i.nc("ngClass",i.pc(53,HA,i.kc(20,29,e.myturn$))),i.Db(7),i.nc("src",e.logo,i.xc),i.Db(2),i.nc("src",e.logo,i.xc),i.Db(1),i.Fc(" ",i.kc(30,31,"anms.title.short"),""),i.Db(3),i.nc("src",e.logo,i.xc),i.Db(1),i.Fc(" ",i.kc(34,33,"anms.title.long"),""),i.Db(3),i.nc("ngIf",i.kc(37,35,e.is_named$)),i.Db(3),i.nc("ngForOf",e.navigation),i.Db(1),i.nc("ngIf",!i.kc(41,37,e.isAuthenticated$)),i.Db(2),i.nc("ngIf",i.kc(43,39,e.isAuthenticated$)),i.Db(8),i.Ec(i.kc(51,41,"anms.menu.logout")),i.Db(4),i.nc("matTooltip",i.kc(55,43,"anms.header.github")),i.Db(2),i.nc("icon",i.oc(55,GA)),i.Db(1),i.nc("ngIf",i.kc(58,45,e.language$)),i.Db(2),i.nc("@routeAnimations",t.isActivated&&t.activatedRoute.routeConfig.data&&t.activatedRoute.routeConfig.data.title),i.Db(4),i.nc("ngIf",!i.kc(64,47,e.is_named$)),i.Db(2),i.nc("ngIf",!i.kc(66,49,e.is_bottom_sheet_opened)),i.Db(2),i.nc("ngIf",i.kc(68,51,e.is_bottom_sheet_opened)),i.Db(7),i.Ec(e.year)}},directives:[qd,Bd,Fg,_I,of,hf,up,Oy,Cp,R,bw,N,Xd,_u,ea,M,Mm,Im,rg,Ty,vy,aa,kp,na,ra,Ng,Vm,iy,bd],pipes:[G,Zc],styles:[".myturn[_ngcontent-%COMP%]{background-color:#ff997f}.mat-form-field-label[_ngcontent-%COMP%]{color:#fff}.theme-wrapper[_ngcontent-%COMP%], mat-sidenav-container[_ngcontent-%COMP%]{height:100%;width:100%}mat-sidenav-container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{position:fixed;width:100%;display:-webkit-box;display:flex;z-index:10}mat-sidenav-container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{margin:0 10px 0 0}mat-sidenav-container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:24px}mat-sidenav-container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .branding[_ngcontent-%COMP%]{cursor:pointer;overflow:hidden;padding-top:4px;text-overflow:ellipsis}mat-sidenav-container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .branding.center[_ngcontent-%COMP%]{text-align:center}mat-sidenav-container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;top:-2px;width:64px;height:64px}mat-sidenav-container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{margin-right:10px}mat-sidenav-container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto}mat-sidenav-container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   mat-select[_ngcontent-%COMP%]{margin:0 0 0 20px;width:40px;font-size:14px}@media(max-width:992px){mat-sidenav-container[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{min-width:0;padding:0 10px}}mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 0 auto;margin-top:10px;overflow:hidden}mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 0 auto;padding:0 15px;text-align:center}mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 0}mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-transition:padding .5s;transition:padding .5s;display:inline-block;padding:20px 5px}mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:30px;width:35px}mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;width:75px;padding:0 0 0 3px;overflow:hidden;text-align:left;white-space:nowrap;-webkit-transition:width .5s;transition:width .5s}@media(min-width:992px){mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:20px 10px}}@media(max-width:768px){mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:20px}mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:0;padding:0}}@media(max-width:576px){mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:20px 5px}}@media(min-width:576px){mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{position:relative}mat-sidenav-container[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:absolute;right:15px}}@media(max-width:600px){mat-sidenav-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:94px!important}}mat-sidenav[_ngcontent-%COMP%]{width:250px}mat-sidenav[_ngcontent-%COMP%]   .branding[_ngcontent-%COMP%]{height:64px;padding:8px 10px;font-size:20px;font-weight:500}mat-sidenav[_ngcontent-%COMP%]   .branding[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:48px;margin:2px 10px 0 0}mat-sidenav[_ngcontent-%COMP%]   .branding[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:3px}mat-sidenav[_ngcontent-%COMP%]   .mat-nav-list[_ngcontent-%COMP%]{padding-top:0}"],data:{animation:[m_]}}),t})(),KA=(()=>{class t{constructor(t,e,n,i,r){this.router=t,this.store=e,this.changeDetectorRef=n,this._bottomSheetRef=i,this.dataS=r,this.is_named$=this.store.pipe(Object(Ui.t)(Rb))}close(){this.store.dispatch(new xb({value:!1})),this._bottomSheetRef.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(ta),i.Qb(Ui.h),i.Qb(i.h),i.Qb(NA),i.Qb(Db))},t.\u0275cmp=i.Kb({type:t,selectors:[["bottom-sheet"]],decls:49,vars:0,consts:[[2,"margin","auto","width","fit-content"],[2,"margin","auto","width","fit-content","text-align","center"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"h1"),i.Wb(3,"u"),i.Wb(4,"b"),i.Dc(5,"Covid-19 Battle"),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(6,"div",1),i.Wb(7,"h1"),i.Wb(8,"u"),i.Dc(9,"Un jeu de simulation d'\xe9pid\xe9mie!"),i.Vb(),i.Vb(),i.Vb(),i.Wb(10,"div",1),i.Wb(11,"h2"),i.Dc(12,"Vous devez sauver le plus de personnes en les immunisant et en les prot\xe9geant."),i.Vb(),i.Vb(),i.Wb(13,"div",1),i.Wb(14,"h3"),i.Dc(15,"Pour immuniser une personne, repr\xe9sent\xe9e par un point, il suffit de cliquer dessus."),i.Vb(),i.Vb(),i.Wb(16,"div",1),i.Wb(17,"h3"),i.Dc(18,"Pour passer votre tour, il suffit de cliquer sur le nombre restant de vaccins (le rond bleu sous la simulation (\xe0 gauche))."),i.Vb(),i.Vb(),i.Wb(19,"div",1),i.Wb(20,"h3"),i.Dc(21,"Le score \xe0 battre (en haut de la simulation) est le nombre maximum de personnes ayant \xe9t\xe9 sauv\xe9."),i.Vb(),i.Vb(),i.Wb(22,"div",1),i.Wb(23,"h4"),i.Dc(24,"Le rond rouge avec le signe d'une maison, en bas \xe0 droite, permet de changer de niveau et de cr\xe9er des nouvelles parties qui sont sauvegard\xe9es."),i.Vb(),i.Vb(),i.Wb(25,"div",1),i.Wb(26,"h4"),i.Dc(27,"Il est donc possible de retrouver ces parties en entrant leurs noms dans la barre du haut, la barre verte."),i.Vb(),i.Vb(),i.Wb(28,"div",1),i.Wb(29,"h4"),i.Dc(30,"Sur un t\xe9l\xe9phone, ce champs se trouve dans le menu que l'on peut ouvrir en cliquant sur les trois barres horizontales en haut \xe0 gauche."),i.Vb(),i.Vb(),i.Wb(31,"div",1),i.Wb(32,"h5"),i.Dc(33,"Il est possible de faire bouger les points sans les immuniser."),i.Vb(),i.Vb(),i.Wb(34,"div",1),i.Wb(35,"h5"),i.Dc(36,"Les personnes immunis\xe9es comptent dans le score final."),i.Vb(),i.Vb(),i.Wb(37,"div",1),i.Wb(38,"h5"),i.Dc(39,"En tout temps, vous pouvez cliquer sur "),i.Wb(40,"b"),i.Dc(41,"restart"),i.Vb(),i.Dc(42," pour recommmencer (ce bouton se trouve en bas \xe0 droite de la simulation)"),i.Vb(),i.Vb(),i.Wb(43,"div",1),i.Wb(44,"h5"),i.Dc(45,"Bonne partie!"),i.Vb(),i.Vb(),i.Wb(46,"div",0),i.Wb(47,"button",2),i.ec("click",(function(t){return e.close()})),i.Dc(48,"Fermer"),i.Vb(),i.Vb(),i.Vb())},directives:[Oy],encapsulation:2}),t})(),$A=(()=>{class t{constructor(t,e,n,i,r,o){this.d3Service=t,this.afs=e,this.actions$=n,this.store=i,this.datas=r,this.localStorageService=o,this._options={width:400,height:400},this.clear=this.actions$.pipe(hc(tb.CLEAR),Object(ka.a)(this.store.pipe(Object(Ui.t)(Pb))),Nr(([t,e])=>{console.log("gameState"),console.log(e),console.log("actions"),console.log(t),console.log("Before firebase call"),console.log("New game set (clear)"),this.afs.collection("games").doc(t.payload.game_doc).set(JSON.parse(JSON.stringify(e)));for(let n of t.payload.games);this.store.dispatch(new _b({game_doc:t.payload.game_doc}))})),this.load=this.actions$.pipe(hc(tb.LOAD),Object(ka.a)(this.store.pipe(Object(Ui.t)(Pb))),Nr(([t,e])=>{console.log("actions"),console.log(t),this.afs.collection("games").doc("123").valueChanges()})),this.persistParticipant=this.actions$.pipe(hc(tb.UPSERT_ONE,tb.UPSERT_ONE_P,tb.UPSERT_ONE_POKE,tb.CLEAN,tb.DELPOKE),Object(ka.a)(this.store),Nr(([t,e])=>{let n=e.GameMeta.games;this.afs.collection("games").doc(""+e.GameMeta.game_doc).update(n)})),this.upsertAll=this.actions$.pipe(hc(tb.UPSERT_ALL),Object(ka.a)(this.store),Nr(([t,e])=>{console.log(e);let n=e.GameMeta.games.entities[""+e.GameMeta.game_key];this.store.dispatch(new mb({graph:{nodes:n.nodes,links:n.links}})),console.log("UpertAll")})),this.next_turn=this.actions$.pipe(hc(tb.NEXT_TURN),Object(ka.a)(this.store),Nr(([t,e])=>{let n=""+e.GameMeta.game_key,i=""+e.GameMeta.games.entities[n].turn;console.log("whos_turn"),console.log(i),console.log(e),this.store.dispatch(new hb("Me"==i?{my_turn:Boolean(!0)}:{my_turn:Boolean(!1)}));let r=e.GameMeta.games.entities[""+e.GameMeta.game_key];console.log("the_game.turn"),console.log(r),console.log(r.turn),"Covid-19"==r.turn&&(console.log("Covid-19 TURN!!!!"),this.d3Service.spread_infection()),e.GameMeta.games.entities[n].players.map(t=>t.name)})),this.my_turn=this.actions$.pipe(hc(tb.MY_TURN),Object(ka.a)(this.store),Nr(([t,e])=>{let n=""+e.GameMeta.game_key;console.log("My turn"),console.log(e),this.store.dispatch(new hb({my_turn:Boolean(!0)})),e.GameMeta.games.entities[n].players.map(t=>t.name)}))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(ik),i.ac(i_),i.ac(uc),i.ac(Ui.h),i.ac(Db),i.ac(By))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"clear",void 0),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"load",void 0),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"persistParticipant",void 0),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"upsertAll",void 0),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"next_turn",void 0),t})(),YA=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Q,Gh,qp,ld,ph,Mh],Gh]}),t})(),XA=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Gh,Q],Gh]}),t})();const ZA=new i.r("mat-chips-default-options"),JA={separatorKeyCodes:[13]};let tN=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[Zh,{provide:ZA,useValue:JA}]}),t})(),eN=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)}}),t})(),nN=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Q,ld,Gh,ph,eN],Gh,eN]}),t})(),iN=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Q]]}),t})(),rN=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[iN,Q,Gh]]}),t})(),oN=(()=>{class t{constructor(){this.changes=new er.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const i=t*e;return`${i+1} \u2013 ${i<(n=Math.max(n,0))?Math.min(i+e,n):i+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const sN={provide:oN,deps:[[new i.B,new i.K,oN]],useFactory:function(t){return t||new oN}};let aN=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[sN],imports:[[Q,ky,ry,by]]}),t})(),cN=(()=>{class t{constructor(t,e,n,i){this.store=t,this.actions$=e,this.afs=n,this.gameservice=i,this.load=this.actions$.pipe(hc(vb.UPSERT),Nr(t=>{console.log(" Game_docActionTypes.UPSERT Action :"),console.log(t),this.gameservice.gameSubscription&&this.gameservice.gameSubscription.unsubscribe(),this.gameservice.gameSubscription=this.afs.collection("games").doc(t.payload.game_doc).valueChanges().pipe(Object(ka.a)(this.store)).subscribe(this.create_anchor)})),this.create_anchor=([t,e])=>{e.GameMeta.games.entities[""+e.GameMeta.game_key]&&this.store.dispatch(new eb({games:t}))}}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ui.h),i.ac(uc),i.ac(i_),i.ac(Dk))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"load",void 0),t})(),lN=(()=>{class t{constructor(t,e,n){this.store=t,this.actions$=e,this.d3Service=n,this.graph_upsert=this.actions$.pipe(hc(pb.UPSERT),Object(ka.a)(this.store),Nr(([t,e])=>{console.log("new graph"),console.log(t.payload),console.log("option"),console.log(e.GameMeta.option),0!=e.GameMeta.option.width&&t.payload.graph&&t.payload.graph.nodes&&t.payload.graph.links&&(this.d3Service.nodes=JSON.parse(JSON.stringify(t.payload.graph.nodes)),this.d3Service.links=JSON.parse(JSON.stringify(t.payload.graph.links)),this.d3Service.sg?(console.log("new GRAPH!!!"),this.d3Service.sg=new YT(this.store,this.d3Service.nodes,this.d3Service.links,e.GameMeta.option)):(console.log("reset!!!"),this.d3Service.reset()),this.store.dispatch(new ob({my_name:"Me",game_key:""+e.GameMeta.game_key})),this.d3Service.sg.ticker.subscribe(t=>{this.d3Service.ref&&this.d3Service.ref.markForCheck()}))})),this.graph_reset=this.actions$.pipe(hc(pb.RESET),Object(ka.a)(this.store),Nr(([t,e])=>{console.log("reset!!!"),this.d3Service.reset(),this.store.dispatch(new ob({my_name:"Me",game_key:""+e.GameMeta.game_key})),this.store.dispatch(new Ib({value:!1})),this.store.dispatch(new Ob({value:2}))}))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ui.h),i.ac(uc),i.ac(ik))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"graph_upsert",void 0),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"graph_reset",void 0),t})(),uN=(()=>{class t{constructor(t,e,n){this.store=t,this.actions$=e,this.d3Service=n,this.graph_upsert=this.actions$.pipe(hc(bb.UPSERT),Object(ka.a)(this.store),Nr(([t,e])=>{console.log("new graph"),e.GameMeta&&(this.d3Service.nodes=JSON.parse(JSON.stringify(e.GameMeta.graph.nodes)),this.d3Service.links=JSON.parse(JSON.stringify(e.GameMeta.graph.links)),this.d3Service.nodes&&this.d3Service.links&&(this.d3Service.sg=new YT(this.store,this.d3Service.nodes,this.d3Service.links,t.payload.options),this.d3Service.sg.ticker.subscribe(t=>{this.d3Service.ref&&this.d3Service.ref.markForCheck()})))}))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ui.h),i.ac(uc),i.ac(ik))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"graph_upsert",void 0),t})(),hN=(()=>{class t{constructor(t,e){this.store=t,this.actions$=e,this.immunity_left_remove_one=this.actions$.pipe(hc(Sb.REMOVE_ONE,Sb.UPSERT),Object(ka.a)(this.store),Nr(([t,e])=>{console.log(e.GameMeta.immunity_left),0!=e.GameMeta.immunity_left||e.GameMeta.endGame_state||this.store.dispatch(new rb({game_key:""+e.GameMeta.game_key}))}))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(Ui.h),i.ac(uc))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"immunity_left_remove_one",void 0),t})(),dN=(()=>{class t{constructor(t,e,n){this.actions$=t,this.store=e,this.notificationService=n,this.persistParticipant=this.actions$.pipe(hc(ub.UPSERT),Object(ka.a)(this.store),Nr(([t,e])=>{e.GameMeta.my_turn&&this.notificationService.info("\xc0 vous!")}))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(uc),i.ac(Ui.h),i.ac(g_))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"persistParticipant",void 0),t})(),fN=(()=>{class t{constructor(t,e,n,i){this.d3Service=t,this.store=e,this.actions$=n,this.afs=i,this.load=this.actions$.pipe(hc(db.UPSERT),Object(ka.a)(this.store),Nr(([t,e])=>{console.log("actions"),console.log(t),this.d3Service.initD3Service2()}))}}return t.\u0275fac=function(e){return new(e||t)(i.ac(ik),i.ac(Ui.h),i.ac(uc),i.ac(i_))},t.\u0275prov=i.Mb({token:t,factory:t.\u0275fac}),el([oc({dispatch:!1}),nl("design:type",Object)],t.prototype,"load",void 0),t})(),pN=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Fb,ih]]}),t})(),mN=(()=>{class t{}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},imports:[[Fb]]}),t})(),gN=(()=>{class t{constructor(t,e){$(e)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:t,providers:e.serverLoaded?[{provide:zb,useValue:Object.assign(Object.assign({},Bb),e)},{provide:Wb,useValue:n,multi:!0},{provide:qb,useValue:!0}]:[{provide:zb,useValue:Object.assign(Object.assign({},Bb),e)},{provide:Wb,useValue:n,multi:!0}]}}}return t.\u0275mod=i.Ob({type:t}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)(i.ac(qb),i.ac(i.C))},imports:[[pN,Ew,mN],pN,Ew,mN]}),t})();hu.add(D_,V_,L_,M_,F_,j_,U_,z_,q_,B_,W_,{prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},{prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},{prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]},{prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},{prefix:"fas",iconName:"caret-up",icon:[320,512,[],"f0d8","M288.662 352H31.338c-17.818 0-26.741-21.543-14.142-34.142l128.662-128.662c7.81-7.81 20.474-7.81 28.284 0l128.662 128.662c12.6 12.599 3.676 34.142-14.142 34.142z"]},{prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z"]},{prefix:"fas",iconName:"exclamation-triangle",icon:[576,512,[],"f071","M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"]},{prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"]},{prefix:"fas",iconName:"tasks",icon:[512,512,[],"f0ae","M139.61 35.5a12 12 0 0 0-17 0L58.93 98.81l-22.7-22.12a12 12 0 0 0-17 0L3.53 92.41a12 12 0 0 0 0 17l47.59 47.4a12.78 12.78 0 0 0 17.61 0l15.59-15.62L156.52 69a12.09 12.09 0 0 0 .09-17zm0 159.19a12 12 0 0 0-17 0l-63.68 63.72-22.7-22.1a12 12 0 0 0-17 0L3.53 252a12 12 0 0 0 0 17L51 316.5a12.77 12.77 0 0 0 17.6 0l15.7-15.69 72.2-72.22a12 12 0 0 0 .09-16.9zM64 368c-26.49 0-48.59 21.5-48.59 48S37.53 464 64 464a48 48 0 0 0 0-96zm432 16H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H208a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h288a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"]},{prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},{prefix:"fas",iconName:"square",icon:[448,512,[],"f0c8","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"]},{prefix:"fas",iconName:"language",icon:[640,512,[],"f1ab","M152.1 236.2c-3.5-12.1-7.8-33.2-7.8-33.2h-.5s-4.3 21.1-7.8 33.2l-11.1 37.5H163zM616 96H336v320h280c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24zm-24 120c0 6.6-5.4 12-12 12h-11.4c-6.9 23.6-21.7 47.4-42.7 69.9 8.4 6.4 17.1 12.5 26.1 18 5.5 3.4 7.3 10.5 4.1 16.2l-7.9 13.9c-3.4 5.9-10.9 7.8-16.7 4.3-12.6-7.8-24.5-16.1-35.4-24.9-10.9 8.7-22.7 17.1-35.4 24.9-5.8 3.5-13.3 1.6-16.7-4.3l-7.9-13.9c-3.2-5.6-1.4-12.8 4.2-16.2 9.3-5.7 18-11.7 26.1-18-7.9-8.4-14.9-17-21-25.7-4-5.7-2.2-13.6 3.7-17.1l6.5-3.9 7.3-4.3c5.4-3.2 12.4-1.7 16 3.4 5 7 10.8 14 17.4 20.9 13.5-14.2 23.8-28.9 30-43.2H412c-6.6 0-12-5.4-12-12v-16c0-6.6 5.4-12 12-12h64v-16c0-6.6 5.4-12 12-12h16c6.6 0 12 5.4 12 12v16h64c6.6 0 12 5.4 12 12zM0 120v272c0 13.3 10.7 24 24 24h280V96H24c-13.3 0-24 10.7-24 24zm58.9 216.1L116.4 167c1.7-4.9 6.2-8.1 11.4-8.1h32.5c5.1 0 9.7 3.3 11.4 8.1l57.5 169.1c2.6 7.8-3.1 15.9-11.4 15.9h-22.9a12 12 0 0 1-11.5-8.6l-9.4-31.9h-60.2l-9.1 31.8c-1.5 5.1-6.2 8.7-11.5 8.7H70.3c-8.2 0-14-8.1-11.4-15.9z"]},{prefix:"fas",iconName:"paint-brush",icon:[512,512,[],"f1fc","M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"]},{prefix:"fas",iconName:"lightbulb",icon:[352,512,[],"f0eb","M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"]},{prefix:"fas",iconName:"window-maximize",icon:[512,512,[],"f2d0","M464 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-16 160H64v-84c0-6.6 5.4-12 12-12h360c6.6 0 12 5.4 12 12v84z"]},{prefix:"fas",iconName:"stream",icon:[512,512,[],"f550","M16 128h416c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H16C7.16 32 0 39.16 0 48v64c0 8.84 7.16 16 16 16zm480 80H80c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16zm-64 176H16c-8.84 0-16 7.16-16 16v64c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-64c0-8.84-7.16-16-16-16z"]},{prefix:"fas",iconName:"book",icon:[448,512,[],"f02d","M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"]});let yN=(()=>{class t{}return t.\u0275mod=i.Ob({type:t,bootstrap:[QA]}),t.\u0275inj=i.Nb({factory:function(e){return new(e||t)},providers:[Dk,Db,o_,{provide:e_,useValue:{}},{provide:PA,useValue:{hasBackdrop:!1}},ik],imports:[[gN,Ck,r_,AA,Bv,Sv.initializeApp(o.firebaseConfig),aN,Q,pp,Jc,rN,ky,Zd,ry,YA,bI,XA,tN,Bk,Hd,nN,Ip,Bm,og,by,Fy,rI,mp,bu,ni,kt,G_,SI,Cc.forFeature([fN,dN,uN,$A,cN,lN,hN]),Ui.j.forFeature("GameMeta",Nb),Jc.forChild({loader:{provide:Rc,useFactory:H_,deps:[xi]},isolate:!0})]]}),t})();o.production&&Object(i.U)(),Ot().bootstrapModule(yN).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zwU1:function(t,e,n){t.exports=n.p+"logo.a82937df201cc6ef4a05.png"}},[[0,0]]]);